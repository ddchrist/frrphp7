id;id;Program_product;id;External_id;id;Element_Category;id;Element_name;id;State;id;Headline;id;Report_Type;id;ATM_Severity;id;Detected_Release;id;Originator_FullNm;id;Detection_Origin;id;Element_Nature;id;Reproducibility;id;ATM_Safety;id;ATM_Component_List;id;ATM_Functionality_List;id;ATM_Document_List;id;ATM_Impacted_Requirement;id;ATM_Phase_Stage;id;ATM_Product_Flag;id;Realisation_Resp_FullNm;id;Decision_Meeting_Type;id;Decision_Date;id;Decision_Auth_Rep_FullNm;id;Internal_priority;id;Realisation_Date;id;Target_Release;id;Postponed_Until;id;Realisation_Target_Date;id;Realisation_Release;id;Verification_Date;id;Verification_Resp_FullNm;id;Verified_Release;id;Verification_OK;id;ATM_Test_Reference;id;Closure_Date;id;Closure_Auth_Rep_FullNm;id;Delivered_Release;id;Closure_Reason;id;Closure_Description;id;Originator_Acceptance;id;ATM_Free_Keywords;id;Pcr_Creator_FullNm;id;Expertise;id;Detection_Phase;id;Injection_Phase;id;Children_Pcrs.id;id;Parent_Pcr.id;id;Continued_Pcr.id;id;Previous_Pcr.id;id;Processed_Pcr.id;id;Creation_Date;id;Decision_Description;id;Description;id;Identical_Pcrs.id;id
COMP00249898;COMP00249898;COOPANS;COMP00249898;B3.3 demo2 IRF 10510;COMP00249898;NONE;COMP00249898;NONE;COMP00249898;StartedWork;COMP00249898;ODS_CMD_ERROR at DCT to homonymous point;COMP00249898;Problem Report;COMP00249898;S4;COMP00249898;COOPANS_B3_3_3_1;COMP00249898;LEJAY Vincent;COMP00249898;;COMP00249898;Item;COMP00249898;Systematic;COMP00249898;;COMP00249898;"THCI
FDP_JFDP";COMP00249898;;COMP00249898;;COMP00249898;NA;COMP00249898;;COMP00249898;;COMP00249898;ATM User;COMP00249898;;COMP00249898;25 octobre 2016 14:42:33 GMT+02:00;COMP00249898;VEDEL Patrice;COMP00249898;Critical;COMP00249898;;COMP00249898;COOPANS_B3_3_3_4;COMP00249898;;COMP00249898;4 novembre 2016 01:00:00 GMT+02:00;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;Free tests;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;"B3_3_DEV
ECO343
BCT2";COMP00249898;LEJAY Vincent;COMP00249898;Software;COMP00249898;System Factory Validation;COMP00249898;;COMP00249898;COMP00250505;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;14 octobre 2016 09:50:59 GMT+02:00;COMP00249898;"DECISION
- Direction decided:
- Other activities identified:
CUSTOMER
- Arguments to give less priority:
- Why the PCR isn't a problem but an enhancement:";COMP00249898;"14/10/16 demo ECO343 to COOPANS


IRF 10510
Rig VVTT
7:30 Callsign FAN10A

Dataset contains three OS points
When input DCT to OS, an error occurs ""NAK received: SYNTAX_ODS_CMD_ERROR""



Other case: IRF 10520
Elastic vector to a homonym point (RAM) resulted in error ""SYNTAX_ODS_CMD_ERROR"". Elastic vectors to other unique points worked OK

L.MOLIMARD 21/10/2016
-----------------------------
Perform a DCT to an unkown point (YUY)
""NAK received: SYNTAX_ODS_CMD_ERROR"" is raised (NOK)
instead of FPL_AMENDEMENT_UNKOWN_POINT";COMP00249898;;COMP00249898
COMP00249898;COMP00249898;COOPANS;COMP00249898;B3.3 demo2 IRF 10510;COMP00249898;NONE;COMP00249898;NONE;COMP00249898;StartedWork;COMP00249898;ODS_CMD_ERROR at DCT to homonymous point;COMP00249898;Problem Report;COMP00249898;S4;COMP00249898;COOPANS_B3_3_3_1;COMP00249898;LEJAY Vincent;COMP00249898;;COMP00249898;Item;COMP00249898;Systematic;COMP00249898;;COMP00249898;"THCI
FDP_JFDP";COMP00249898;;COMP00249898;;COMP00249898;NA;COMP00249898;;COMP00249898;;COMP00249898;ATM User;COMP00249898;;COMP00249898;25 octobre 2016 14:42:33 GMT+02:00;COMP00249898;VEDEL Patrice;COMP00249898;Critical;COMP00249898;;COMP00249898;COOPANS_B3_3_3_4;COMP00249898;;COMP00249898;4 novembre 2016 01:00:00 GMT+02:00;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;Free tests;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;"B3_3_DEV
ECO343
BCT2";COMP00249898;LEJAY Vincent;COMP00249898;Software;COMP00249898;System Factory Validation;COMP00249898;;COMP00249898;COMP00250506;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;;COMP00249898;14 octobre 2016 09:50:59 GMT+02:00;COMP00249898;"DECISION
- Direction decided:
- Other activities identified:
CUSTOMER
- Arguments to give less priority:
- Why the PCR isn't a problem but an enhancement:";COMP00249898;"14/10/16 demo ECO343 to COOPANS


IRF 10510
Rig VVTT
7:30 Callsign FAN10A

Dataset contains three OS points
When input DCT to OS, an error occurs ""NAK received: SYNTAX_ODS_CMD_ERROR""



Other case: IRF 10520
Elastic vector to a homonym point (RAM) resulted in error ""SYNTAX_ODS_CMD_ERROR"". Elastic vectors to other unique points worked OK

L.MOLIMARD 21/10/2016
-----------------------------
Perform a DCT to an unkown point (YUY)
""NAK received: SYNTAX_ODS_CMD_ERROR"" is raised (NOK)
instead of FPL_AMENDEMENT_UNKOWN_POINT";COMP00249898;;COMP00249898
COMP00249901;COMP00249901;COOPANS;COMP00249901;IRF_TEST_AT1180;COMP00249901;NONE;COMP00249901;NONE;COMP00249901;Analysed;COMP00249901;IRF_TEST_AT1180 - Unexpected exception raised during FDP start due to missing billing file.;COMP00249901;Problem Report;COMP00249901;S4;COMP00249901;COOPANS_B3_2_9_2;COMP00249901;MARTIN Cyril;COMP00249901;;COMP00249901;Item;COMP00249901;Systematic;COMP00249901;;COMP00249901;FDP;COMP00249901;;COMP00249901;;COMP00249901;EUR-BILLING-001;COMP00249901;;COMP00249901;;COMP00249901;ATM User;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;SHADOW B3_2_9_2;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;IRF_TEST_AT1180;COMP00249901;MARTIN Cyril;COMP00249901;System;COMP00249901;System Site Validation;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;;COMP00249901;14 octobre 2016 10:02:44 GMT+02:00;COMP00249901;;COMP00249901;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	:Annemarie SCHMIDT

SYSTEM data
 - Rig		: TTF3
 - Dataset		: B3_2_9_T2_V1
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: /home/TLOG/TLOG_SaveProblems/SITE_ACG/IRF_TEST_AT1180/
 - Typical time	: 14:00:00 the 12/10/2016
 - Typical callsign	: 
 - Typical FPL	: 


IRF
---
#IRF no.:TEST_AT1180
#Date:12-10-2016
#Time:14:00:00
#Originator:Annemarie.SCHMIDT@austrocontrol.at
#CWP no.:P n/a
#Test ID:
#Rig ID:TTF3
#SW Version:B3_2_9_2
#Dataset:B3_2_9_T2_V1
#TestSession:Shadow B3_2_9_2
#LastTimeStored:2016-10-13 16:21:38
#IRF Title:TopSky - Unknown - FDP: FileNotFoundException during Application Start
#Details:Call Sign:-
Sector: -
Problem:  FDP: FileNotFoundException during Application Start
Logfile: VVTTF3/2016_10_12_pm/vvotfdp1asvotsv/FDPFPL_101.txt.0

...
INFO: -------------------------------------------------------------
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on listener of MISC_FPL_FFS_TO_FDP_MSG_FIFOFDP01_OPER [InputFifoListener]
FPL : Stand-by received a BILLING_REQUEST_TO_SBY
Exception dumped at: Wed Oct 12 14:00:00 UTC 2016
java.io.FileNotFoundException: /usr/system/run/oper/out_c_1612101400.lst (No such file or directory)
        at java.io.FileInputStream.open(Native Method)
        at java.io.FileInputStream.<init>(FileInputStream.java:106)
        at com.thales.atms.fds.wrapper.ubss.io.IocallManagement.iocMngCopySynchronous(IocallManagement.java:98)
        at com.thales.atms.fds.billing.LineBillingProcessor.storeBillingFile(LineBillingProcessor.java:526)
        at com.thales.atms.fds.billing.LineBillingProcessor.processNewRouterRequest(LineBillingProcessor.java:438)
        at com.thales.atms.fds.billing.LineBillingProcessor.processFromOpsMessage(LineBillingProcessor.java:267)
        at com.thales.atms.fds.input.processing.FromOpsMiscFifoMessageProcessor.processImpl(FromOpsMiscFifoMessageProcessor.java:132)
        at com.thales.atms.fds.input.processing.FromOpsMiscFifoMessageProcessor.processImpl(FromOpsMiscFifoMessageProcessor.java:44)
        at com.thales.atms.fds.input.processing.BaseFifoMessageProcessor.process(BaseFifoMessageProcessor.java:24)
        at com.thales.atms.expedit.ipc.listener.AbstractInputFifoListener.newAvailableEvents(AbstractInputFifoListener.java:80)
        at com.thales.atms.expedit.app.AbstractUbssApplication.start(AbstractUbssApplication.java:301)
        at com.thales.atms.fds.FdpMain.main(FdpMain.java:39)
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 12, 2016 2:00:01 PM com.thales.atms.expedit.task.AbstractTaskScheduler run
INFO: Running task id [134] [QueuedEvent [FPL uid=134, FPL event id=2]].
Oct 12, 2016 2:00:01 PM com.thales.atms.expedit.app.AbstractUbssApplication start
...

What was expected?:



CONTEXTUAL INFORMATION
---------------------------------

Exception raised during FDP start.


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

Exception raised during FDP start.


EXPECTED BEHAVIOR
--------------------------


No Exception raised during FDP start.

OPERATIONAL CONSEQUENCES
-------------------------------------

None.


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( ) /  Not directly perceptible (X) / Hidden ( )
- Existing Workaround:  Yes ( ) / No (X)
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================


t 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on listener of MISC_FPL_FFS_TO_FDP_MSG_FIFOFDP01_OPER [InputFifoListener]
FPL : Stand-by received a BILLING_REQUEST_TO_SBY
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on listener of MISC_FPL_FFS_TO_FDP_MSG_FIFOFDP01_OPER [InputFifoListener]
FPL : Stand-by received a BILLING_REQUEST_TO_SBY
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on listener of MISC_FPL_FFS_TO_FDP_MSG_FIFOFDP01_OPER [InputFifoListener]
FPL : Stand-by received a BILLING_REQUEST_TO_SBY
Exception dumped at: Wed Oct 12 14:00:00 UTC 2016
java.io.FileNotFoundException: /usr/system/run/oper/out_c_1612101400.lst (No such file or directory)
        at java.io.FileInputStream.open(Native Method)
        at java.io.FileInputStream.<init>(FileInputStream.java:106)
        at com.thales.atms.fds.wrapper.ubss.io.IocallManagement.iocMngCopySynchronous(IocallManagement.java:98)
        at com.thales.atms.fds.billing.LineBillingProcessor.storeBillingFile(LineBillingProcessor.java:526)
        at com.thales.atms.fds.billing.LineBillingProcessor.processNewRouterRequest(LineBillingProcessor.java:438)
        at com.thales.atms.fds.billing.LineBillingProcessor.processFromOpsMessage(LineBillingProcessor.java:267)
        at com.thales.atms.fds.input.processing.FromOpsMiscFifoMessageProcessor.processImpl(FromOpsMiscFifoMessageProcessor.java:132)
        at com.thales.atms.fds.input.processing.FromOpsMiscFifoMessageProcessor.processImpl(FromOpsMiscFifoMessageProcessor.java:44)
        at com.thales.atms.fds.input.processing.BaseFifoMessageProcessor.process(BaseFifoMessageProcessor.java:24)
        at com.thales.atms.expedit.ipc.listener.AbstractInputFifoListener.newAvailableEvents(AbstractInputFifoListener.java:80)
        at com.thales.atms.expedit.app.AbstractUbssApplication.start(AbstractUbssApplication.java:301)
        at com.thales.atms.fds.FdpMain.main(FdpMain.java:39)
Oct 12, 2016 2:00:00 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 12, 2016 2:00:01 PM com.thales.atms.expedit.task.AbstractTaskScheduler run
INFO: Running task id [134] [QueuedEvent [FPL uid=134, FPL event id=2]].
Oct 12, 2016 2:00:01 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 12, 2016 2:00:01 PM com.thales.atms.expedit.app.AbstractUbssApplication start

";COMP00249901;;COMP00249901
COMP00249902;COMP00249902;COOPANS;COMP00249902;B3.3 Demo2 IRF 10511;COMP00249902;NONE;COMP00249902;NONE;COMP00249902;Submitted;COMP00249902;OS unknown even if defined;COMP00249902;Problem Report;COMP00249902;S4;COMP00249902;COOPANS_B3_3_3_1;COMP00249902;LEJAY Vincent;COMP00249902;;COMP00249902;Item;COMP00249902;Systematic;COMP00249902;;COMP00249902;FDP;COMP00249902;;COMP00249902;;COMP00249902;route analysis;COMP00249902;;COMP00249902;;COMP00249902;ATM User;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;Critical;COMP00249902;;COMP00249902;COOPANS_B3_3_3_4;COMP00249902;;COMP00249902;4 novembre 2016 01:00:00 GMT+02:00;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;ECO343 free tests;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;"ECO343
B3_3_DEV
BCT2";COMP00249902;LEJAY Vincent;COMP00249902;;COMP00249902;System Factory Validation;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;;COMP00249902;14 octobre 2016 10:07:53 GMT+02:00;COMP00249902;;COMP00249902;"14/10/16 - Demo ECO343 to COOPANS - IRF 10511

07:25 C/S ADAM rig VVTT

Create a flight plan with route ""OS DCT AAL DCT TL DCT""
ADEP EGGP, ADES EKAH
FPL fails with error ""OS is unknown in the route""";COMP00249902;;COMP00249902
COMP00249906;COMP00249906;COOPANS;COMP00249906;3_NAVIAIR_360;COMP00249906;NONE;COMP00249906;NONE;COMP00249906;Analysed;COMP00249906;BEST - pilot positions are not responsive;COMP00249906;Problem Report;COMP00249906;S3;COMP00249906;COOPANS_B3_1_8_1;COMP00249906;METUGUI Abdelilah;COMP00249906;;COMP00249906;Item;COMP00249906;Random;COMP00249906;;COMP00249906;BEST;COMP00249906;;COMP00249906;;COMP00249906;NoReference ;COMP00249906;;COMP00249906;;COMP00249906;ATM User;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;TrainingExercice;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;JMMO;COMP00249906;METUGUI Abdelilah;COMP00249906;System;COMP00249906;System Exploitation;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;;COMP00249906;14 octobre 2016 10:21:38 GMT+02:00;COMP00249906;;COMP00249906;"=========================
 PCR Description
=========================

AUTHOR / Witnesses    : A.METUGUI Copenhagen Denmark (+45 3247 7760)

SYSTEM data
 - Rig        : NAVIAIR CCTTF1. COOPANS System version COOPANS_B3_1_8_1
 - Dataset  and REPLAY  : cpr1tlg01sv:/home/TLOG/sysref/SaveProblems/NAVIAIR/CPH/COMP00249906/
 - Sectorisation / Role    :
 - BEST release: 2.42

TEST data
 - Aems        :
 - Ptg        :

PROBLEM data
 - Save_PB exists    : No
 - Typical time    :  
 - Typical callsign    :
 - Typical FPL    :

IRF DESCRIPTION
---------------------
The pilots have observed that slowness with specific exercise on the version 2.42

CONTEXTUAL INFORMATION
---------------------------------
Controller Training. BEST exercise.


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
When a pilot is operating on a flight with the referenced exercise, the positions slows down and become not responsive enough for interactions.

EXPECTED BEHAVIOR
--------------------------
No slowness and the positions shall be responsive with an acceptable delay 
 

OPERATIONAL CONSEQUENCES
-------------------------------------
slowness of the pilot positions 



WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:    Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:                Yes ( ) / No (X )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================

In the attachment , please find  the replay from the exercise or under the location :cpr1tlg01sv:/home/TLOG/sysref/SaveProblems/NAVIAIR/CPH/COMP00249906/

We have tried to run the replay WITH coopans using the files, but not in replay mode.
During this test we didnt encounter any problem.

Running Another exercise with 7 pilots (as seen in the config.txt file) and they did not report any problem.

Running the same specific exercise (but without some background traffic 120 flights) the next days did not freeze the exercise, but the pilot positions for that exercise were not very responsive.

E.g. using the Show route option when right clicking on a track several seconds to show the route (reported up to 30-40 seconds)

After downgrading to 2.37.04.03 there was no problem anymore. As this version is missing an important feature for the other exercise we have just upgraded to 2.42 again. The exercise that caused the problems is not in use for the moment.

There is a lot of helicopter traffic and slow VFR in this exercise.  That is the key difference from the other exercise running.

20/10/2016 A.METUGUI
----------------------------
On version 2.42+2.44, from callsign list , when opening the pre-condition window  here under the consequences:
-	the pilot positions become not responsive
-	Opening the route from the track become not available (waiting 2minutes to have the flight leg)
-	the clock update becomes completely incorrect (so slow comparing to other pilot positions)
-	When showing the window task manager SOB process gets indefinitely memory allocation which leads to think that it might happen a memory leak if the precondition window kept open.";COMP00249906;;COMP00249906
COMP00249918;COMP00249918;COOPANS;COMP00249918;;COMP00249918;NONE;COMP00249918;NONE;COMP00249918;StartedWork;COMP00249918;To keep None status for C_Informed;COMP00249918;Problem Report;COMP00249918;S4;COMP00249918;COOPANS_B3_1_9;COMP00249918;PAQUAULT Dominique;COMP00249918;;COMP00249918;Item;COMP00249918;Systematic;COMP00249918;;COMP00249918;"SYSTEM_MODEL
FDP_FDP";COMP00249918;;COMP00249918;IRS-tbu;COMP00249918;COORD CDC;COMP00249918;;COMP00249918;;COMP00249918;ATM User;COMP00249918;;COMP00249918;25 octobre 2016 17:15:07 GMT+02:00;COMP00249918;FAVIER Pierre;COMP00249918;High;COMP00249918;;COMP00249918;COOPANS_B3_4_0;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;xxx;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;PAQUAULT Dominique;COMP00249918;System;COMP00249918;Coding;COMP00249918;;COMP00249918;COMP00250529;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;14 octobre 2016 11:09:52 GMT+02:00;COMP00249918;Implement as per Analysis in SM COO_B3_4_0_2;COMP00249918;" is requested to keep the none status  in COORD_FPL_STORE for 

n Data:cdc::IAC_COORD_FPL_TYPES:
=======================
- Add enumeration LFUNC_INF_COL_T [
  COL1, COL2, COL3
  variability feature ECO-345
}

i.e [
  NONE, COL1, COL2, COL3";COMP00249918;;COMP00249918
COMP00249918;COMP00249918;COOPANS;COMP00249918;;COMP00249918;NONE;COMP00249918;NONE;COMP00249918;StartedWork;COMP00249918;To keep None status for C_Informed;COMP00249918;Problem Report;COMP00249918;S4;COMP00249918;COOPANS_B3_1_9;COMP00249918;PAQUAULT Dominique;COMP00249918;;COMP00249918;Item;COMP00249918;Systematic;COMP00249918;;COMP00249918;"SYSTEM_MODEL
FDP_FDP";COMP00249918;;COMP00249918;IRS-tbu;COMP00249918;COORD CDC;COMP00249918;;COMP00249918;;COMP00249918;ATM User;COMP00249918;;COMP00249918;25 octobre 2016 17:15:07 GMT+02:00;COMP00249918;FAVIER Pierre;COMP00249918;High;COMP00249918;;COMP00249918;COOPANS_B3_4_0;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;xxx;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;PAQUAULT Dominique;COMP00249918;System;COMP00249918;Coding;COMP00249918;;COMP00249918;COMP00250530;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;;COMP00249918;14 octobre 2016 11:09:52 GMT+02:00;COMP00249918;Implement as per Analysis in SM COO_B3_4_0_2;COMP00249918;" is requested to keep the none status  in COORD_FPL_STORE for 

n Data:cdc::IAC_COORD_FPL_TYPES:
=======================
- Add enumeration LFUNC_INF_COL_T [
  COL1, COL2, COL3
  variability feature ECO-345
}

i.e [
  NONE, COL1, COL2, COL3";COMP00249918;;COMP00249918
COMP00249921;COMP00249921;COOPANS;COMP00249921;SITE_CCL_3_1535;COMP00249921;NONE;COMP00249921;NONE;COMP00249921;Solved;COMP00249921;Error message UNKNOWN_FIX raised without the name of the unknown fix in the error message;COMP00249921;Problem Report;COMP00249921;S4;COMP00249921;COOPANS_B3_2_9_2;COMP00249921;BECHENNEC Thomas;COMP00249921;;COMP00249921;Item;COMP00249921;Systematic;COMP00249921;;COMP00249921;FDP_PRONG;COMP00249921;;COMP00249921;;COMP00249921;TBD;COMP00249921;;COMP00249921;;COMP00249921;ATM User;COMP00249921;;COMP00249921;24 octobre 2016 11:37:33 GMT+02:00;COMP00249921;CASTAIGNAU Guillaume;COMP00249921;Critical;COMP00249921;24 octobre 2016 13:52:15 GMT+02:00;COMP00249921;COOPANS_B3_2_10;COMP00249921;;COMP00249921;13 octobre 2016 00:00:00 GMT+02:00;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;CCL VALIDATION B3_2_9_2;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;BECHENNEC Thomas;COMP00249921;Software;COMP00249921;System Site Validation;COMP00249921;Coding;COMP00249921;COMP00250420;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;;COMP00249921;14 octobre 2016 11:18:08 GMT+02:00;COMP00249921;"DECISION
- Direction decided:
- Other activities identified:
CUSTOMER
- Arguments to give less priority:
- Why the PCR isn't a problem but an enhancement:";COMP00249921;"============
PCR Description
============

AUTHOR / Witnesses  : Thomas BECHENNEC

SYSTEM data
 - Rig               : ZAT1
 - Dataset        : OPER_TTF1_161013_NDFL_B3_2
 - Secto / Role  : -

TEST data
 - Aems : N/A
 - Ptg    : N/A

PROBLEM data
 - Save_PB exists  : No, issue is systematically reproduced on B3_2_9_2
 - Dataset location : cpr1tlg01sv:/home/TLOG/sysref/SaveProblems/CCL/DATASETs/OPER_TTF1_161013_NDFL_B3_2.tgz
 - Typical time       : 12/10/2016   at  09:40:12
 - Typical callsign   : RYR6116
 - Typical FPL        : -


CONTEXTUAL INFORMATION
---------------------------
IRF CCL 1535


OBSERVED BEHAVIOUR (ACTION / RESULT)
----------------------------------------
CCL comment: ""The error message UNKNOWN_FIX is raised, but at first sight (and without consulting the dataset) the operator has no idea what to correct for the message to be applied. Either the error message is wrong (and should not be raised) or, if it shall be raised, it shall be a clear message (e.g. ""ODINA is unknown"" or something similar). Many messages are queued in B3_2 with this error, and trying to guess what needs to be changed for the message to be accepted is not feasible operationally. "" (NOK).


EXPECTED BEHAVIOR
--------------------
Either replace the error UNKNOWN_FIX by ROUTE_IS_NOT_CONTINOUS, or add the unknown item with the error UNKNOWN_FIX.


OPERATIONAL CONSEQUENCES
-----------------------------
The operator has difficulty to find which fix is the source of the issue in the route.


WEIGHTING FACTORS
---------------------
- Salience => The problem seemed to you : Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )


========================
 PLAIN TECHNICAL DESCRIPTION
========================
0) In dataset we have:
** ROUTE_IS_NOT_CONTINOUS
$ is unknown in route
...
** UNKNOWN_FIX
Unknown fix $  

The following IFPL is received:

-TITLE IFPL
 -BEGIN ADDR 
-FAC LIIRZEZX
 -FAC CFMUTACT
 -FAC EDDAYGCD
 -FAC LBSFATCX
 -FAC LBSFATCI
 -FAC LBSFSTAT
 -FAC LSAZZQZX
 -FAC LSAZZQZG
 -FAC LIMMZQZX
 -FAC LIIRZPZM
 -FAC LIMMZEZA
 -FAC LIPPZEZA
 -FAC LIPPZQZX
 -FAC LFPBYRYD
 -FAC LFFFSTIP
 -FAC LFSTZPZX
 -FAC LFEEZGZX
 -FAC EDDZYNYS
 -FAC LYZZEDXX
 -FAC EDSBZTZX
 -FAC EDGGZQZA
 -FAC EDSBYQYX
 -FAC LYZZEEXX
 -FAC EDDAYGLZ
 -FAC EDDXYIYT
 -FAC LQSBZQZX
 -FAC LDZOZQZY
 -FAC LDZOZQZX
 -FAC LDZOZQZQ
 -FAC LYZZEBXX
 -END ADDR 
-ADEP EDSB
 -ADES LBSF
 -ARCID RYR6116
 -ARCTYP B738
 -CEQPT SDGIRWYZ
 -EOBD 161012
 -EOBT 1100
 -FILTIM 120322
 -IFPLID AA57558418
 -ORGNID RYRAOCC
 -ORIGIN -NETWORKTYPE SITA -FAC DUBOEFR
 -SEQPT SB1
 -WKTRC M
 -COM TCAS
 -OPR RYANAIR
 -PBN B1D1S2
 -REG EIEBD
 -RMK PAX SCHEDULED FLIGHT CONTACT +353 1 9451360 TCAS
 -RVR 200
 -SRC FPL
 -TALT EDFH
 -TTLEET 0207
 -RFL F180
 -SPEED N0340
 -FLTRUL I
 -FLTTYP S
 -ROUTE N0340F180 STR5N STR R11 POGOL/N0351F210 UN852 LASAT UN491
 BEGAR/N0358F230 UN491 LENGI/N0429F350 UN491 TRA UN850 ODINA UM727
 SRN UL615 ADOSA UL612 CHI UL614 NISVA
 -ALTRNT1 LBPD
 -EETFIR LFEE 0002
 -EETFIR LFFF 0012
 -EETFIR EDGG 0021
 -EETFIR LSAS 0026
 -EETFIR LIMM 0039
 -EETFIR LDZO 0105
 -EETFIR LQSB 0120
 -EETFIR LYBA 0138
 -EETFIR LBSR 0157
 -BEGIN RTEPTS 
-PT -PTID EDSB -FL F004 -ETO 161012110500
 -PT -PTID STR -FL F180 -ETO 161012111231
 -PT -PTID OBORN -FL F180 -ETO 161012111452
 -PT -PTID POGOL -FL F180 -ETO 161012111803
 -PT -PTID LASAT -FL F210 -ETO 161012112010
 -PT -PTID BEGAR -FL F215 -ETO 161012112600
 -PT -PTID LENGI -FL F230 -ETO 161012112940
 -PT -PTID TRA -FL F264 -ETO 161012113155
 -PT -PTID RIPUS -FL F305 -ETO 161012113511
 -PT -PTID GERSA -FL F329 -ETO 161012113653
 -PT -PTID SOSON -FL F350 -ETO 161012114010
 -PT -PTID DEGAD -FL F350 -ETO 161012114128
 -PT -PTID ODINA -FL F350 -ETO 161012114400
 -PT -PTID SRN -FL F350 -ETO 161012114749
 -PT -PTID DESIP -FL F350 -ETO 161012114821
 -PT -PTID LEGLO -FL F350 -ETO 161012115138
 -PT -PTID OSKOR -FL F350 -ETO 161012115325
 -PT -PTID NEVNI -FL F350 -ETO 161012115500
 -PT -PTID ELTAR -FL F350 -ETO 161012115603
 -PT -PTID IDREK -FL F350 -ETO 161012115702
 -PT -PTID ADOSA -FL F350 -ETO 161012115805
 -PT -PTID ALBET -FL F350 -ETO 161012120059
 -PT -PTID CHI -FL F350 -ETO 161012120547
 -PT -PTID AGOMO -FL F350 -ETO 161012120829
 -PT -PTID LABIN -FL F350 -ETO 161012121000
 -PT -PTID PUL -FL F350 -ETO 161012121400
 -PT -PTID DOLOM -FL F350 -ETO 161012121843
 -PT -PTID PALEZ -FL F350 -ETO 161012122159
 -PT -PTID SONIK -FL F350 -ETO 161012122500
 -PT -PTID ELTIB -FL F350 -ETO 161012122835
 -PT -PTID SOLGU -FL F350 -ETO 161012123308
 -PT -PTID KEB -FL F350 -ETO 161012123722
 -PT -PTID MITNO -FL F350 -ETO 161012124135
 -PT -PTID PESAK -FL F350 -ETO 161012124300
 -PT -PTID TORTO -FL F350 -ETO 161012124418
 -PT -PTID RAMAP -FL F350 -ETO 161012125056
 -PT -PTID GINAM -FL F350 -ETO 161012125344
 -PT -PTID NISVA -FL F307 -ETO 161012130200
 -PT -PTID LBSF -FL F017 -ETO 161012131855
 -END RTEPTS 
-SID STR5N
 -ATSRT R11 STR POGOL
 -RFL F210 POGOL
 -SPEED N0351 POGOL
 -ATSRT UN852 POGOL LASAT
 -ATSRT UN491 LASAT BEGAR
 -RFL F230 BEGAR
 -SPEED N0358 BEGAR
 -ATSRT UN491 BEGAR LENGI
 -RFL F350 LENGI
 -SPEED N0429 LENGI
 -ATSRT UN491 LENGI TRA
 -ATSRT UN850 TRA ODINA
 -ATSRT UM727 ODINA SRN
 -ATSRT UL615 SRN ADOSA
 -ATSRT UL612 ADOSA CHI
 -ATSRT UL614 CHI NISVA


1) Upon this IFPL at 09:40:12, received ROUTE is :
... UN491 LENGI/N0429F350 UN491 TRA UN850 ODINA UM727 SRN UL615 ...
=> ""Message is queued because UM727 is unknown item.                       --> ROUTE_IS_NOT_CONTINOUS""
This is OK according to EUR-FPLCHK-030, since UM727 is an item not recognized by the system located in the route between 2 known items.
IFPL is rejected with error ""UM727 is unknown in route"" for the operator (OK)

2) However, when UM727 is removed from the route, the IFPL is still rejected, but with error  message ""UNKNOWN FIX"" and error message does not contain the name of the unknown fix (NOK, new PCR COMP00249921)

This seems to be due to the fact that ODINA is an unknown fix defined as unknown point in route UN850 in dataset (ROUTES.ASF file)

3) Upon IFPL at 13:12:56, the route is modified so that the part between TRA ad SRN is removed. The FPL is correctly created. (OK)
";COMP00249921;;COMP00249921
COMP00249931;COMP00249931;COOPANS;COMP00249931;;COMP00249931;NONE;COMP00249931;NONE;COMP00249931;Submitted;COMP00249931;core ODS during recording snapshot after microphone check command;COMP00249931;Problem Report;COMP00249931;S4;COMP00249931;COOPANS_B3_3_3_3;COMP00249931;AUDOUBERT Sabine;COMP00249931;;COMP00249931;Item;COMP00249931;Systematic;COMP00249931;;COMP00249931;THCI;COMP00249931;;COMP00249931;;COMP00249931;None;COMP00249931;;COMP00249931;;COMP00249931;ATM User;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;COOPANS_B3_3_3_4;COMP00249931;;COMP00249931;4 novembre 2016 01:00:00 GMT+02:00;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;GA CPDLC;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;"B3_3_DEV
ECO336
BCT2";COMP00249931;AUDOUBERT Sabine;COMP00249931;;COMP00249931;Software Integration;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;;COMP00249931;14 octobre 2016 12:02:46 GMT+02:00;COMP00249931;;COMP00249931;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	:

SYSTEM data
 - Rig		: CPR6
 - Dataset		: EKDK_B3_3_GA
 - Secto / Role	: cpr6cwp61sv CACC

TEST data
 - Aems		: GA
 - Ptg		: GA

PROBLEM data
 - Save_PB exists	: 
 - Typical time	: 
 - Typical callsign	: 
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------
During the CDPLC Test Sheet of the Global Assessment 



OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

Near 2 minutes after the Microphone Check command, the mmi restarts and a core is generated
=> cf Yann Moelo : during the dump of recording snapshot
(gdb) where
#0  0x00007f98f1eb4da1 in __strlen_sse2 () from /lib64/libc.so.6
#1  0x00007f98f509f506 in YInheritBinWrite () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libIDM.so.1
#2  0x00007f98f503e251 in YBinWriteDumpHandler () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libIDM.so.1
#3  0x00007f98f701f73f in DialogDumpHandler () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libRlib.so.1
#4  0x00007f98f7015d93 in StatusdumpCallback () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libRlib.so.1
#5  0x00007f98f401c626 in DoOtherSources () from /lib64/libXt.so.6
#6  0x00007f98f401d1df in XtAppNextEvent () from /lib64/libXt.so.6
#7  0x00007f98f4fed3ef in YiNextEvent () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libIDM.so.1
#8  0x00007f98f701ef7a in RR_DefaultProcessEvent () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libRlib.so.1
#9  0x00007f98f4fed60a in YiReadEvent () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libIDM.so.1
#10 0x00007f98f51038af in YEventLoop () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libIDM.so.1
#11 0x00007f98f512075e in DM_EventLoop () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libIDM.so.1
#12 0x00007f98f70179fe in ODS_RrRun () from /atgl/products/ods/linux_x86_64/odsADE-4.1.32-pc-centos-7.2-64b-gcc-4.8.5/lib/libRlib.so.1
#13 0x00000000004d7227 in AppMain (argc=3, argv=<optimized out>) at /NOSAVE/coopans/c_integ/coop_i/COOPANS_B3_3_IRSNG_NMA/src/thci/MAIN/SRC/MAI_main.C:971
#14 0x00000000004cfd1a in main ()


EXPECTED BEHAVIOR
--------------------------




OPERATIONAL CONSEQUENCES
-------------------------------------




WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( ) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No ( )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================";COMP00249931;;COMP00249931
COMP00249981;COMP00249981;COOPANS;COMP00249981;SCVF B3_118;COMP00249981;NONE;COMP00249981;NONE;COMP00249981;Solved;COMP00249981;"Flight plan queued with ""Route direction is ambiguous"" reason";COMP00249981;Problem Report;COMP00249981;S4;COMP00249981;COOPANS_B3_2_9_2;COMP00249981;EDOUARD Paul;COMP00249981;;COMP00249981;Item;COMP00249981;Systematic;COMP00249981;;COMP00249981;FDP_PRONG;COMP00249981;;COMP00249981;;COMP00249981;EUR-FPLCHK-030;COMP00249981;;COMP00249981;;COMP00249981;ATM User;COMP00249981;;COMP00249981;19 octobre 2016 16:51:55 GMT+02:00;COMP00249981;CASTAIGNAU Guillaume;COMP00249981;Critical;COMP00249981;24 octobre 2016 13:51:29 GMT+02:00;COMP00249981;COOPANS_B3_2_10;COMP00249981;;COMP00249981;13 octobre 2016 00:00:00 GMT+02:00;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;System experimentation;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;EDOUARD Paul;COMP00249981;System;COMP00249981;System Experimentation;COMP00249981;Coding;COMP00249981;COMP00250241;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;;COMP00249981;14 octobre 2016 17:28:17 GMT+02:00;COMP00249981;"DECISION
- Direction decided:
- Other activities identified:
CUSTOMER
- Arguments to give less priority:
- Why the PCR isn't a problem but an enhancement:";COMP00249981;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: P. Edouard / K. Fox

SYSTEM data
 - Rig		: SHCVF
 - Dataset		: SHCV_TST_B3_2_D29
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: Yes
 - Typical time	: 14/10/2016, 04h01m24s
 - Typical callsign	: AAL735
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------
A large amount of flight plans is sent to queue since version B3.2.9.
The same flight plans are not queued in OPS (B3.1.8.1).



OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
At 04h01m26s, the system receives a FPL message for AAL735 flight creation. 
The AAL735 flight route is : ASMIM L975 WAL L10 PENIL UL70 BAGSO ...
The flight plan creation and sent to queue with the following message : Route L975 direction is ambiguous  --> ROUTE_DIRECTION_IS_AMBIGUOUS

The same thing happen for a lot of different other flights (ex : ACA839 at 04h37m06s).
Note that each time this happen, the airway is the first known element of the route.

EXPECTED BEHAVIOR
--------------------------
These flight plans should be created.



OPERATIONAL CONSEQUENCES
-------------------------------------
A lot of flight plans are sent to queue and are not automatically created in the system.



WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes (X) / No ( )
- Workaround description (if any): Remove the unknown part of the route before the airway. In that case the airway is created with success (in our example : remove ASMIM point from the route).


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================
The dataset used is available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/DATASETs
Traces are available on Rungis FTP  : /home/TLOG/TLOG_SaveProblems/SITE_IAA/SHANNON/COMP00249981.tar.bz2.
The AAL735 FPL message is received at 04h01m24s, and is automatically queued: 

FDP_ROUTER : MESSAGE RECEPTION on AFTN at 040124
FDP_ROUTER : MESSAGE RECEPTION : Message text is : BSI939 140401
FF EISNZOZX
140401 KTULAALD
(FPL-AAL735-IS
-A332/H-SDE3GHIJ5M1RWXYZ/LB2D1
-EGCC1000
-N0472F400 ASMIM L975 WAL L10 PENIL UL70 BAGSO DCT 
DOGAL/M082F400  NATD TUDEP/N0462F400 N398A TOPPS DCT 
BGR/N0369F200 J49 ALB DCT DNY/N0381F120 SPUDS3
-KPHL0720 KBWI
-PBN/A1B1C1D1L1O1S2   NAV/RNVD1E2A1 DAT/1FANSP2PDC SUR/260B    
 DOF/161014 REG/N293AY EET/EISN0024 EGGX0102 020W0124
 CZQX0208 040W0255 050W0347 TUDEP0406 TOPPS0549 SEL/BRKS
 CODE/A300B6
)

SEND_TO_OP_QUEUE: For Text   = (FPL-AAL735-IS
-A332/H-SDE3GHIJ5M1RWXYZ/LB2D1
-EGCC1000
-N0472F400 ASMIM L975 WAL L10 PENIL UL70 BAGSO DCT 
DOGAL/M082F400  NATD TUDEP/N0462F400 N398A TOPPS DCT 
BGR/N0369F200 J49 ALB DCT DNY/N0381F120 SPUDS3
-KPHL0720 KBWI
-PBN/A1B1C1D1L1O1S2   NAV/RNVD1E2A1 DAT/1FANSP2PDC SUR/260B    
 DOF/161014 REG/N293AY EET/EISN0024 EGGX0102 020W0124
 CZQX0208 040W0255 050W0347 TUDEP0406 TOPPS0549 SEL/BRKS
 CODE/A300B6
   
)
SEND_TO_OP_QUEUE: For REPORT = Route L975 direction is ambiguous                                       --> ROUTE_DIRECTION_IS_AMBIGUOUS
BASE_MNG : Try to enqueue item  1

FDP traces :
Oct 14, 2016 4:01:24 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 14, 2016 4:01:25 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 14, 2016 4:01:25 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on handler of SequentialReplier [in: FDP_ROUTER_TO_FPL_ICAO_MSG_FFDP01_OPER, out: deck [FPL_INPUT_REPORT_F]] [SelectableReplier]

    Icao action to do is FPL

FPL : COMPUTE_DISK_DATA : FIRST_PROCESS = ROUTE
Exception raised during profile computation RouteValidationInvalidConnectionPoint
-- Discard the previous profile computation exception message --
- The airway : L975, has been discarded during ICAO route pre-validation phase, because it couldn't be right-connected with the item: ASMIM
-- Discard the previous profile computation exception message --
Exception raised during profile computation RouteValidationInvalidConnectionPoint
-- Discard the previous profile computation exception message --
- The airway : L975, has been discarded during ICAO route pre-validation phase, because it couldn't be right-connected with the item: L975
-- Discard the previous profile computation exception message --
Exception raised during profile computation RouteValidationCodedRouteAmbiguous
-- Discard the previous profile computation exception message --
- The airway : L975, has been discarded during ICAO route pre-validation phase, because it couldn't be right-connected with the ADES: KPHL
-- Discard the previous profile computation exception message --
Exception raised during profile computation RouteValidationCodedRouteAmbiguous
   --> Processing report for FPL is: ROUTE_DIRECTION_IS_AMBIGUOUS (Route L975 direction is ambiguous)

";COMP00249981;COMP00236701;COMP00249981
COMP00250040;COMP00250040;COOPANS;COMP00250040;;COMP00250040;NONE;COMP00250040;NONE;COMP00250040;Submitted;COMP00250040;Graphic documents can't be edited via DPR interface;COMP00250040;Problem Report;COMP00250040;S4;COMP00250040;COOPANS_B3_3_3_1;COMP00250040;MOUGEL Sylvain;COMP00250040;;COMP00250040;Item;COMP00250040;Systematic;COMP00250040;;COMP00250040;DPR;COMP00250040;;COMP00250040;;COMP00250040;NA;COMP00250040;;COMP00250040;;COMP00250040;ATM User;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;COOPANS_B3_3_3_4;COMP00250040;;COMP00250040;4 novembre 2016 01:00:00 GMT+02:00;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;NA;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;"ECO336
B3_3_DEV";COMP00250040;MOUGEL Sylvain;COMP00250040;;COMP00250040;System Factory Validation;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;;COMP00250040;17 octobre 2016 14:01:02 GMT+02:00;COMP00250040;;COMP00250040;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: S. Mougel

SYSTEM data
 - Rig		:  VM
 - Dataset		: EKDK_RPOD
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: 
 - Typical time	: 
 - Typical callsign	: 
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------

Selecting ""Graphic Documents"" and clicking edit should open a specific interface that enable graphic documents modification.


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------


After selecting ""Graphic Documents"" and clicking edit, nothing happened.

EXPECTED BEHAVIOR
--------------------------

Selecting ""Graphic Documents"" and clicking edit should open a specific interface that enable graphic documents modification.

OPERATIONAL CONSEQUENCES
-------------------------------------

Not possible to modify graphic documents.

WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( ) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No ( )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================";COMP00250040;;COMP00250040
COMP00250103;COMP00250103;COOPANS;COMP00250103;COMP00243482;COMP00250103;NONE;COMP00250103;NONE;COMP00250103;Analysed;COMP00250103;IRF_TEST_AT - FDP crash upon CHG of formation flight which adds characters in F18 so it exceeds its max of 450 characters;COMP00250103;Problem Report;COMP00250103;S4;COMP00250103;COOPANS_B3_2_9_2;COMP00250103;MARTIN Cyril;COMP00250103;;COMP00250103;Item;COMP00250103;Systematic;COMP00250103;;COMP00250103;FDP;COMP00250103;;COMP00250103;;COMP00250103;EUR-FPLFORM-020;COMP00250103;;COMP00250103;;COMP00250103;ATM User;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;COMP00243482;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;"IRF_TEST_AT
COMP00243482 ";COMP00250103;MARTIN Cyril;COMP00250103;System;COMP00250103;System Site Validation;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;;COMP00250103;17 octobre 2016 17:26:15 GMT+02:00;COMP00250103;;COMP00250103;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: Heinz ERNST + Cyril MARTIN

SYSTEM data
 - Rig		: TTF3
 - Dataset		: 
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: 
 - Typical time	: 
 - Typical callsign	: 
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------

validation of PCR COMP00243482 at ACG site on TTF3


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

consider an already existing military formation flight C/S TEST with f18=FOR/TEST+TEST1, nbrac=2 
FDP is crashing upon CHG from FPW which adds characters in F18 so that it exceeds its max of 450 characters


EXPECTED BEHAVIOR
--------------------------

No FDP crash.


OPERATIONAL CONSEQUENCES
-------------------------------------

1rst apply in FPW FDP1A is switching to FDP1B, ER0868 Unexpected exception occured is displayed in FPW
2nd apply in FPW FDP1B is switching to FFS, ER0868 Unexpected exception occured is displayed in FPW
3rd apply in FPW system is Failed mode (No FDP available)


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No (X)
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================

    Icao action to do is RQP

Searching 2804
Oct 17, 2016 3:15:44 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_FFS_SAFE_DATAFDP01_OPER
Oct 17, 2016 3:15:44 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
LAST_UPDATE_IS_APR : false
   --> Processing report for RQP on callsign: TEST is: OK (ER0001 OK)
FPL : Answer message (FPL1/1-TEST-VM-2A320/M-WY/N-EPWA1255-N0443F360 HLV M984 MIKOV DCT RADLY DCT GIRDA/N0441F370 UN737 ETPOK UT369 RITEB-LIRF0203-FOR/TEST+TEST1-0-W/EQ Y/EQ U/NO R/NO P/NO S/NO) sent at  2016 10 17 15 15 44 372
Oct 17, 2016 3:15:44 PM com.thales.atms.expedit.core.AbstractUbssService start
INFO: Service [FDP_TO_MMI_FLIGHT_PLAN_DATA_FMMI010_OPER] is being started.
Oct 17, 2016 3:15:44 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo open
INFO: Opening output FIFO FDP_TO_MMI_FLIGHT_PLAN_DATA_FMMI010_OPER
Oct 17, 2016 3:15:44 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO FDP_TO_MMI_FLIGHT_PLAN_DATA_FMMI010_OPER

                                                       FDS Data
                                                       --------
uid_nbr: 2804  stamp: 2016 10 17 12 55 28 55

                                                       Icao fields
                                                       -----------
callsign: TEST  adep: EPWA  ades: LIRF  eobt: 125500  etd: 125500  ctot:   ifplid:
dof:  2016 10 17 12 55 0 0  iobt: 125500  idof:  2016 10 17 12 55 0 0
ac_nbr: 2  ac_type: A320  wtur: M  atow: 64.0  ftype is bada: true  performance class: 55
frule: V  ftype: M  ssr_equi: N                     cna: WY  funit: F
ssr_code:       ssr_mode: NO_MODE  altn1:   altn2:   adar:   ata:   eta: 145800  atd:
eet: 020300  eet_field_18:   TAS:443.0  level: 36000.0  entry_time: 133738  regis:
route: HLV M984 MIKOV DCT RADLY DCT GIRDA/N0441F370 UN737 ETPOK UT369 RITEB
other_info: FOR/TEST+TEST1
sup_info:
entry_point fix_type: NONE  fix:   level: 0.0  cross_level: Invalid  cross_mode:
departure =>  rwy: (not locked)  (NONE)   sid:  (NO_ALLOCATION) (NONE)
arrival =>  rwy: (not locked)  (NONE)   star:  (NO_ALLOCATION) (NONE)
cfmu_present: false  Last CFMU message: NONE  cfmu acknowledged: false

                                                         Used route list
                                                       ---------------
id:       name,index:     first:      last:               time_stamp:
                                                       Intermediate route
                                                       ------------------
 nb item_type      item        level   TAS   indicator climbing_mode text_index
  0 POINT          HLV         36000.0 443.0 VFR       NONE          1
  1 CODED_ROUTE    M984        36000.0 443.0 VFR       NONE          5
  2 POINT          MIKOV       36000.0 443.0 DCT       NONE          10
  3 POINT          RADLY       36000.0 443.0 DCT       NONE          20
  4 POINT          GIRDA       37000.0 441.0 VFR       NONE          30
  5 CODED_ROUTE    UN737       37000.0 441.0 VFR       NONE          46
  6 POINT          ETPOK       37000.0 441.0 VFR       NONE          52
  7 CODED_ROUTE    UT369       37000.0 441.0 VFR       NONE          58
  8 POINT          RITEB       37000.0 441.0 VFR       NONE          64
                                                       Fixes list
                                                       ----------
 l_dep: 0     l_route: 18    l_arr: 0         current: 1     lowp: 1        first in FIR: 3     last in FIR: 5        todIsManual: false
   id name  st pos x,y      inter eto    tas    com_as gs     rule occ ecl    com_fl
    1 HLV    138.51, 112.64     0 133049 443.0  443.0  423.8  V    1   36000  36000  0.0
    2 MIKOV  104.01, 78.91      2 133738 443.0  443.0  415.2  V    1   36000  36000  48.2
 {  3 ZZE3   103.97, 78.82     -3 133739 443.0  443.0  435.8  V    1   36000  36000  48.3
 {  4 ZZS3   70.63 ,-1.45      -2 134937 443.0  443.0  436.2  V    1   36000  36000  135.2
    5 -RGX-  51.05 ,-48.55     -4 135638 443.0  443.0  430.0  V    1   36000  36000  186.3
    6 -ECF-  51.04 ,-48.58     -9 135638 443.0  443.0  427.4  V    1   36000  36000  186.3
    7 RADLY  49.98 ,-50.82      3 135659 443.0  443.0  419.8  V    1   36000  36000  188.8
    8 -ECF-  48.64 ,-52.96     -9 135721 443.0  443.0  421.7  V    1   36000  36000  191.3
    9 GIRDA  5.65  ,-121.52     4 140851 483.2  450.3  436.4  V    1   36000  36000  272.2
   10 -SCF-  1.63  ,-130.38    -1 141012 454.8  441.0  427.2  V    1   36000  37000  281.9
   11 BAXON -23.11 ,-185.03     5 141837 441.0  441.0  427.6  V    1   36000  37000  341.9
   12 LANLI -35.55 ,-212.50     5 142251 441.0  441.0  427.4  V    1   36000  37000  372.0
   13 AMSED -42.71 ,-223.60     5 142442 441.0  441.0  418.8  V    1   36000  37000  385.2
   14 GUBIN -53.61 ,-240.52     5 142734 441.0  441.0  419.1  V    1   36000  37000  405.3
   15 EVNEK -59.10 ,-249.09     5 142902 441.0  441.0  424.0  V    1   36000  37000  415.4
   16 IPGOR -76.47 ,-276.23     5 143335 441.0  441.0  427.5  V    1   36000  37000  447.6
   17 ETPOK -81.17 ,-283.59     6 143448 441.0  441.0  452.3  V    1   36000  37000  456.3
   18 RITEB -81.39 ,-287.36     8 143518 441.0  441.0  441.0  V    1   36000  37000  460.1

                                                       Constraint list
                                                       ---------------
 current flight phase: CRUISE
 initial condition:     POS: 4919N01732E     ALT: 36000.00    DIST: 0.00
Natural Profile Info:
    OLFC: Id:0   Level: 36000.00  ROC: 0.00
    OLFD: Id:0   Level: 37000.00  ROD: 0.00
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: SOON       | Res: FULL   | lvl: 36000.0 | Ph_Pres: false
 01 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 138.5 , PosY: 112.6 , Elap_Dist: 0.00  , dur: 0.00
    | cat: ECL        | Orig : NONE     | Eff => PosX: 138.5 , PosY: 112.6 , Elap_Dist: 0.00  , dur: 0.00   | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 36000.0 | Ph_Pres: false
 02 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 138.5 , PosY: 112.6 , Elap_Dist: 0.00  , dur: 186.27
    | cat: ECL        | Orig : NONE     | Eff => PosX: 138.5 , PosY: 112.6 , Elap_Dist: 0.00  , dur: 186.27 | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 36000.0 | Ph_Pres: false
 03 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 50.9  , PosY: -48.5 , Elap_Dist: 186.27, dur: 5.00
    | cat: AOR_DEF_XFL| Orig : NONE     | Eff => PosX: 50.9  , PosY: -48.5 , Elap_Dist: 186.27, dur: 5.00   | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 36000.0 | Ph_Pres: false
 04 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 48.6  , PosY: -53.0 , Elap_Dist: 191.27, dur: 80.91
    | cat: ECL        | Orig : NONE     | Eff => PosX: 48.6  , PosY: -53.0 , Elap_Dist: 191.27, dur: 80.91  | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 37000.0 | Ph_Pres: false
 05 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 1.6   , PosY: -130.4, Elap_Dist: 281.91, dur: 178.18
    | cat: ECL        | Orig : NONE     | Eff => PosX: 1.6   , PosY: -130.4, Elap_Dist: 281.91, dur: 178.18 | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 37000.0 | Ph_Pres: false
 06 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: -81.4 , PosY: -287.4, Elap_Dist: 460.09, dur: no_dur
    | cat: ECL        | Orig : NONE     | Eff => PosX: -81.4 , PosY: -287.4, Elap_Dist: 460.09, dur: no_dur | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------

                                                       Calibrated fixes table
                                                       ----------------------
               Below Threshold               Above Threshold
 Quality 1:         76.20                           15.24
 Quality 2:        106.68                           45.72
 Quality 3:        152.40                           76.20

                                                   PPOS State list
                                                       ---------------
id  Position name  PPOS state            PPOS re-entry state
28  P721           NOTIFIED              NONE

                                                       Crossed Sector List
                                                       -------------------
id  ATSU name  ATSU state            | lfunc           ppos |delegating   ppos
1   LKAA       ASSUMED               | no lfunc
2   E3         NOTIFIED              | E3    (18)      10
3   S3         NONE                  | S3    (38)      11
4   LJLA       NOTIFIED              | no lfunc
Manual transfer: None









Oct 17, 2016 3:16:20 PM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on handler of SequentialReplier [in: MMI_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_F]] [SelectableReplier]
FPL : (CHG-TEST-EPWA-LIRF-18/RMK/TUIUTIUTUIUTIUTIUTUTUTUTPWUUTTWUPTUPUTPUIOPUWTPWUTTUTUUWUPIWUUPIOTWUPOIWUPOITWUUOITWUUPOWTUTPTWUPTUTIOPTUIWPITUTPITUPUITPUIPITPUWUPUIPUITUIPITUPUTUITRUITUTUITTUPITUIPUITUIUPITPTUPUIPUIUIUIUTITUTUIUIUPIUPPIUIIPRUIUPTUTUUTTTUTUTUUIPUUPUTPUITPTIPREUEPEUUEUTURIUITUTUITUTUREURIRUIUTUPTUPUERWUTEWEUTUTPTPTUTUTUPIUPIUITUTWUPIUPWTPWUTPWUTPUUTUTWUPWPUTPUUWTEPWUTPTUTPTUPUIPUITUWUITWUUTWTWUTUTUTIUTUPIPTUITPOOUITPOEOUIUTPTUTPUERPUPRUPTWUTPUUTPTUIPUEOTTUTT) on PPOS  10 for cdcNb  2804
Modif_time from MMI is 13:22:38 and 12:58:50
Flight plan number from MMI :  2804

    Icao action to do is CHG

Oct 17, 2016 3:16:20 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_FFS_SAFE_DATAFDP01_OPER
Oct 17, 2016 3:16:20 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
FPL : Unable to send Safe data to slave.
FPL : COMPUTE_DISK_DATA : FIRST_PROCESS = ETO / processConditionalRoutes : false
FPL : isCurrentChangeTrajectory => Check if current is a route divergence fix
FPL : isCurrentChangeTrajectory => Current is a beacon fix. Do not change it into a DRF.
back to cruise elapsed distance: 238.59425354003906
SPEED PROCESSING RESTORATION POINT : 0.0
-- Speed Order --...
Origin : NONE
start distance : 0.0
Value in knots : 0.0
end distance : -1.0
-- Speed Order --...
-- ETO Context Computation...
ETO Computation - ETO computation on DEPARTURE FLIGHT context : because no entry ETO define
ETO Computation - Default case by using ETD => ETOs revised
ETO Computation - Distance (315.0nm) between ADEP to AoR entry (rank=3) is know and ETD (time=46500000ms) also.
-- ETO Computation...
-- ETO Computation SUCCESSFUL
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
> Info: ARRIVAL_SEQUENCING : update has been found
NFO: Writing message to output FIFO MISC_FLIGHT_PLAN_FROM_OPSFDP01_OPER
Could not send misc data to standby.
FPL: sendArrivalSequencingToParallelSby FALLBACK
Oct 17, 2016 3:16:20 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MISC_FPL_FDP_TO_FFS_MSG_FIFOFDP01_OPER
Oct 17, 2016 3:16:20 PM com.thales.atms.expedit.task.AbstractTaskScheduler cancel
INFO: Cancelling task id [2804].
Oct 17, 2016 3:16:20 PM com.thales.atms.expedit.task.AbstractTaskScheduler internalSchedule
INFO: Scheduling task id  [2804] [QueuedEvent [FPL uid=2804, FPL event id=3]] @ Mon Oct 17 15:16:20 UTC 2016
Write FlightPlan CDC; modification time is:  2016 10 17 15 16 20 678
Exception dumped at: Mon Oct 17 15:16:20 UTC 2016
com.thales.atms.product.unified.tools.UnifiedException: Invalid StringBuffer data; max length is 450
        at com.thales.atms.product.unified.tools.UnifiedTools.set(UnifiedTools.java:116)
        at com.thales.atms.product.unified.fpldatatypes.OtherInfoTexts.setValue(OtherInfoTexts.java:20)
        at com.thales.atms.product.unified.fpldatatypes.OtherInfoTexts.<init>(OtherInfoTexts.java:16)
        at com.thales.atms.com.unifiedintf.fpldatatypes.OtherInfoTextsIntf.businessToIrs(OtherInfoTextsIntf.java:30)
        at com.thales.atms.com.unifiedintf.fpldatatypes.OtherInfosIntf.businessToIrs(OtherInfosIntf.java:31)
        at com.thales.atms.com.unifiedintf.fpldatatypes.IcaoIntf.businessToIrs(IcaoIntf.java:66)
        at com.thales.atms.fdm.icao.FdmIo.toIrs(FdmIo.java:555)
        at com.thales.atms.fdm.Fdm.toIrs(Fdm.java:1040)
        at com.thales.atms.fdm.processing.fpl.FplConversionService.toIrs(FplConversionService.java:119)
        at com.thales.atms.fds.db.FplBaseMng.store(FplBaseMng.java:283)
        at com.thales.atms.fds.processing.FdsPostUpdate.publish(FdsPostUpdate.java:413)
        at com.thales.atms.fds.processing.FdsPostUpdate.updateFlightPlan(FdsPostUpdate.java:233)
        at com.thales.atms.fds.processing.common.AbstractUpdatePreProcessMsgProcessor.postProcess(AbstractUpdatePreProcessMsgProcessor.java:32)
        at com.thales.atms.fds.processing.common.AbstractMsgProcessor.process(AbstractMsgProcessor.java:55)
        at com.thales.atms.fds.input.processing.AtcoRequestProcessor.process(AtcoRequestProcessor.java:305)
        at com.thales.atms.fds.input.processing.AbstractRequestProcessor.processImpl(AbstractRequestProcessor.java:101)
        at com.thales.atms.fds.input.processing.BaseRequestProcessor.process(BaseRequestProcessor.java:26)
        at com.thales.atms.expedit.ipc.listener.SelectableReplier.newAvailableEvents(SelectableReplier.java:71)
        at com.thales.atms.expedit.app.AbstractUbssApplication.start(AbstractUbssApplication.java:301)
        at com.thales.atms.fds.FdpMain.main(FdpMain.java:39)
   --> Processing report for CHG is: UNEXPECTED_EXCEPTION (ER0868 Unexpected exception occured.)
FPL : Answer message (CHG-TEST-EPWA-LIRF-18/RMK/TUIUTIUTUIUTIUTIUTUTUTUTPWUUTTWUPTUPUTPUIOPUWTPWUTTUTUUWUPIWUUPIOTWUPOIWUPOITWUUOITWUUPOWTUTPTWUPTUTIOPTUIWPITUTPITUPUITPUIPITPUWUPUIPUITUIPITUPUTUITRUITUTUITTUPITUIPUITUIUPITPTUPUIPUIUIUIUTITUTUIUIUPIUPPIUIIPRUIUPTUTUUTTTUTUTUUIPUUPUTPUITPTIPREUEPEUUEUTURIUITUTUITUTUREURIRUIUTUPTUPUERWUTEWEUTUTPTPTUTUTUPIUPIUITUTWUPIUPWTPWUTPWUTPUUTUTWUPWPUTPUUWTEPWUTPTUTPTUPUIPUITUWUITWUUTWTWUTUTUTIUTUPIPTUITPOOUITPOEOUIUTPTUTPUERPUPRUPTWUTPUUTPTUIPUEOTTUTT) sent at  2016 10 17 15 16 18 379
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_FMMI010_OPER
(NAK-EPS/2000-ERR/ER0868 Unexpected exception occured.-TXT/(CHG-TEST-EPWA-LIRF-18/RMK/TUIUTIUTUIUTIUTIUTUTUTUTPWUUTTWUPTUPUTPUIOPUWTPWUTTUTUUWUPIWUUPIOTWUPOIWUPOITWUUOITWUUPOWTUTPTWUPTUTIOPTUIWPITUTPITUPUITPUIPITPUWUPUIPUITUIPITUPUTUITRUITUTUITTUPITUIPUITUIUPITPTUPUIPUIUIUIUTITUTUIUIUPIUPPIUIIPRUIUPTUTUUTTTUTUTUUIPUUPUTPUITPTIPREUEPEUUEUTURIUITUTUITUTUREURIRUIUTUPTUPUERWUTEWEUTUTPTPTUTUTUPIUPIUITUTWUPIUPWTPWUTPWUTPUUTUTWUPWPUTPUUWTEPWUTPTUTPTUPUIPUITUWUITWUUTWTWUTUTUTIUTUPIPTUITPOOUITPOEOUIUTPTUTPUERPUPRUPTWUTPUUTPTUIPUEOTTUTT))
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.app.AbstractUbssApplication start
SEVERE: Uncaught Exception, stopping application.
com.thales.atms.fds.wrapper.DataAccessException: com.thales.atms.product.unified.tools.UnifiedException: Invalid StringBuffer data; max length is 450
        at com.thales.atms.fds.db.FplBaseMng.store(FplBaseMng.java:292)
        at com.thales.atms.fds.processing.FdsPostUpdate.publish(FdsPostUpdate.java:413)
        at com.thales.atms.fds.processing.FdsPostUpdate.updateFlightPlan(FdsPostUpdate.java:233)
        at com.thales.atms.fds.processing.common.AbstractUpdatePreProcessMsgProcessor.postProcess(AbstractUpdatePreProcessMsgProcessor.java:32)
        at com.thales.atms.fds.processing.common.AbstractMsgProcessor.process(AbstractMsgProcessor.java:55)
        at com.thales.atms.fds.input.processing.AtcoRequestProcessor.process(AtcoRequestProcessor.java:305)
        at com.thales.atms.fds.input.processing.AbstractRequestProcessor.processImpl(AbstractRequestProcessor.java:101)
        at com.thales.atms.fds.input.processing.BaseRequestProcessor.process(BaseRequestProcessor.java:26)
        at com.thales.atms.expedit.ipc.listener.SelectableReplier.newAvailableEvents(SelectableReplier.java:71)
        at com.thales.atms.expedit.app.AbstractUbssApplication.start(AbstractUbssApplication.java:301)
        at com.thales.atms.fds.FdpMain.main(FdpMain.java:39)
Caused by: com.thales.atms.product.unified.tools.UnifiedException: Invalid StringBuffer data; max length is 450
        at com.thales.atms.product.unified.tools.UnifiedTools.set(UnifiedTools.java:116)
        at com.thales.atms.product.unified.fpldatatypes.OtherInfoTexts.setValue(OtherInfoTexts.java:20)
        at com.thales.atms.product.unified.fpldatatypes.OtherInfoTexts.<init>(OtherInfoTexts.java:16)
        at com.thales.atms.com.unifiedintf.fpldatatypes.OtherInfoTextsIntf.businessToIrs(OtherInfoTextsIntf.java:30)
        at com.thales.atms.com.unifiedintf.fpldatatypes.OtherInfosIntf.businessToIrs(OtherInfosIntf.java:31)
        at com.thales.atms.com.unifiedintf.fpldatatypes.IcaoIntf.businessToIrs(IcaoIntf.java:66)
        at com.thales.atms.fdm.icao.FdmIo.toIrs(FdmIo.java:555)
        at com.thales.atms.fdm.Fdm.toIrs(Fdm.java:1040)
        at com.thales.atms.fdm.processing.fpl.FplConversionService.toIrs(FplConversionService.java:119)
        at com.thales.atms.fds.db.FplBaseMng.store(FplBaseMng.java:283)
        ... 10 more
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.task.AbstractTaskScheduler run
INFO: Running task id [2804] [QueuedEvent [FPL uid=2804, FPL event id=3]].
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.app.AbstractUbssApplication shutdownAndExit
INFO: Stopping FDPS; exit code is: 1
SecondaryThread asked to stop
SecondaryThread stopped
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [CDC Component] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [Selectable CDC [PAGE_OPER]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [Selectable CDC [CMA_ID_OPER]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [Non-selectable CDC [COORD_OPER]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [Non-selectable CDC [FPL_OPER]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [IPC component] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [IPC > Exchange component] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [handler of SequentialReplier [in: IODE_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_IODE_FLIGHT_PLAN_COMMAND_F]]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [SequentialReplier [in: IODE_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_IODE_FLIGHT_PLAN_COMMAND_F]]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [IODE_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_FFS_SAFE_DATAFDP01_OPER
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [deck [FDP_TO_IODE_FLIGHT_PLAN_COMMAND_F]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [FDP_TO_IODE_FLIGHT_PLAN_COMMAND_FIODE01_OPER] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [handler of SequentialReplier [in: CPDLC_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_CPDLC_F]]] is being stopped.
Exception dumped at: Mon Oct 17 15:16:18 UTC 2016
java.lang.NullPointerException
        at com.thales.atms.fdm.eventmng.fpl.EventProcessorFactory.get(EventProcessorFactory.java:100)
        at com.thales.atms.fdm.FilledFlightPlan.processEvent(FilledFlightPlan.java:464)
        at com.thales.atms.fds.processing.FdsEventAh.process(FdsEventAh.java:78)
        at com.thales.atms.fds.processing.FdsEventAh.process(FdsEventAh.java:34)
        at com.thales.atms.expedit.task.AbstractTaskScheduler.run(AbstractTaskScheduler.java:111)
        at com.thales.atms.expedit.task.DefaultTimerTask.run(DefaultTimerTask.java:73)
        at com.thales.atms.expedit.task.SynchronizedTimerTask.run(SynchronizedTimerTask.java:46)Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [SequentialReplier [in: CPDLC_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_CPDLC_F]]] is being stopped.

        at com.thalesatm.product.ubss.BSTimerTask$InternalTimerTask.run(BSTimerTask.java:277)
        at java.util.TimerThread.mainLoop(Timer.java:512)
        at java.util.TimerThread.run(Timer.java:462)
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [CPDLC_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER] is being stopped.
 FPL: Failed to process event: UNEXPECTED_EXCEPTION
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [deck [FDP_TO_CPDLC_F]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [handler of SequentialReplier [in: CTE_REPORT_FFDP01_OPER, out: deck [CTE_ACK_F]]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [SequentialReplier [in: CTE_REPORT_FFDP01_OPER, out: deck [CTE_ACK_F]]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.task.AbstractTaskScheduler cancel
INFO: Cancelling task id [2804].
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [CTE_REPORT_FFDP01_OPER] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.task.AbstractTaskScheduler internalSchedule
INFO: Scheduling task id  [2804] [QueuedEvent [FPL uid=2804, FPL event id=-1]] @ Tue Oct 18 08:54:28 UTC 2016
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [deck [CTE_ACK_F]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop
INFO: Service [handler of SequentialReplier [in: HOLDING_VOLUME_INFRINGEMENT_FFDP01_OPER, out: deck [HOLDING_VOLUME_INFRINGEMENT_ACK_F]]] is being stopped.
Oct 17, 2016 3:16:18 PM com.thales.atms.expedit.core.AbstractUbssService stop


";COMP00250103;;COMP00250103
COMP00250106;COMP00250106;COOPANS;COMP00250106;B3.3 Demo2 IRF 10502;COMP00250106;NONE;COMP00250106;NONE;COMP00250106;Submitted;COMP00250106;IAPL message -SPEED used instead of -ROUTE to set the FPL TAS;COMP00250106;Problem Report;COMP00250106;S4;COMP00250106;COOPANS_B3_3_3_1;COMP00250106;LEJAY Vincent;COMP00250106;;COMP00250106;Item;COMP00250106;Systematic;COMP00250106;;COMP00250106;FDP;COMP00250106;;COMP00250106;;COMP00250106;EUR-FPLCRE-011;COMP00250106;;COMP00250106;;COMP00250106;ATM User;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;ECO342 checklist;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;B3_3_KERNEL;COMP00250106;LEJAY Vincent;COMP00250106;;COMP00250106;System Factory Validation;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;;COMP00250106;17 octobre 2016 18:15:30 GMT+02:00;COMP00250106;;COMP00250106;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: Luc Molimard

SYSTEM data
 - Rig		:  VVTT
 - Dataset		: EKDK_PROD
 - Secto / Role	: 

TEST data
 - Aems		: ECO342 demo scenario
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: 
 - Typical time	: 
 - Typical callsign	: APL03B
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------




OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
Action 26, C/ APL03B

Receiving an IAPL with F15A+B as N0360F240 and with a -SPEED N0300

In the FPW speed is set to N0300 which seems to be the wrong F15A speed



EXPECTED BEHAVIOR
--------------------------

TAS should be N0360


OPERATIONAL CONSEQUENCES
-------------------------------------

wrong ETOs

Note that this PCR is raised because -ROUTE and -SPEED fields are not consistent in the scenario. This should not occur in operation.


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X ) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No ( )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================";COMP00250106;;COMP00250106
COMP00250123;COMP00250123;COOPANS;COMP00250123;IRF_TEST_AT1185;COMP00250123;NONE;COMP00250123;NONE;COMP00250123;Closed;COMP00250123;IRF_TEST_AT1185 - SOFTWARE_ERROR_IN_PROFILE raised upon ACT reception;COMP00250123;Problem Report;COMP00250123;S4;COMP00250123;COOPANS_B3_2_9_2;COMP00250123;MARTIN Cyril;COMP00250123;;COMP00250123;Item;COMP00250123;Systematic;COMP00250123;;COMP00250123;FDP;COMP00250123;;COMP00250123;;COMP00250123;EUR-FPLRESYSTEMCOORDINATED-001;COMP00250123;;COMP00250123;;COMP00250123;ATM User;COMP00250123;;COMP00250123;20 octobre 2016 14:16:36 GMT+02:00;COMP00250123;TOUZE Sylvain;COMP00250123;Not Applicable;COMP00250123;2 janvier 1970 01:00:00 GMT+02:00;COMP00250123;;COMP00250123;;COMP00250123;;COMP00250123;;COMP00250123;2 janvier 1970 01:00:00 GMT+02:00;COMP00250123;admin account;COMP00250123;Not Applicable;COMP00250123;Not Applicable;COMP00250123;SHADOW B3.2.9.2;COMP00250123;20 octobre 2016 14:16:36 GMT+02:00;COMP00250123;TOUZE Sylvain;COMP00250123;COOPANS_B3_2_10;COMP00250123;Duplication;COMP00250123;"ACCEPTANCE OF THE CUSTOMER 
- Customer arguments: 
- Customer Response Date: 
- Reference to a meeting report or a mail: 
CLOSURE MEETING: 
- Decision:


Sylvain TOUZE (FDP-MALMOE 2016/10/20):
------------------------------------------------------

Issue is linked to the processing of prior message ICHG for THY1BQ at ""Oct 13, 2016 6:38:57 AM ""
=> Upon this processing an TOC inflection is computed with indexe 11

But as it is not reset properly it generates an unexpected out of bound exception error upon SPSZE  ACT message processing with route amendment as this flight does not even have a known ADEP !

=> Exact Same issue as EPCR COMP00249832 (with COOPANS_B3_2_10 Target Release)

PCR  set as Dupe and closed

See the following dump extract:
* OPQ traces:
<<OPQ : Message MMI TO MCQ received at  2016 10 13 6 38 57 124
OPQ : action on MCQ is : QUE
OPQ : msg to store in MCQ is : -TITLE ICHG^M
 -BEGIN ADDR ^M
-FAC CFMUTACT^M
 -FAC EDDAYGCD^M
 -FAC LBSFATCX^M
(...)
-ADEP EDDS^M
 -ADES LTBA^M
 -ARCID THY1BQ^M
 -ARCTYP A321^M
(...)>>

* FPFPL Traces
<<FPL : projectAndInsertAprInFixList => APR has been projected on new route, reset reference time.
LowpProcess : Lowp Index=1 / comFl=0.0 / comAs=0.0
FPL : computeAndInsertInflectionPt =>  Inflection Point for the TOC as it is not present anymore:
FPL : buildInflectionFix =>  level=35000.0
FPL : buildInflectionFix =>  ElapsedDistance=129.7018490386339
FPL : buildInflectionFix =>  FixIndex=11
LowpProcess :  Profile extrapolation from 1 To inflection Pt(Climb)=11
LowpProcess :  Profile extrapolation from 11 To Current=22
>>";COMP00250123;Yes;COMP00250123;IRF_TEST_AT1185;COMP00250123;MARTIN Cyril;COMP00250123;System;COMP00250123;System Site Validation;COMP00250123;Not Applicable;COMP00250123;;COMP00250123;;COMP00250123;;COMP00250123;;COMP00250123;COMP00249832;COMP00250123;18 octobre 2016 09:59:06 GMT+02:00;COMP00250123; ;COMP00250123;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	:Kurt WEHOFER

SYSTEM data
 - Rig		: TTF3
 - Dataset		: B3_2_9_T2_V1
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: /home/TLOG/TLOG_SaveProblems/SITE_ACG/IRF_TEST_AT1185/
 - Typical time	: 
 - Typical callsign	: 
 - Typical FPL	: 


IRF
----

#IRF no.:TEST_AT1185
#Date:13-10-2016
#Time:06:58:32
#Originator:Kurt.WEHOFER@austrocontrol.at
#CWP no.:P n/a
#Test ID:
#Rig ID:TTF3
#SW Version:B3_2_9_2
#Dataset:B3_2_9_T2_V1
#TestSession:Shadow B3_2_9_2
#LastTimeStored:2016-10-18 08:55:48
#IRF Title:TopSky - Unknown - FDP: SOFTWARE_ERROR_IN_PROFILE for ACT
#Details:Call Sign:-
Sector:-
Problem:FDP: SOFTWARE_ERROR_IN_PROFILE for ACT
Logfile: VVTTF3/2016_10_13_am/vvotfdp1asvotsv/FDPFPL_101.txt.9

...
Icao action to do is ACT
...

Exception dumped at: Thu Oct 13 06:58:32 UTC 2016
java.lang.IllegalArgumentException: Illegal index value: it must be in the interval [1,  8]. Index = 11
        at com.thales.atms.pro.tpm.Trajectory.getFix(Trajectory.java:762)
        at com.thales.atms.pro.manager.InflectionPointImpl.computeInflectionPointInDescent(InflectionPointImpl.java:203)
        at com.thales.atms.pro.manager.InflectionPointImpl.computeAllInflectionPt(InflectionPointImpl.java:102)
        at com.thales.atms.pro.manager.InflectionPointImpl.compute(InflectionPointImpl.java:52)
        at com.thales.atms.pro.manager.ProfileTrigger.retrieveLowp(ProfileTrigger.java:966)
...
Exception has been catched and transformed into Error message Software error in Profile !
   --> Processing report for ACT is: SOFTWARE_ERROR_IN_PROFILE (ER0110 Error during profile computation.)

...
What was expected?:




CONTEXTUAL INFORMATION
---------------------------------

Shadow B3.2.9.2 on TTF3 at ACG (Austro Control)


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

Unexpected exception raised upon ACT reception.


EXPECTED BEHAVIOR
--------------------------

No Unexpected exception raised upon ACT reception.


OPERATIONAL CONSEQUENCES
-------------------------------------

ACT can not be processed, flight has to be activated manually.


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes (X) / No ( )
- Workaround description (if any):
manual action of the flight.


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================

  Icao action to do is RQP

Oct 13, 2016 6:57:37 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_FFS_SAFE_DATAFDP01_OPER
Oct 13, 2016 6:57:37 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
LAST_UPDATE_IS_APR : false
   --> Processing report for RQP on callsign: SPSZE is: OK (ER0001 OK)
FPL : Answer message (FPL1/2-SPSZE-ZG-DA42/L-SDFGRY/S-LOAN1000-N0145F100 DCT SNU IFR L725 ABLOM M985 SKAVI L984 GEVNA VFR-EPML0200 EPRZ-PBN/B2 ORGN/KBLIHAEX SRC/FPL-0-W/NO Y/EQ U/NO R/EQ P/NO S/EQ) sent at  2016 10 13 6 57 37 747
Oct 13, 2016 6:57:37 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO FDP_TO_MMI_FLIGHT_PLAN_DATA_FMMI008_OPER

                                                       FDS Data
                                                       --------
uid_nbr: 1769  stamp: 2016 10 13 6 19 31 670

                                                       Icao fields
                                                       -----------
callsign: SPSZE  adep: LOAN  ades: EPML  eobt: 100000  etd: 100100  ctot:   ifplid: AA57579287
dof:  2016 10 13 10 0 0 0  iobt: 100000  idof:  2016 10 13 10 0 0 0
ac_nbr: 1  ac_type: DA42  wtur: L  atow: 1.600000023841858  ftype is bada: true  performance class: 113
frule: Z  ftype: G  ssr_equi: S                     cna: SDFGRY  funit: F
ssr_code:       ssr_mode: NO_MODE  altn1: EPRZ  altn2:   adar:   ata:   eta: 120100  atd:
eet: 020000  eet_field_18:   TAS:145.0  level: 10000.0  entry_time: 100100  regis:
route: DCT SNU IFR L725 ABLOM M985 SKAVI L984 GEVNA VFR
other_info: PBN/B2 ORGN/KBLIHAEX SRC/FPL
sup_info:
entry_point fix_type: NONE  fix:   level: 0.0  cross_level: Invalid  cross_mode:
departure =>  rwy: (not locked)  (NONE)   sid:  (NO_ALLOCATION) (NONE)
arrival =>  rwy: (not locked)  (NONE)   star:  (NO_ALLOCATION) (FROM_EXTERNAL_CENTER)
cfmu_present: false  Last CFMU message: NONE  cfmu acknowledged: false

                                                       Equipment capability status and display
                                                       Fixes list
                                                       ----------
 l_dep: 1     l_route: 24    l_arr: 0         current: 1     lowp: 1        first in FIR: 1     last in FIR: 10       todIsManual: false
   id name  st pos x,y      inter eto    tas    com_as gs     rule occ ecl    com_fl
 {  1 LOAN   91.35 , 21.94     -5 100100 85.0   86.2   78.5   V    1   10000  0      0.0
 {  2 SNU    92.42 , 23.88      0 100241 87.5   91.4   91.9   I    1   10000  1964   2.2
 {  3 MOVOS  98.37 , 26.25      1 100651 95.3   95.6   102.8  I    1   10000  7639   8.6
 {  4 -CAL-  98.78 , 26.41    -10 100707 95.9   97.3   104.6  I    1   10000  8038   9.1
 {  5 -TOC-  101.67, 27.56     -1 100854 98.8   143.1  150.4  I    1   10000  10000  12.2
 {  6 ZZV5   106.73, 29.58     -2 101105 145.0  145.0  152.3  I    1   10000  10000  17.6
 {  7 ZZV6   110.45, 31.06     -2 101239 145.0  145.0  152.3  I    1   10000  10000  21.6
 {  8 ZZV4   115.38, 33.04     -2 101445 145.0  145.0  155.2  I    1   10000  10000  26.9
 {  9 -ECF-  123.86, 36.42     -9 101816 145.0  145.0  155.4  I    1   10000  10000  36.1
   10 -RGX-  124.10, 36.50     -4 101822 145.0  145.0  155.4  I    1   10000  10000  36.3
   11 ABLOM  124.24, 36.55      2 101826 145.0  145.0  155.3  I    1   10000  10000  36.5
   12 LEDRI  128.01, 38.11      3 102000 145.0  145.0  155.3  I    1   10000  10000  40.5
   13 -ECF-  128.72, 38.40     -9 102018 145.0  145.0  155.3  I    1   10000  10000  41.3
   14 XENAK  132.63, 40.02      3 102156 145.0  145.0  155.3  I    1   10000  10000  45.5
   15 JAN    142.31, 44.01      3 102559 145.0  145.0  147.2  I    1   10000  10000  56.0
   16 NIT    162.26, 51.72      3 103442 145.0  145.0  143.6  I    1   10000  10000  77.4
   17 MOMEP  181.69, 76.66      3 104754 145.0  145.0  143.5  I    1   10000  10000  109.0
   18 DBV    190.11, 87.48      3 105337 145.0  145.0  143.0  I    1   10000  10000  122.7
   19 MEBAN  221.00, 125.56     3 111410 145.0  145.0  132.9  I    1   10000  10000  171.7
   20 JAB    222.13, 127.31     3 111507 145.0  145.0  139.1  I    1   10000  10000  173.7
   21 NAXAR  226.09, 144.37     3 112239 145.0  145.0  139.1  I    1   10000  10000  191.2
   22 SKAVI  228.65, 155.41     4 112732 145.0  145.0  124.1  I    1   10000  10000  202.5
   23 XEVBA  235.67, 155.93     5 113056 145.0  145.0  124.1  I    1   10000  10000  209.6
   24 MOKMU  237.98, 156.09     5 113203 145.0  145.0  123.7  I    1   10000  10000  211.9
   25 GEVNA  260.59, 157.74     6 114302 145.0  145.0  145.0  V    1   10000  10000  234.5

                                                       Cop list
                                                       --------
 id name  kind          oc1 oc2 prop  xfl     used  Rocd_T XFL_Kind pbt
  1 <0>   DEFAULT_COP   1   0   false 10000.0 false false  DEFAULT  SIDE
  2 <0>   DEFAULT_COP   2   0   false 10000.0 false false  DEFAULT  SIDE
  3 <0>   DEFAULT_COP   3   0   false 10000.0 false false  DEFAULT  SIDE
  4 ABLOM ROUTE_COP     1   1   false 10000.0 true  false  DEFAULT  SIDE

                                                         PPOS State list
                                                       ---------------
id  Position name  PPOS state            PPOS re-entry state

                                                       Crossed Sector List
                                                       -------------------
id  ATSU name  ATSU state            | lfunc           ppos |delegating   ppos
1   VB         NONE                  | VB    (69)      12
2   V5         NONE                  | V5    (67)      12
3   V6         NONE                  | V6    (68)      12
4   V4         NONE                  | V4    (66)      12
5   LZBB       NOTIFIED              | no lfunc
Manual transfer: None


Oct 13, 2016 6:57:47 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on handler of SequentialReplier [in: MMI_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_F]] [SelectableReplier]
FPL : (RQP2/2-SPSZE) on PPOS  8 for cdcNb  0
Modif_time from MMI is 00:00:00 and 00:00:00
Flight plan number from MMI :  0

    Icao action to do is RQP

Oct 13, 2016 6:57:47 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_FFS_SAFE_DATAFDP01_OPER
Oct 13, 2016 6:57:47 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
LAST_UPDATE_IS_APR : false
 ** with XFL/CFL
   --> Processing report for RQP on callsign: SPSZE is: OK (ER0001 OK)
FPL : Answer message (FPL2/2-SPSZE/A0007-ZG-DA42/L-SDFGRY/S-EPML0515-N0145F100 DCT XEVLU IFR Z127 TUSIN M984 STO M174 SNU VFR-LOAN0200 LOWW-PBN/B2 ORGN/KBLIHAEX SRC/FPL-0-W/NO Y/EQ U/NO R/EQ P/NO S/EQ) sent at  2016 10 13 6 57 47 869
Oct 13, 2016 6:57:47 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO FDP_TO_MMI_FLIGHT_PLAN_DATA_FMMI008_OPER

                                                       FDS Data
                                                       --------
uid_nbr: 2613  stamp: 2016 10 13 6 9 9 748

                                                       Icao fields
                                                       -----------
callsign: SPSZE  adep: EPML  ades: LOAN  eobt: 051500  etd: 051500  ctot:   ifplid: AA57579277
dof:  2016 10 13 5 15 0 0  iobt: 051500  idof:  2016 10 13 5 15 0 0
ac_nbr: 1  ac_type: DA42  wtur: L  atow: 1.600000023841858  ftype is bada: true  performance class: 113
frule: Z  ftype: G  ssr_equi: S                     cna: SDFGRY  funit: F
ssr_code: 0007  ssr_mode: MODE_A  altn1: LOWW  altn2:   adar:   ata:   eta: 072700  atd: 052700
eet: 020000  eet_field_18:   TAS:145.0  level: 10000.0  entry_time: 065027  regis:
route: DCT XEVLU IFR Z127 TUSIN M984 STO M174 SNU VFR
other_info: PBN/B2 ORGN/KBLIHAEX SRC/FPL
sup_info:
entry_point fix_type: POINT  fix: MIKOV  level: 16000.0  cross_level: Invalid  cross_mode:
departure =>  rwy: (not locked)  (NONE)   sid:  (NO_ALLOCATION) (NONE)
arrival =>  rwy: (not locked)  (NONE)   star:  (NO_ALLOCATION) (FROM_EXTERNAL_CENTER)
cfmu_present: false  Last CFMU message: NONE  cfmu acknowledged: false



OPQ : msg to store in MCQ is : -TITLE ACT ^M
-REFDATA ^M
-SENDER -FAC PR ^M
-RECVR -FAC VV ^M
-SEQNUM 516 ^M
-ARCID SPSZE ^M
-SSRCODE A0007 ^M
-ADEP EPML ^M
-COORDATA ^M
-PTID MIKOV ^M
-TO 0650 ^M
-TFL F160 ^M
-ADES LOAN ^M
-NBARC 1 ^M
-ARCTYP DA42 ^M
-WKTRC L ^M
-FLTTYP G ^M
-BEGIN EQCST -EQPT W/NO -EQPT Y/EQ -END EQCST ^M
-ROUTE N0145F100 XEVLU IFR TUSIN HLV M984 MIKOV M984 STO M174 SNU VFR
OPQ_DB: ACTION_ON_MSG_CORREC_Q: ACTION= M_MODIFY
OPQ_DB: ACTION_ON_MSG_CORREC_Q: QUEUE_ID= OLDI
ECO_216 EQCST field :W/NO
ECO_216 EQCST field :W/NO Y/EQ
Cruising speed: N0145
Cruising level: F100
Route         : XEVLU IFR TUSIN HLV M984 MIKOV M984 STO M174 SNU VFR
OPQ_MSG_CORRECTION.MODIFY: Center ->  LKAA
OPQ : Handle message MMI TO MCQ finished at  2016 10 13 6 58 32 470
OPQ : End of treatment for message received in MMI_TO_OP_Q_MSG_CORREC_Q_F at  2016 10 13 6 58 32 470
OPQ : Processing duration : 0 s 3 millis
OPQ : Message received in FPL_TO_OP_Q_REPORT_F at  2016 10 13 6 58 32 576
OPQ : answer to action on MCQ is : (NAK-EPS/1-ERR/ER0110 Error during profile computation.                               -TXT/-TITLE ACT ^M
-REFDATA ^M


                                                       End of Disk
                                                       -----------
Oct 13, 2016 6:58:32 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 13, 2016 6:58:32 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------
Oct 13, 2016 6:58:32 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on handler of BasicReplier [in: ICAO_FROM_OPQ_FIFOFDP01_OPER, out: deck [REPORT_FROM_FPL]] [SelectableReplier]

    Icao action to do is ACT
                                                                                                                                                                                  FplBaseMng message in advance ...
FplBaseMng message in advance ...
Oct 13, 2016 6:58:32 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write                                                                                          INFO: Writing message to output FIFO MFS_FFS_SAFE_DATAFDP01_OPER
Oct 13, 2016 6:58:32 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
BEGIN EXTRAPOLATE_ENTRY_AND_EXIT_TRAJECTORY
CLIP ROUTE AVAILABLE IN DATASET ? : true
NO EXTRAPOLATION (not necessary)
END EXTRAPOLATE_ENTRY_AND_EXIT_TRAJECTORY
FPL ROUTE_AMENDMENT processing: RTE_AMENDMENT is PARTIAL
ROUTE is partially updated with received amended route
downstreamRteStartDist = 10.0
vicinityDist = 15.0
Partial Route Amendment From Unknown to Unknown
dummyPt elapsed distance = 163.89208984375
dummyPt + vicinity elapsed distance = 178.89208984375
downstream route: dummy point taken
Start of downstream route: dummy point 4840N01626E with rank before: 8 next fix rank: 9
ROUTE is partially updated with received amended route
downstreamRteStartDist = 10.0
vicinityDist = 15.0
CLIP ROUTE AVAILABLE IN DATASET ? : true
CLIP ROUTE AVAILABLE IN DATASET ? : true
FPL: building name of fix 1
FPL: point found in data base : XEVLU
FPL: building name of fix 1
FPL: point found in data base : XEVLU
FPL: building name of fix 2
FPL: point found in data base : USALO
FPL: building name of fix 2
FPL: point found in data base : TUSIN
FPL: VALIDATE_ROUTE_AMENDMENT - 1 common points, 1 points overflown (incl. the next one).
Lvl from proj into oldFixes for XEVLU (LatLong=500544N 0195446E) with ExtrapoLvl=16000.0 & ElDist=0.0
Lvl from proj into oldFixes for TUSIN (LatLong=495051N 0183422E) with ExtrapoLvl=16000.0 & ElDist=54.01164627075195
Lvl from proj into oldFixes for TUSIN (LatLong=495051N 0183422E) with ExtrapoLvl=16000.0 & ElDist=54.01164627075195
Lvl from proj into oldFixes for HLV (LatLong=491922N 0173142E) with ExtrapoLvl=16000.0 & ElDist=105.55711364746094
Lvl from proj into oldFixes for HLV (LatLong=491922N 0173142E) with ExtrapoLvl=16000.0 & ElDist=105.55711364746094
Lvl from proj into oldFixes for MIKOV (LatLong=484705N 0163716E) with ExtrapoLvl=16000.0 & ElDist=153.79217529296875
almost missed the transition => setting local start point to end point
Lvl from proj into oldFixes for MIKOV (LatLong=484705N 0163716E) with ExtrapoLvl=16000.0 & ElDist=153.79217529296875
Lvl from oldFixes for STO (LatLong=482502N 0160107E) using OldFixIndex=12 & Lvl=11871.34375
Segment inflexion fix (LatLong=483447N 0161700E) computed at 18.224683196886197 from start segment point
Segment across the boundary  [MIKOV F16000.0 , inflexionPt]
Segment across boundary detected in received route : MIKOV-STO
last valid point: STO
Compute new start of downstream route
new start of downstream route : STO
beginning of amended route: XEVLU IFR TUSIN HLV M984 MIKOV M984                                                                                                                                                                                                                                                                                                       
end of amended route: STO M174 SNU VFR                                                                                                                                                                                                                                                                                                                                
Adding overflown points to new route.
CLIP ROUTE AVAILABLE IN DATASET ? : true
No STAR in received route
FPL : COMPUTE_DISK_DATA : FIRST_PROCESS = ROUTE
-> AMAN
  -> First point of Old STAR has been overflown (in old Icao route): NO
Type of STAR allocation : AUTOMATIC_WITHOUT_ROLLBACK
Check if old allocated STAR is still compliant
Old allocated STAR is not compliant.
allocateAutomaticArrivalData method: begin
Runway not locked : allocate automatically a runway
> Info: WARNING : no LANDING runway has been found
Runway allocated automatically :
STAR automatic allocation
Search for a STAR that fulfills STAR allocation criteria...
allocateAutomaticArrivalData method: end
Allocate runway     locked :false
<- AMAN
CLIP ROUTE AVAILABLE IN DATASET ? : true
LowpProcess : call processPath ONLY up to LOWP index=1 & Then project the old current (initCond.pos) into the New FixList
FPL : projectAndInsertAprInFixList => APR has been projected in the new route between [4] and [5] the projection is at [10.771291219899256 N ] from APR.
FPL : projectAndInsertAprInFixList =>   Inside Segment Case   [true]
FPL : projectAndInsertAprInFixList =>   Upstream Route Case   [false]
FPL : projectAndInsertAprInFixList =>   Downstream Route Case [false]
FPL : projectAndInsertAprInFixList =>   Sharp Angle Case      [false] with route point index [-1]
LowpProcess : initCond.getElapsedDistance()=175.62296544173745 / initCond.getInitialTime()=065823
LowpProcess : Current Index=5 / ElapsedDist=175.62296544173745

UTRACE: 3  3d
FPL : projectAndInsertAprInFixList => APR has been projected on new route, reset reference time.
LowpProcess : Lowp Index=1 / comFl=16000.0 / comAs=0.0
FPL : computeAndInsertInflectionPt =>  Inflection Point for the TOD as it is not present anymore:
Exception dumped at: Thu Oct 13 06:58:32 UTC 2016
java.lang.IllegalArgumentException: Illegal index value: it must be in the interval [1,  8]. Index = 11
        at com.thales.atms.pro.tpm.Trajectory.getFix(Trajectory.java:762)
        at com.thales.atms.pro.manager.InflectionPointImpl.computeInflectionPointInDescent(InflectionPointImpl.java:203)
        at com.thales.atms.pro.manager.InflectionPointImpl.computeAllInflectionPt(InflectionPointImpl.java:102)
        at com.thales.atms.pro.manager.InflectionPointImpl.compute(InflectionPointImpl.java:52)
        at com.thales.atms.pro.manager.ProfileTrigger.retrieveLowp(ProfileTrigger.java:966)
        at com.thales.atms.pro.manager.ProfileTrigger.projectAndInsertAprInFixList(ProfileTrigger.java:921)
        at com.thales.atms.pro.manager.ProfileTrigger.proComputeDiskDataMain(ProfileTrigger.java:396)
        at com.thales.atms.pro.FplPro.compute4DProfile(FplPro.java:949)
        at com.thales.atms.fdm.internal.FdmProcessing.computeTrajectory(FdmProcessing.java:1498)
        at com.thales.atms.fdm.internal.FdmProcessing.computeDiskData(FdmProcessing.java:303)
        at com.thales.atms.fdm.internal.FdmProcessing.extractionProcessing(FdmProcessing.java:1038)
        at com.thales.atms.fdm.internal.FdmProcessing.extractionProcessing(FdmProcessing.java:764)
        at com.thales.atms.fdm.processing.fpl.FdmCoordServicesAh.fdmProcessActOrRap(FdmCoordServicesAh.java:303)
        at com.thales.atms.fdm.processing.fpl.FplCoordinationService.oldiActivationOrReferredActivation(FplCoordinationService.java:125)
        at com.thales.atms.fds.processing.external.ActRapMessageProcessor.processImpl(ActRapMessageProcessor.java:53)
        at com.thales.atms.fds.processing.external.OldiCreationMessageProcessor.processMessage(OldiCreationMessageProcessor.java:101)
        at com.thales.atms.fds.processing.external.OldiCreationMessageProcessor.process(OldiCreationMessageProcessor.java:64)
        at com.thales.atms.fds.processing.external.ActMessageProcessor.process(ActMessageProcessor.java:64)
        at com.thales.atms.fds.input.processing.AbstractRegularRequestProcessor.process(AbstractRegularRequestProcessor.java:63)
        at com.thales.atms.fds.input.processing.AbstractRequestProcessor.processImpl(AbstractRequestProcessor.java:101)
        at com.thales.atms.fds.input.processing.BaseRequestProcessor.process(BaseRequestProcessor.java:26)
        at com.thales.atms.expedit.ipc.listener.SelectableReplier.newAvailableEvents(SelectableReplier.java:71)
        at com.thales.atms.expedit.app.AbstractUbssApplication.start(AbstractUbssApplication.java:301)
        at com.thales.atms.fds.FdpMain.main(FdpMain.java:39)
Exception has been catched and transformed into Error message Software error in Profile !
   --> Processing report for ACT is: SOFTWARE_ERROR_IN_PROFILE (ER0110 Error during profile computation.)
Oct 13, 2016 6:58:32 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO REPORT_FROM_FPLFDP01_OPER
Oct 13, 2016 6:58:32 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: -------------------------------------------------------------";COMP00250123;;COMP00250123
COMP00250140;COMP00250140;COOPANS;COMP00250140;B3.3 Demo2 IRF 10508;COMP00250140;NONE;COMP00250140;NONE;COMP00250140;Solved;COMP00250140;ECO343: route and point name are switched in error message;COMP00250140;Problem Report;COMP00250140;S4;COMP00250140;COOPANS_B3_3_3_1;COMP00250140;LEJAY Vincent;COMP00250140;;COMP00250140;Item;COMP00250140;Systematic;COMP00250140;;COMP00250140;FDP_PRONG;COMP00250140;;COMP00250140;;COMP00250140;NA;COMP00250140;;COMP00250140;;COMP00250140;ATM User;COMP00250140;;COMP00250140;25 octobre 2016 16:19:46 GMT+02:00;COMP00250140;COMBES Guillaume;COMP00250140;Low;COMP00250140;25 octobre 2016 17:52:00 GMT+02:00;COMP00250140;COOPANS_B3_3_3_4;COMP00250140;;COMP00250140;4 novembre 2016 01:00:00 GMT+02:00;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;ECO343 checklist;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;"ECO343
BCT2
B3_3_DEV";COMP00250140;LEJAY Vincent;COMP00250140;Software;COMP00250140;System Factory Validation;COMP00250140;Coding;COMP00250140;COMP00250520;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;;COMP00250140;18 octobre 2016 11:41:35 GMT+02:00;COMP00250140;"---------------------
-- GCO 25/10/2016 --
---------------------
modify the exception parameters.";COMP00250140;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: Luc Molimard

SYSTEM data
 - Rig		:  VVTT
 - Dataset		: 
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: 
 - Typical time	:  14:50
 - Typical callsign	: 
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------
Demo2 ECO343 13/10/16

Checklist ECO343 Action 8.2, 14:50

Error message not making sense: ""Point KY60 not in route SONAM""

KY60 is a route and SONAM is a point



OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

Error message not making sense: ""Point <route> not in route <point>""


EXPECTED BEHAVIOR
--------------------------
Error message : ""Point <point> not in route <route>""



OPERATIONAL CONSEQUENCES
-------------------------------------
Disturb the controller



WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No ( )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================";COMP00250140;;COMP00250140
COMP00250153;COMP00250153;COOPANS;COMP00250153;;COMP00250153;NONE;COMP00250153;NONE;COMP00250153;Submitted;COMP00250153;AIW Warning not displayed for delegated out coupled flights;COMP00250153;Problem Report;COMP00250153;S4;COMP00250153;COOPANS_B3_3_3_1;COMP00250153;ANSELME Clara;COMP00250153;;COMP00250153;Item;COMP00250153;Systematic;COMP00250153;;COMP00250153;ATLAS;COMP00250153;;COMP00250153;;COMP00250153;3.2.1.5.9 Airspace Intrusion Warning (AIW) function;COMP00250153;;COMP00250153;;COMP00250153;ATM User;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;COOPANS_B3_3_3_4;COMP00250153;;COMP00250153;4 novembre 2016 01:00:00 GMT+02:00;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;FDM-FPDO-02_rev_2.4;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;"B3_3_DEV 
ECO336 
REGRESSION";COMP00250153;ANSELME Clara;COMP00250153;;COMP00250153;System Factory Validation;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;;COMP00250153;18 octobre 2016 14:36:29 GMT+02:00;COMP00250153;;COMP00250153;"18/10/2016
Regression on ECO336, due to IRS NG

Scenario : 
On VVACC airspace, 
Create a track crossing an AIW area eligible for delegated out flights.
The AIW warning is well displayed.

Couple this track to a flight plan

Abnormal behaviour:
the AIW warning is removed from display

See traces here :
cpr1tlg01sv:/home/TLOG/sysref/SaveProblems/COOPANS_B3_3/COMP00250153/XtermLog.log.2016_10_18-120001.bz2


.aems:
# crossing AIW in LR allowing AIW for DO flight
AFTN-TCPIP	001	(FPL-AIW1A-IS-A321/M-SWY/SC-EDDF<time-25>-N0454F290 AKOSI UM736 MANAL LIZUM LIKDA BAKOR UN503 VIC UL12 FER UQ58 VALEN UM738 AMTEL UL995 BOL -LIRF0200-CODE/1000A3)

# crossing AIW in UR not allowing AIW for DO flight
AFTN-TCPIP	001	(FPL-AIW1B-IS-A321/M-SWY/SC-EDDF<time-25>-N0454F330 AKOSI UM736 MANAL LIZUM LIKDA BAKOR UN503 VIC UL12 FER UQ58 VALEN UM738 AMTEL UL995 BOL -LIRF0200-CODE/1000A6)


.fip (ptg):
(FPL-AIW1A/A2003-ZZZZ-C- TULSI/N0440F290/R ERKIR DETSA NIVAS/N0440F290 -EST/TULSI/000001 RMK/MODES CODE/1000A3  BDS40 BDS50 BDS60)
(FPL-AIW1B/A2006-ZZZZ-C- LUXEK/N0440F330/R BIRGI DETSA NIVAS/N0440F330 -EST/LUXEK/000001 RMK/MODES CODE/1000A6  BDS40 BDS50 BDS60)";COMP00250153;;COMP00250153
COMP00250155;COMP00250155;COOPANS;COMP00250155;;COMP00250155;NONE;COMP00250155;NONE;COMP00250155;Solved;COMP00250155;Add NTP configuration file management in RESMS;COMP00250155;Problem Report;COMP00250155;S4;COMP00250155;COOPANS_B3_3_3_1;COMP00250155;COUETOUX Anne;COMP00250155;;COMP00250155;Item;COMP00250155;Systematic;COMP00250155;;COMP00250155;UCFG;COMP00250155;;COMP00250155;;COMP00250155;NA;COMP00250155;;COMP00250155;;COMP00250155;ATM User;COMP00250155;;COMP00250155;18 octobre 2016 14:42:45 GMT+02:00;COMP00250155;COUETOUX Anne;COMP00250155;High;COMP00250155;18 octobre 2016 18:52:01 GMT+02:00;COMP00250155;COOPANS_B3_3_3_3;COMP00250155;;COMP00250155;;COMP00250155;COOPANS_B3_3_3_3;COMP00250155;;COMP00250155;;COMP00250155;;COMP00250155;;COMP00250155;NA;COMP00250155;;COMP00250155;;COMP00250155;;COMP00250155;;COMP00250155;;COMP00250155;;COMP00250155;"B3_3_DEV
ECO336";COMP00250155;COUETOUX Anne;COMP00250155;Software;COMP00250155;System Factory Integration;COMP00250155;System Site Integration;COMP00250155;COMP00250157;COMP00250155;;COMP00250155;;COMP00250155;;COMP00250155;;COMP00250155;18 octobre 2016 14:40:28 GMT+02:00;COMP00250155;"DECISION
- Direction decided:
- Other activities identified:
CUSTOMER
- Arguments to give less priority:
- Why the PCR isn't a problem but an enhancement:";COMP00250155;Refers to titel;COMP00250155;;COMP00250155
COMP00250158;COMP00250158;COOPANS;COMP00250158;;COMP00250158;NONE;COMP00250158;NONE;COMP00250158;StartedWork;COMP00250158;DAF does not start correctly en COOPANS_B3_3 release;COMP00250158;Problem Report;COMP00250158;S3;COMP00250158;COOPANS_B3_3_3_1;COMP00250158;COUETOUX Anne;COMP00250158;;COMP00250158;Item;COMP00250158;Systematic;COMP00250158;;COMP00250158;"DAF
UCFG";COMP00250158;;COMP00250158;;COMP00250158;NA;COMP00250158;;COMP00250158;;COMP00250158;ATM User;COMP00250158;;COMP00250158;18 octobre 2016 15:06:13 GMT+02:00;COMP00250158;COUETOUX Anne;COMP00250158;Critical;COMP00250158;;COMP00250158;COOPANS_B3_3_4;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;NA;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;B3_3_DEV;COMP00250158;COUETOUX Anne;COMP00250158;Software;COMP00250158;System Factory Integration;COMP00250158;;COMP00250158;COMP00250159;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;;COMP00250158;18 octobre 2016 15:00:43 GMT+02:00;COMP00250158;"DECISION
- Direction decided:
- Other activities identified:
CUSTOMER
- Arguments to give less priority:
- Why the PCR isn't a problem but an enhancement:";COMP00250158;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: T . Aoustin

SYSTEM data
 - Rig		: All
 
=============================
 PLAIN TECHNICAL DESCRIPTION
=============================


It is not possible to start DAF with COOPANS_B3_3_3_1 release , even with configuration update.
Refers to mail exchange between Thierry Aoustin (Integ Team) and Nicolas Chave";COMP00250158;;COMP00250158
COMP00250177;COMP00250177;COOPANS;COMP00250177;;COMP00250177;NONE;COMP00250177;NONE;COMP00250177;Submitted;COMP00250177;Intersector coordination does not work with homonymous point;COMP00250177;Problem Report;COMP00250177;S4;COMP00250177;COOPANS_B3_3_3_1;COMP00250177;MOLIMARD Luc;COMP00250177;;COMP00250177;Item;COMP00250177;Systematic;COMP00250177;;COMP00250177;FDP;COMP00250177;;COMP00250177;;COMP00250177;NA;COMP00250177;;COMP00250177;;COMP00250177;ATM User;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;COOPANS_B3_3_3_4;COMP00250177;;COMP00250177;4 novembre 2016 01:00:00 GMT+02:00;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;OTH-HOMONYM-01;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;"ECO343
B3_3_DEV";COMP00250177;MOLIMARD Luc;COMP00250177;;COMP00250177;System Factory Validation;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;;COMP00250177;18 octobre 2016 16:42:56 GMT+02:00;COMP00250177;;COMP00250177;"L.MOLIMARD 18/10/2016
----------------------------
1/ Uplink message not sent

HOMY1 is ATN CPDLC connected
Assumed on V, Coordinated on V
V proposes homonymouns point GELBA then select KEMEG item
N cannot accept through CPDLC the proposal => NOK

2/ Wrong COP use
Seen during COOPANS demonstration

C/S HOMW1 Downstream propose homonymous point RAM/RAM but FDP use 
RAM/POVEL

Trace available.

Problem is due that latlong is not stored in coordination data by FDP";COMP00250177;;COMP00250177
COMP00250211;COMP00250211;COOPANS;COMP00250211;SCVF B3_109;COMP00250211;NONE;COMP00250211;NONE;COMP00250211;Analysed;COMP00250211;DCT order on Geographic point through CPDLC fail with FPL_AMENDMENT_UNKNOWN_POINT error;COMP00250211;Problem Report;COMP00250211;S4;COMP00250211;COOPANS_B3_2_9_2;COMP00250211;EDOUARD Paul;COMP00250211;;COMP00250211;Item;COMP00250211;Systematic;COMP00250211;;COMP00250211;AGDP;COMP00250211;;COMP00250211;;COMP00250211;EUR-DLSACL-054;COMP00250211;;COMP00250211;;COMP00250211;ATM User;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;System experimentation;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;EDOUARD Paul;COMP00250211;System;COMP00250211;System Experimentation;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;;COMP00250211;19 octobre 2016 12:07:56 GMT+02:00;COMP00250211;;COMP00250211;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: P. Edouard / K. Collins

SYSTEM data
 - Rig		: SHCVF
 - Dataset		: SHCV_TST_B3_2_D29
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: Yes
 - Typical time	: 10:23:55
 - Typical callsign	: ATN004
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------
In B3.2.9, the FPL IRS changed since the geographic points are not automatically converted in degrees + minutes.
Example : in B3.1, the route DCT 56N020W DCT NEEKO was automatically converted in DCT 5600N02000W DCT NEEKO.
In B3.2.9 : the route DCT 56N020W DCT NEEKO stays as is.


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
At 10h23m55s, we send a DCT order through CPDLC on flight ATN004 :
(DCT-ATN004-EGLL-KJFK-TRK/9367 2296 BCN/55N020W OCC/11)

This DCT order is rejected with the reason FPL_AMENDMENT_UNKNOWN_POINT : ""Unknown point 55N020W"".

EXPECTED BEHAVIOR
--------------------------
The DCT order should have been accepted.


OPERATIONAL CONSEQUENCES
-------------------------------------
Impossible to send a DCT order through CPDLC to the flight.


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes (X) / No ( )
- Workaround description (if any):
    - Send a DCT order through RT;
    - Modify the flight in order to add the minutes information in the geographic point (see technical description below).

=============================
 PLAIN TECHNICAL DESCRIPTION
=============================
Linked to IAA IRF SCVF B3_109.
The dataset used is available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/DATASETs
Traces are available on Rungis FTP  : /home/TLOG/TLOG_SaveProblems/SITE_IAA/SHANNON/COMP00249986.tar.bz2.

The DCT order is only rejected when the minutes informations are not contained in the geographic point.
For example, the following order works well : 
(DCT-ATN004-EGLL-KJFK-TRK/9262 2315 BCN/5447N01150W OCC/11 )

Traces of the failing message: 
GCPD_101 [10:23:55] INFO - Beginning of Processing
GCPD_101 [10:23:55] INFO - FIFO: MMI_TO_CPDLC
GCPD_101 [10:23:55] DEBUG - MmiToCpdlcMsgMngt::isMmiMessageAuthentic(): MMI message was sent by MMI013_OPER     with timestamp
GCPD_101 [10:23:55] DEBUG - MmiToCpdlcMsgMngt::isMmiMessageAuthentic: Position is 1, MMI Name is MMI013_OPER    , Timestamp is (12/10/2016 10:23:46.189)
GCPD_101 [10:23:55] DEBUG - 
=========== MMI Clearance Request ===========
- Flight Plan Number: [212]
- Response: [NONE]
- Ref Message Id: [-1]
- Clearance Message: (DCT-ATN004-EGLL-KJFK-TRK/9367 2296 BCN/55N020W OCC/11 )
==============================
GCPD_101 [10:23:55] DEBUG - CpdlcDtbSafetyMngt::isMmiDataMatchingAgdpData begin
GCPD_101 [10:23:55] DEBUG - INCOMING DATA: aircraftId=11, flightPlanNumber=212, callsign=ATN004, tailnumber=ATN004, icao24bits=400004
GCPD_101 [10:23:55] DEBUG - INTERNAL DATA: aircraftId=11, flightPlanNumber=212, callsign=ATN004    , tailnumber=ATN004 , icao24bits=400004
GCPD_101 [10:23:55] DEBUG - CpdlcDtbSafetyMngt::isMmiDataMatchingAgdpData end
GCPD_101 [10:23:55] DEBUG - MmiToCpdlcMsgMngt::processClearanceRequest()
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::extractClrKind()
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::extractClrKind(): Header of received message: DCT
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::checkForEmptyVCI()
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::extractClrKind()
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::extractClrKind(): Header of received message: DCT
GCPD_101 [10:23:55] DEBUG - MmiToCpdlcMsgMngt::sendMmiClearanceRequest()
GCPD_101 [10:23:55] DEBUG - facade_bns_get begin
GCPD_101 [10:23:55] DEBUG -    received name = ATN_LINE_STATE_OPER
GCPD_101 [10:23:55] DEBUG - facade_bns_get end
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::extractClrKind()
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::extractClrKind(): Header of received message: DCT
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::fillClearanceValue()
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::extractDctValue()
GCPD_101 [10:23:55] DEBUG - CpdlcClearancesMngt::convertStringToPosition()
GCPD_101 [10:23:55] ERROR - CpdlcClearancesMngt::convertStringToPosition wrong position name or format:55N020W                                                                                                                                                                                                                         
GCPD_101 [10:23:55] DEBUG - facade_npm_get_groupname begin
GCPD_101 [10:23:55] DEBUG -    proc_name = 
GCPD_101 [10:23:55] DEBUG -    returned group_name = AGDP01_OPER
GCPD_101 [10:23:55] DEBUG - facade_npm_get_groupname end
GCPD_101 [10:23:55] DEBUG - facade_tc_open_external_fifo begin
GCPD_101 [10:23:55] DEBUG -    fifo_name = CPDLC_TO_MMI_F
GCPD_101 [10:23:55] DEBUG -    fifo already initialized
GCPD_101 [10:23:55] DEBUG - facade_tc_open_external_fifo end
GCPD_101 [10:23:55] DEBUG - facade_tc_close_external_fifo begin
GCPD_101 [10:23:55] DEBUG - facade_tc_close_external_fifo end
GCPD_101 [10:23:55] INFO - End of Processing


";COMP00250211;;COMP00250211
COMP00250250;COMP00250250;COOPANS;COMP00250250;SHTRG 496;COMP00250250;NONE;COMP00250250;NONE;COMP00250250;Analysed;COMP00250250;BEST : BLOB handle error on AFTN script creation;COMP00250250;Problem Report;COMP00250250;S4;COMP00250250;COOPANS_B3_1_7_3;COMP00250250;EDOUARD Paul;COMP00250250;;COMP00250250;Item;COMP00250250;Systematic;COMP00250250;;COMP00250250;BEST;COMP00250250;;COMP00250250;;COMP00250250;SIM-OH;COMP00250250;;COMP00250250;;COMP00250250;ATM User;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;System Training;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;EDOUARD Paul;COMP00250250;System;COMP00250250;System Exploitation;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;;COMP00250250;19 octobre 2016 18:04:02 GMT+02:00;COMP00250250;;COMP00250250;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: S. Cunningham / P. Edouard

SYSTEM data
 - Rig		: SHTRG
 - Dataset		: 
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: 
 - Typical time	: 
 - Typical callsign	: 
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------
Using BEST version 2.37.04.03.



OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
During the preparation of an exercise with Best DataPrep, while we tried to create a AFTN script on an Exercise flight plan, the script creation is rejected with the error : ""Invalid BLOB handle in record buffer"".
See the screenshot attached.


EXPECTED BEHAVIOR
--------------------------
It should be possible to create a AFTN script on a given flight plan of the exercise.


OPERATIONAL CONSEQUENCES
-------------------------------------
No way to create new AFTN scripts.
This error also happen when you try to delete or modify any other AFTN message of the airspace. Consequently, it is not possible anymore to modify the AFTN scripts of the airspace.



WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes (X) / No ( )
- Workaround description (if any):
    - Delete AFTN scripts from other exercises of the airspace (through the Best Database modification)
    - Move the exercise into another airspace.

=============================
 PLAIN TECHNICAL DESCRIPTION
=============================
It seems that there is a BEST internal limit about the maximum number of AFTN messages allowed in an airspace since : 
  - This problem happened just when the number of AFTN messages for the airspace reached 2000 messages;
  - It is possible to create AFTN messages anew once you deleted other messages from the exercise (by directly modifying the Best Database, without using Best DataPrep);
  - It is possible to create AFTN messages in other airspaces.
";COMP00250250;;COMP00250250
COMP00250266;COMP00250266;COOPANS;COMP00250266;;COMP00250266;NONE;COMP00250266;NONE;COMP00250266;StartedWork;COMP00250266;Evolution for II1_CCR_0022 (OLDI/FMTP) / II1_CTR_0027 (followed by correspondences C/II1/0328 and C/II1/0333;COMP00250266;Problem Report;COMP00250266;S3;COMP00250266;COOPANS_IAA_SR_7.01;COMP00250266;DURAND Laurent;COMP00250266;;COMP00250266;Item;COMP00250266;Systematic;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;NONE;COMP00250266;;COMP00250266;;COMP00250266;ATM User;COMP00250266;;COMP00250266;20 octobre 2016 09:56:38 GMT+02:00;COMP00250266;DURAND Laurent;COMP00250266;Low;COMP00250266;;COMP00250266;COOPANS_IAA_SR_7.02;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;NONE;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;"
==============
Closure Description
==============

AUTHOR/WITNESSES - DATE: DURAND Laurent - 20/10/2016
*******************************************************
To be completed

";COMP00250266;;COMP00250266;;COMP00250266;DURAND Laurent;COMP00250266;Hardware;COMP00250266;Other;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;;COMP00250266;20 octobre 2016 09:37:57 GMT+02:00;COMP00250266;"
===============
Decision Description
===============

AUTHOR/WITNESSES - DATE: DURAND Laurent - 20/10/2016
*******************************************************

SYSTEM data:
Site(s): COOPANS IAA Ballygirreen and COOPANS IAA Shannon
Platform(s): CVF and SDE/OFL

Plain technical description:
Evolution to take into account II1_CCR_0022 (OLDI/FMTP) / II1_CTR_0027 (followed by correspondences C/II1/0328 and C/II1/0333)

Impacted system files:
- duolndi1asr, duttndi1asr, sholndi1asr, shcvnin2asw configuration files
- duolexs1aro, duolexs1bro, duttexs1aro, duttexs1bro, sholexs1aro, sholexs1bro, shcvexs1aro, shcvexs1bro configuration files
- shofnet01sw, shofofl01ro, bgcvofl01ro configuration files (only comment update due to Shanwick)
- Dublin ONL/TTF and Shannon ONL/CVF eHCT databases : hdmt_networks, hdmt_hosts, routing.hcs
- Ballygirreen CVF eHCT database : hdmt_networks, hdmt_hosts,
- duoldcs1asv, duoldcs1bsv, duttdcs01sv, sholdcs1asv, sholdcs1bsv, shcvdcs1asv, shcvdcs1bsv routing files
";COMP00250266;"
=================
Submission Description
=================

AUTHOR/WITNESSES - DATE: DURAND Laurent - 20/10/2016
*******************************************************

SYSTEM data:
Site(s): COOPANS IAA Ballygirreen (Shanwick not implemented in the frame of BGN SAT), Dublin and Shannon 
Platform(s):
- Dublin ONL/TTF
- Shannon ONL/CVF
- Shannon OFL and Ballygirreen CVF (only comment update due to Shanwick)
Equipment:
- Dublin ONL/TTF and Shannon ONL/CVF DCS nodes (routes to be added)
- Dublin ONL/TTF and Shannon ONL/CVF MNTS positions (eHCT database update)
- duolndi1asr, duttndi1asr, sholndi1asr, shcvnin2asw (ports to be configured to connect the FREH Tool)
- Dublin ONL/TTF and Shannon ONL/CVF EXS routers (EIGRP routing to be added) 
- shofnet01sw, shofofl01ro, bgcvofl01ro (only comment update due to Shanwick)

PCR context:
None

Problem data:
None

Plain technical description:
Evolution to take into account II1_CCR_0022 (OLDI/FMTP) / II1_CTR_0027 (followed by correspondences C/II1/0328 and C/II1/0333)


";COMP00250266;;COMP00250266
COMP00250288;COMP00250288;COOPANS;COMP00250288;;COMP00250288;NONE;COMP00250288;NONE;COMP00250288;Analysed;COMP00250288;Wrong duplicated point used on DCT;COMP00250288;Problem Report;COMP00250288;S4;COMP00250288;COOPANS_B3_3_3_1;COMP00250288;MOLIMARD Luc;COMP00250288;;COMP00250288;Item;COMP00250288;Systematic;COMP00250288;;COMP00250288;FDP;COMP00250288;;COMP00250288;;COMP00250288;NA;COMP00250288;;COMP00250288;;COMP00250288;ATM User;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;OTH-HOMONYM-01;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;Problem Disappeared;COMP00250288;;COMP00250288;;COMP00250288;"ECO343
B3_3_DEV";COMP00250288;MOLIMARD Luc;COMP00250288;Software;COMP00250288;System Factory Validation;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;;COMP00250288;20 octobre 2016 14:18:14 GMT+02:00;COMP00250288;;COMP00250288;"L.MOLIMARD 20/10/2016
-----------------------------
HOMX1 is assumed 
I perform a DCT to duplicated point GELBA, I select GELBA in homonymous popup

DCT is performed to GIBMA, the first duplicated point => NOK

--ECO343
  GELBA | 554346N0084900E | REPORT     |     |     |      | EKDK |      |      |  YES | YES |GELBA |  20051025/sla
  GELBB | 554346N0084900E | REPORT     |     |     |      | EKDK |      |      |  YES | YES |GELBA |  20051025/sla
  GELBA | 564315N0085221E | REPORT     |     |     |      | EKDK |      |      |  YES | YES |KEMEG |  20051025/sla
  GELBA | 544726N0100000E | NDB        |     |     |      | EDWW |      |      |  YES | NO  |GELTI |  20051026/kti
  GELBA | 531247N0084618E | NONE       |     |     |      | EDWW |      |      |  YES | YES |GIBMA |  20070705/sla
--ECO343

AFTN-TCPIP      001     (CPL-HOMX1/A2111-IN-B737/M-J1S/C-EGPX-ROPAL/<time+05>F310-N0340F310 NIGOL INPUT LUTAN PEGAM LATVO ABINO HAR-ESSA-CODE/414576 DAT/V)

Traces abailable on 10.96.147.138

FPL : (DCT-HOMX1-EGPX-ESSA-TRK/-7065 -2340 BCN/GELBA DUP/5544N00849E ) on PPOS  2 for cdcNb  3
Modif_time from MMI is 12:16:17 and 12:16:17
Flight plan number from MMI :  3
MMI_MSG : field is -7065
MMI_MSG : field is -2340

    Icao action to do is DIRECT

Oct 20, 2016 12:17:51 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SAFE_DATAFDP01_OPER
FPL : Unable to send Safe data to standby (master or fallback).
Oct 20, 2016 12:17:51 PM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO SAFE_DATAFDP01_OPER
FPL : Unable to send Safe data to slave.
[DAD] -> SkipServices.unskip
[DAD] <- SkipServices.unskip
[FDM] : created DctBufferBuilder
route update on DCT
FPL : COMPUTE_DISK_DATA : FIRST_PROCESS = ROUTE
<- AMAN
CLIP ROUTE AVAILABLE IN DATASET ? : true
FPL : isCurrentChangeTrajectory => Check if current is a route divergence fix
FPL : isCurrentChangeTrajectory => Current is a beacon fix. Do not change it into a DRF.
back to cruise elapsed distance: 327.2182312011719
Profile trajectory Loop InitPro3dLoop computation start
PEL Handler case : UU
ADEP: EGPX ADES: ESSA FIR: EGPX PEL level: 31000.0 RFL level: 31000.0 Prop Cop: ROPAL Comp Cop: ROPAL
PEL behaviour frozen, restore from stored one
selected rule is: [isConstraint=true] [behaviour=STAY_AT_PEL] [lock=LOCK_RULES_AT_ASSUMPTION]
entry #1: VerticalPelOrderHandlerUuImpl
-- online orders --
[EGPX (# 1)]=PEL ORDER: pel=31000.0, displayedPel=0.0, pelOnVerticalTrans=true, proposedCop=ENTRY_COP: ROPAL      @31000.0 from: 5/1 to: 0/12, isForcedHorizontal=false, isFirstProcessing=false, lufl=0.0, isSuperseeded=No, SPED=59.14859075325337, frozen=Y
-- cstrs --
ECL, tsp: 0.00 tdur: 0.00 level: 31000.00
FIR_PEL, tsp: 59.15 tdur: 20.00 level: 31000.00
ECL, tsp: 583.01 tdur: no_dur level: 31000.00
origin = F15B, level = 31000.00, eDist = 0.0, originDist = 0.0
origin = UPSTREAM_ECL, level = 31000.00, eDist = 0.0, originDist = 0.0
--------------------------
-> Natural Profile Computation
OLFC restoration
OLFD computation
step OLFD_1:
step OLFD_2:
step OLFD_3:
<- Natural Profile Computation
-> ConstraintsValidation
   ------------------------------
   CRUISE (3 cstr)
      - #2 : (FIR_PEL)@31000, TSP:59.15, TDur: 20.00, target
      in seg: cstr#1(ECL)@31000 [0.00 - 583.01] cstr#3(ECL)@31000
         - evol start: 31000 - 31000, reached:0, needed:0.00Nm
-> manageCruiseValidationAgainstFinalCondition
   ------------------------------
--> Cstr List validation results:
ID:1 (ECL @31000) Status:ENABLE, ESP:0.00, EDur: 0.00
ID:2 (FIR_PEL @31000) Status:ENABLE, ESP:59.15, EDur: 20.00
ID:3 (ECL @31000) Status:ENABLE, ESP:583.01, EDur: NO_DURATION
   ------------------------------
<- ConstraintsValidation
-> Ecl Computation
Applicable Ecls :
origin = F15B, level = 31000.00, elapsedDistance = 0.0, originDistance = 0.0, usedInNPComputation = true, status = ENABLE
-------------------------
origin = UPSTREAM_ECL, level = 31000.00, elapsedDistance = 0.0, originDistance = 0.0, usedInNPComputation = true, status = ENABLE, set as OLFDOrigin
-------------------------

Computed Ecls constraints :
Ecl constraint at level 31000.0 from 79.14859075325337 with duration 503.860825172449
Ecl constraint at level 31000.0 from 0.0 with duration 59.14859075325337
<- Ecl Computation
-- Skip Processor
POINT GREFI not found ??
POINT GOBEX not found ??
POINT VADIN not found ??
Profile trajectory Loop InitPro3dLoop computation done in 60.968684 ms
Profile trajectory Loop InterfirPro3dLoop computation start
No inter-FIR XFL found.
Profile trajectory Loop InterfirPro3dLoop computation done in 0.109499 ms
Profile trajectory Loop IntersectorPro3dLoop computation start
intersector default XFL inserted. Recompute natural profile and enable all constraints
-- online orders --
[EGPX (# 1)]=PEL ORDER: pel=31000.0, displayedPel=0.0, pelOnVerticalTrans=true, proposedCop=ENTRY_COP: ROPAL@31000.0 from: 5/1 to: 0/12, isForcedHorizontal=false, isFirstProcessing=false, lufl=0.0, isSuperseeded=No, SPED=59.14859075325337, frozen=Y
-- cstrs --
ECL, tsp: 0.00 tdur: 0.00 level: 31000.00
ECL, tsp: 0.00 tdur: 59.15 level: 31000.00
FIR_PEL, tsp: 59.15 tdur: 20.00 level: 31000.00
ECL, tsp: 79.15 tdur: 503.86 level: 31000.00
DEFAULT_XFL, tsp: 418.78 tdur: 20.00 level: 31000.00
ECL, tsp: 583.01 tdur: no_dur level: 31000.00
-- applicable ecls --
origin = F15B, level = 31000.00, eDist = 0.0, originDist = 0.0
origin = UPSTREAM_ECL, level = 31000.00, eDist = 0.0, originDist = 0.0
--------------------------
-> Natural Profile Computation
OLFC restoration
OLFD computation
step OLFD_1:
   Temporary OLFD: ECL at level 31000.0
   OLFD_1: ECL at level 31000.0
   OLFD converged after 2 loops.
step OLFD_2:
step OLFD_3:
<- Natural Profile Computation
-> ConstraintsValidation
   ------------------------------
   CRUISE (4 cstr)
      - #2 : (FIR_PEL)@31000, TSP:59.15, TDur: 20.00, target
      in seg: cstr#1(ECL)@31000 [0.00 - 583.01] cstr#4(ECL)@31000
         - evol start: 31000 - 31000, reached:0, needed:0.00Nm
-> manageCruiseValidationAgainstFinalCondition
      - #3 : (DEFAULT_XFL)@31000, TSP:418.78, TDur: 20.00

";COMP00250288;;COMP00250288
COMP00250315;COMP00250315;COOPANS;COMP00250315;;COMP00250315;NONE;COMP00250315;NONE;COMP00250315;Accepted;COMP00250315;Report of COMP00246665 and COMP00248982 into B3.1 - FDP redundancy issue;COMP00250315;Problem Report;COMP00250315;S4;COMP00250315;COOPANS_B3_1_8_2;COMP00250315;PERROT Mathieu;COMP00250315;;COMP00250315;Item;COMP00250315;Systematic;COMP00250315;;COMP00250315;"DPR
FDP_JFDP";COMP00250315;;COMP00250315;;COMP00250315;NONE;COMP00250315;;COMP00250315;;COMP00250315;ATM User;COMP00250315;;COMP00250315;26 octobre 2016 15:23:04 GMT+02:00;COMP00250315;SAITO Takashi;COMP00250315;Low;COMP00250315;;COMP00250315;COOPANS_B3_1_9;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;PCR Test;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;PERROT Mathieu;COMP00250315;Software;COMP00250315;System Exploitation;COMP00250315;;COMP00250315;COMP00250585;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;21 octobre 2016 08:25:31 GMT+02:00;COMP00250315;N/A;COMP00250315;"=========================
 PCR Description
=========================

See COMP00246665 


CONTEXTUAL INFORMATION
---------------------------------
COOPANS request to report correction of COMP00246665 and COMP00248982 into B3.1



OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

Failure of FDP redundancy upon crash of FDP on MMI command due to No NOK answer from FDP to MMI and UBSS fifo retry.


EXPECTED BEHAVIOR
--------------------------

Crash of FDP and takeover by the slave



OPERATIONAL CONSEQUENCES
-------------------------------------

Risk of loss up to MFS, SFS and FFS


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( ) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No ( )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================";COMP00250315;;COMP00250315
COMP00250315;COMP00250315;COOPANS;COMP00250315;;COMP00250315;NONE;COMP00250315;NONE;COMP00250315;Accepted;COMP00250315;Report of COMP00246665 and COMP00248982 into B3.1 - FDP redundancy issue;COMP00250315;Problem Report;COMP00250315;S4;COMP00250315;COOPANS_B3_1_8_2;COMP00250315;PERROT Mathieu;COMP00250315;;COMP00250315;Item;COMP00250315;Systematic;COMP00250315;;COMP00250315;"DPR
FDP_JFDP";COMP00250315;;COMP00250315;;COMP00250315;NONE;COMP00250315;;COMP00250315;;COMP00250315;ATM User;COMP00250315;;COMP00250315;26 octobre 2016 15:23:04 GMT+02:00;COMP00250315;SAITO Takashi;COMP00250315;Low;COMP00250315;;COMP00250315;COOPANS_B3_1_9;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;PCR Test;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;PERROT Mathieu;COMP00250315;Software;COMP00250315;System Exploitation;COMP00250315;;COMP00250315;COMP00250586;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;;COMP00250315;21 octobre 2016 08:25:31 GMT+02:00;COMP00250315;N/A;COMP00250315;"=========================
 PCR Description
=========================

See COMP00246665 


CONTEXTUAL INFORMATION
---------------------------------
COOPANS request to report correction of COMP00246665 and COMP00248982 into B3.1



OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

Failure of FDP redundancy upon crash of FDP on MMI command due to No NOK answer from FDP to MMI and UBSS fifo retry.


EXPECTED BEHAVIOR
--------------------------

Crash of FDP and takeover by the slave



OPERATIONAL CONSEQUENCES
-------------------------------------

Risk of loss up to MFS, SFS and FFS


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( ) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No ( )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================";COMP00250315;;COMP00250315
COMP00250317;COMP00250317;COOPANS;COMP00250317;;COMP00250317;NONE;COMP00250317;NONE;COMP00250317;Submitted;COMP00250317;Wrong error message raised at FPL creation;COMP00250317;Problem Report;COMP00250317;S4;COMP00250317;COOPANS_B3_3_3_1;COMP00250317;MOLIMARD Luc;COMP00250317;;COMP00250317;Item;COMP00250317;Systematic;COMP00250317;;COMP00250317;FDP;COMP00250317;;COMP00250317;;COMP00250317;NA;COMP00250317;;COMP00250317;;COMP00250317;ATM User;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;OTH-HOMONYM-01;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;KERNEL;COMP00250317;MOLIMARD Luc;COMP00250317;;COMP00250317;System Factory Validation;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;;COMP00250317;21 octobre 2016 09:01:41 GMT+02:00;COMP00250317;;COMP00250317;"L.MOLIMARD 21/10/2016
----------------------------
1/ POINT_DOES_NOT_BELONG_TO_THE_ROUTE error is not well managed: inversion between route and point
2/ UNKNOWN_FIX raised without cursor position

1/
FDP_ROUTER : MESSAGE RECEPTION on AFTN at 065851
FDP_ROUTER : MESSAGE RECEPTION : Message text is : ^M
DD TESTFDPS^M
210658 AEMSTEST^M
^B(CPL-HOMN3/A2113-IN-B737/M-S/C-ESSA-INVOL/0703F310-N0340F310 NEGIL INVOL ABINO SONAM KY60 BELUV CUTEL -EINN-DAT/V)
FDP_ROUTER : Message without optional Service Indication (Transmission time)(For instance, NAT)
FDP_PROBING.DUMP_PROBE : 06:58:51.069 => CLEAN_PROBE :  with DATA  with COMMENT || |
FDP_PROBING.DUMP_PROBE : 06:58:51.069 => RECORD_PROBE : AFTN with DATA AFTN_0025 with COMMENT |Probe on AFTN MSG : AFTN_0025 AFTN start| |
TREAT_CSN
..
FDP_ROUTER : the number of elements stored after the processing is 0
Exception raised during profile computation RouteValidationInvalidConnectionPoint
Exception raised during profile computation RouteValidationInvalidConnectionPoint
Exception raised during profile computation RouteValidationInvalidConnectionPoint
FPL - FDM exception in CplMessageProcessor: Point KY60 not in route SONAM
   --> Processing report for CPL is: POINT_DOES_NOT_BELONG_TO_THE_ROUTE (Point KY60 not in route SONAM)
Oct 21, 2016 6:58:51 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write

2/
FDP_ROUTER : MESSAGE RECEPTION : Message text is : ^M
DD TESTFDPS^M
210658 AEMSTEST^M
^B(CPL-HOMN4/A2113-IN-B737/M-S/C-ESSA-INVOL/0703F310-N0340F310 NEGIL INVOL AMINO KY60 PEGAM CUTEL -EINN-DAT/V)
FDP_ROUTER : Message without optional Service Indication (Transmission time)(For instance, NAT)

    Icao action to do is CPL

FPL : COMPUTE_DISK_DATA : FIRST_PROCESS = ROUTE
FDP_ROUTER : SET_WAITING_REPORT for FPL
BASE_MNG : Try to reenqueue item  1
FDP_ROUTER : ------------------------------------------------
FDP_ROUTER : Send auto_report for FDP : FALSE
FDP_ROUTER : Send auto_report for AIS : FALSE
FDP_ROUTER : Send auto_report for SSR : FALSE
FDP_ROUTER : End of treatment for message received in INPUT_REPORT_FIFO_F at  2016 10 21 6 58 52 77
FDP_ROUTER : the number of elements stored after the processing is 0
Exception raised during profile computation RouteValidationInvalidConnectionPoint
Exception raised during profile computation RouteValidationInvalidConnectionPoint
NEGIL INVOL AMINO KY60 PEGAM
Exception raised during profile computation UnknownItemInRouteField
FPL - FDM exception in CplMessageProcessor: Unknown fix
   --> Processing report for CPL is: UNKNOWN_FIX (Unknown fix)


Guillaume COMBES analysis: 
----------------------------------
10509 : 
Le probleme vient lorsque une duplicated airway ne peux pas se connecter. La plupart des cas sont pris en compte mais pas tous, notamment :

DuplicatedAirway suivit d ADES
DuplicatedAirway suivit d une PublishedAirway
DuplicatedAirway suivit d une PublishedNAT
DuplicatedAirway suivit d un PublishedPoint
DuplicatedAirway suivit d un UnknownItem
DuplicatedAirway suivit d une  PublishedStar

(PS : Si un element avant la duplicated airway ne matche avec aucun element des differentes definitions de l airway, la bonne erreur est levee).

Pour tous ces cas-la, l erreur n est pas leve, le process continue donc, mais fini par echouer car on a pas reussi a identifier l airway.
-Dans l immediat le process est quand meme sense echouer mais la bonne erreur n est pas levee a l utilisateur.";COMP00250317;;COMP00250317
COMP00250319;COMP00250319;COOPANS;COMP00250319;;COMP00250319;NONE;COMP00250319;NONE;COMP00250319;Submitted;COMP00250319;Alertnate/adapted route is not  used at FPL coordination;COMP00250319;Problem Report;COMP00250319;S4;COMP00250319;COOPANS_B3_3_3_1;COMP00250319;MOLIMARD Luc;COMP00250319;;COMP00250319;Item;COMP00250319;Systematic;COMP00250319;;COMP00250319;FDP;COMP00250319;;COMP00250319;;COMP00250319;NA;COMP00250319;;COMP00250319;;COMP00250319;ATM User;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;OTH-HOMONYM-01;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;MOLIMARD Luc;COMP00250319;;COMP00250319;System Factory Validation;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;;COMP00250319;21 octobre 2016 09:27:55 GMT+02:00;COMP00250319;;COMP00250319;"L.MOLIMARD 21/10/2016
-----------------------------
Create a flight using a route defined in ADAPT_ROUTE.ASF
Close the route
Coordinate the flight 
Alternate route is not computed in route";COMP00250319;;COMP00250319
COMP00250351;COMP00250351;COOPANS;COMP00250351;;COMP00250351;NONE;COMP00250351;NONE;COMP00250351;Accepted;COMP00250351;"""Button"" in callsign menu erroneous display";COMP00250351;Problem Report;COMP00250351;S4;COMP00250351;COOPANS_B3_3_3_1;COMP00250351;ANSELME Clara;COMP00250351;;COMP00250351;Item;COMP00250351;Systematic;COMP00250351;;COMP00250351;THCI;COMP00250351;;COMP00250351;;COMP00250351;3.2.1.11 OPERATIONAL DISPLAY SYSTEM FUNCTION;COMP00250351;;COMP00250351;;COMP00250351;ATM User;COMP00250351;;COMP00250351;25 octobre 2016 14:13:52 GMT+02:00;COMP00250351;VEDEL Patrice;COMP00250351;Low;COMP00250351;;COMP00250351;COOPANS_B3_3_3_4;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;any;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;"B3_3_DEV 
ECO336 
REGRESSION
IRS_NG";COMP00250351;ANSELME Clara;COMP00250351;Software;COMP00250351;System Factory Validation;COMP00250351;;COMP00250351;COMP00250501;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;;COMP00250351;21 octobre 2016 13:35:25 GMT+02:00;COMP00250351;"DECISION
- Direction decided:
- Other activities identified:
CUSTOMER
- Arguments to give less priority:
- Why the PCR isn't a problem but an enhancement:";COMP00250351;"21/10/16
See in Attachment the picture of defect.

When clicking on the callsign menu of any flight in any flight plan list, the callsign menu shows some ""Button"" options (sometimes 3, sometimes 10...), which shouldn't be displayed. 

On B3_3_3_1: seen with Dataset VVACC on VM and on Dataset THALESLAND on VVTT.";COMP00250351;;COMP00250351
COMP00250355;COMP00250355;COOPANS;COMP00250355;3_NAVIAIR_361;COMP00250355;NONE;COMP00250355;NONE;COMP00250355;Submitted;COMP00250355;BEST -  RDMS error raised Cannot change Visible in OnShow or OnHide;COMP00250355;Problem Report;COMP00250355;S4;COMP00250355;COOPANS_B3_2_9_2;COMP00250355;METUGUI Abdelilah;COMP00250355;;COMP00250355;Item;COMP00250355;Random;COMP00250355;;COMP00250355;BEST;COMP00250355;;COMP00250355;;COMP00250355;Training;COMP00250355;;COMP00250355;;COMP00250355;ATM User;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;BEST Training;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;JMMO_NAVIAIR;COMP00250355;METUGUI Abdelilah;COMP00250355;;COMP00250355;System Site Acceptance;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;;COMP00250355;21 octobre 2016 14:32:04 GMT+02:00;COMP00250355;;COMP00250355;"=========================
 PCR Description
=========================

AUTHOR / Witnesses    : A.METUGUI Copenhagen Denmark (+45 3247 7760)

SYSTEM data
 - Rig        : NAVIAIR CCTTF1. COOPANS System version COOPANS_B3_2_9_2
 - Dataset  and REPLAY  : cpr1tlg01sv:/home/TLOG/sysref/SaveProblems/NAVIAIR/CPH/COMP00250355/
 - Sectorisation / Role    :
 - BEST release: 2.44

TEST data
 - Aems        :
 - Ptg        :

PROBLEM data
 - Save_PB exists    : No
 - Typical time    :  
 - Typical callsign    :
 - Typical FPL    :

IRF DESCRIPTION
---------------------
RDMS error raised

CONTEXTUAL INFORMATION
---------------------------------
Controller Training. BEST exercise.


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
Have a windows7 machine installed.
 
When a node is setup as a supervisor AND the local setup is changed so the main radar display is set to be in a non default position we get this error (see attached image) .

When running as a default pilot or changing the local setup to use the standard position for the main radar, the error is not thrown.
This happens regardless of TOPSKY being connected or BEST running in stand alone mode.


EXPECTED BEHAVIOR
--------------------------
No error to be raised
 

OPERATIONAL CONSEQUENCES
-------------------------------------
the error kept displayed. 



WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:    Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:                Yes ( ) / No (X )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================

Original Plain technical issue :
On the Win7 we have encountered a problem.
 
When a node is setup as a supervisor AND the local setup is changed so the mail radar display is set to be in a non default position we get this error (see attached image) 
When running as a default pilot or changing the local setup to use the standard position for the main radar, the error is not thrown.
==================================
Additional information 
==================================
Running as administrator doesnt make any difference.
We have tried both right-click and Run as administrator and to change the setting in the properties->Compatibility of the BEST.exe file.
It fails on large exercises, but works on smaller ones.
Attached is a zip file with 3 exercises. It fails on the 2 exercises CAPA-ACC-1-EAST and FAD-0422-3A but works fine with 515 EXE 24 BG2

Please note that is not systematic. specific Airspace and exercice should be used for this purpose.
In the attachment , please find the error raised.
the data are under the location :cpr1tlg01sv:/home/TLOG/sysref/SaveProblems/NAVIAIR/CPH/COMP00250355/";COMP00250355;;COMP00250355
COMP00250396;COMP00250396;COOPANS;COMP00250396;IRF_AT3122;COMP00250396;NONE;COMP00250396;NONE;COMP00250396;Analysed;COMP00250396;IRF_AT3122 - bad TOC position upon ABI and ACT reception with route modification;COMP00250396;Problem Report;COMP00250396;S4;COMP00250396;COOPANS_B3_1_8_1;COMP00250396;MARTIN Cyril;COMP00250396;;COMP00250396;Item;COMP00250396;Systematic;COMP00250396;;COMP00250396;FDP;COMP00250396;;COMP00250396;;COMP00250396;EUR-MESSFIELD-015;COMP00250396;;COMP00250396;;COMP00250396;ATM User;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;IRF_AT3122;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;IRF_AT3122;COMP00250396;MARTIN Cyril;COMP00250396;System;COMP00250396;System Exploitation;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;;COMP00250396;21 octobre 2016 17:47:03 GMT+02:00;COMP00250396;;COMP00250396;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	:josef junk

SYSTEM data
 - Rig		: ONL
 - Dataset		: B3_1_8_V5
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: /home/TLOG/TLOG_SaveProblems/SITE_ACG/IRF_AT3122 (wind included)
 - Typical time	: 
 - Typical callsign	: 
 - Typical FPL	: 


IRF
----
#IRF no.:AT3122
#Date:20-10-2016
#Time:08:22:00
#Originator:josef.junk@dfs.de
#CWP no.:P n/a
#Test ID:
#Rig ID:ONL
#SW Version:B3_1_8_1 / OR 8679
#Dataset:B3_1_8_V5
#TestSession:LIVE Operational
#LastTimeStored:2016-10-21 09:27:57
#IRF Title:T_TopSky - Unknown - Wrong ACT to EDUU
#Details:Call Sign:  THY4PD
Sector:  N/A
Problem:  Germany sends us an ACT (RefNr724) for this flight via ESEGA, TopSky sends Germany an ACT (RefNr543) back.




What was expected?

No ACT back to EDUU

CONTEXTUAL INFORMATION
---------------------------------

ACT sent back to EDUU upon ACT reception


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

wrong TOC position creating a re-entrance with EDUU


EXPECTED BEHAVIOR
--------------------------

correct TOC position avoiding a re-entrance with EDUU


OPERATIONAL CONSEQUENCES
-------------------------------------

EDUU received an expected ACT


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes (X) / No ( )
- Workaround description (if any):

Activate the SKIP mechanism in the DATASET :

A crossed sector/adjacent FIR shall be kept in the list of crossed volumic sectors 

if the sector (resp adjacent FIR) contains at least a point of the extracted route or the current point

if transition at the entry sector (resp adjacent FIR) is vertical and there is a coordination constraint for this transition, except for the first sector

(...)
if both transitions at the entry sector (resp adjacent FIR) and at the exit sector (resp adjacent FIR) are vertical 

 the sector (resp adjacent FIR) is crossed over a 2D distance greater than (FPL_MIN_DISTANCE_CROSSED_SECTOR) 


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================



^B-TITLE IFPL^M
-BEGIN ADDR ^M
       -FAC CFMUTACT^M
       -FAC EDDAYGCD^M
       -FAC LBSFATCX^M
       -FAC LBSFATCI^M
       -FAC LBSFSTAT^M
       -FAC EDDZYNYS^M
       -FAC LHBPZEZX^M
       -FAC LOVVZQZX^M
       -FAC LOXBZQZB^M
       -FAC LOXBFLPL^M
       -FAC EDDSYQYX^M
       -FAC EDGGZQZA^M
       -FAC EDMMZQZX^M
       -FAC EDDAYGLZ^M
       -FAC EDDXYIYT^M
-END ADDR ^M
-ADEP EDDS^M
-ADES LTBA^M
-ARCID THY4PD^M
-ARCTYP A321^M
-CEQPT SDE1E2E3FGHIJ1LORVWYZ^M
-EOBD 161020^M
-EOBT 0745^M
-FILTIM 200247^M
-IFPLID AA57816167^M
-ORGNID THYAOCC^M
-ORIGIN -NETWORKTYPE AFTN -FAC LTBATHYW^M
-SEQPT LB1^M
-WKTRC M^M
-ARCADDR 4BAA76^M
-NAV RNP APCH S1 S2^M
-OPR THY^M
-PBN B1D1O1S1S2^M
-REG TCJSV^M
-RMK TCAS EQUIPPED THY1702^M
-RVR 75^M
-SEL DHAJ^M
-SRC FPL^M
-TALT EDSB^M
-TTLEET 0224^M
-RFL F290^M
-SPEED N0430^M
-FLTRUL I^M
-FLTTYP S^M
-ROUTE N0430F290 ABTAL4B ABTAL L173 RIXED Y161 RIDAR UZ98^M
WLD/N0440F330 UZ98 MIQ UL605 BIBAG/N0450F370 UL605 ESEGA DCT SASAL^M
DCT INVED/N0440F390 L606 TIMUR L867 ENESU^M
-ALTRNT1 LTBU^M
-EETFIR EDMM 0008^M
-EETFIR LOVV 0026^M
-EETFIR LHCC 0044^M
-EETFIR LRBB 0106^M
-EETFIR LBSR 0135^M
-EETFIR LTBB 0154^M
-BEGIN RTEPTS ^M
       -PT -PTID EDDS -FL F013 -ETO 161020075600^M
       -PT -PTID ABTAL -FL F140 -ETO 161020080626^M
       -PT -PTID RIXED -FL F198 -ETO 161020080809^M
       -PT -PTID DODIL -FL F228 -ETO 161020080917^M
       -PT -PTID REDVO -FL F246 -ETO 161020081006^M
       -PT -PTID RIDAR -FL F259 -ETO 161020081049^M
       -PT -PTID WLD -FL F290 -ETO 161020081221^M
       -PT -PTID MIQ -FL F318 -ETO 161020081433^M
       -PT -PTID DOSEL -FL F330 -ETO 161020081841^M
       -PT -PTID BIBAG -FL F330 -ETO 161020082000^M
       -PT -PTID ESEGA -FL F350 -ETO 161020082200^M
-END RTEPTS ^M
-SID ABTAL4B^M
-ATSRT L173 ABTAL RIXED^M
-ATSRT Y161 RIXED RIDAR^M
-ATSRT UZ98 RIDAR WLD^M
-RFL F330 WLD^M
-SPEED N0440 WLD^M
-ATSRT UZ98 WLD MIQ^M
-ATSRT UL605 MIQ BIBAG^M
-RFL F370 BIBAG^M
-SPEED N0450 BIBAG^M
-ATSRT UL605 BIBAG ESEGA^M
-DCT ESEGA SASAL^M
-DCT SASAL INVED^M
-RFL F390 INVED^M
-SPEED N0440 INVED^M
-ATSRT L606 INVED TIMUR^M
-ATSRT L867 TIMUR ENESU^M






 --> Processing report for IFPL on callsign: THY4PD is: OK (ER0001 OK)
                                                       Icao fields
                                                       -----------
callsign: THY4PD  adep: EDDS  ades: LTBA  eobt: 074500  etd: 074500  ctot:   ifplid: AA57816167
dof:  2016 10 20 7 45 0 0  iobt: 074500  idof:  2016 10 20 7 45 0 0
ac_nbr: 1  ac_type: A321  wtur: M  atow: 72.0  ftype is bada: true  performance class: 56
frule: I  ftype: S  ssr_equi: LB1                   cna: SDE1E2E3FGHIJ1LORVWYZ  funit: F
ssr_code:       ssr_mode: NO_MODE  altn1: LTBU  altn2:   adar:   ata:   eta: 100900  atd:
eet: 022400  eet_field_18: 002600  TAS:430.0  level: 29000.0  entry_time: 081045  regis: TCJSV
route: ABTAL4B ABTAL L173 RIXED Y161 RIDAR UZ98 WLD/N0440F330 UZ98 MIQ UL605 BIBAG/N0450F370 UL605 ESEGA DCT SASAL DCT INVED/N0440F390 L606 T
IMUR L867 ENESU
other_info: PBN/B1D1O1S1S2 NAV/RNP APCH S1 S2 REG/TCJSV EET/LOVV0026 SEL/DHAJ CODE/4BAA76 RVR/75 OPR/THY ORGN/LTBATHYW TALT/EDSB RMK/TCAS EQ
UIPPED THY1702 SRC/FPL
sup_info:
entry_point fix_type: NONE  fix:   level: 0.0  cross_level: Invalid  cross_mode:
direct: ESEGA dct: SASAL
departure =>  rwy: (not locked)  (NONE)   sid:  (NO_ALLOCATION) (NONE)
arrival =>  rwy: (not locked)  (NONE)   star:  (NO_ALLOCATION) (NONE)
cfmu_present: false  Last CFMU message: NONE  cfmu acknowledged: false

                                                             ----------
 l_dep: 1     l_route: 37    l_arr: 0         current: 1     lowp: 1        first in FIR: 23    last in FIR: 28       todIsManual: false
   id name  st pos x,y      inter eto    tas    com_as gs     rule occ ecl    com_fl
    1 EDDS  -190.45, 77.30     -5 074500 158.0  158.0  181.9  I    1   29000  0      0.0
    2 EDDS1 -190.44, 77.30      0 074500 158.0  171.1  192.4  I    1   29000  8      0.0
    3 -CAL- -185.14, 78.46    -10 074641 194.0  251.4  272.2  I    1   29000  4018   5.4
    4 -CAL- -176.74, 80.32    -10 074835 281.5  285.2  309.6  I    1   29000  8291   14.0
    5 -CAL- -173.93, 80.94    -10 074908 288.8  290.8  315.3  I    1   29000  10028  16.9
    6 -CAL- -168.44, 82.15    -10 075013 292.8  305.3  329.8  I    1   29000  10953  22.5
    7 -CAL- -154.46, 85.23    -10 075249 318.1  318.2  342.1  I    1   29000  16453  36.8
    8 ABTAL -154.24, 85.25      1 075251 318.4  326.9  349.9  I    1   29000  16513  37.1
    9 RIXED -141.97, 83.13      3 075459 335.6  339.6  356.0  I    1   29000  19934  49.5
   10 -CAL- -138.14, 79.15    -10 075555 343.6  345.1  361.6  I    1   29000  21453  55.0
   11 DODIL -136.09, 77.03      4 075624 346.6  350.0  359.8  I    1   29000  22009  58.0
   12 REDVO -131.53, 72.32      4 075730 353.4  356.6  361.4  I    1   29000  23246  64.5
   13 RIDAR -127.35, 67.99      5 075830 359.8  364.4  389.9  I    1   29000  24383  70.5
   14 -CAL- -119.06, 67.32    -10 075947 368.9  371.0  406.3  I    1   29000  25953  78.9
   15 WLD   -114.36, 66.94      7 080028 373.0  420.9  456.6  I    1   29000  26646  83.6
   16 -TOC- -98.39 , 65.93     -1 080234 467.7  462.1  502.1  I    1   33000  29000  99.6
   17 MIQ   -95.73 , 65.75      9 080253 460.8  462.9  504.4  I    1   33000  29408  102.2
   18 -SCF- -73.01 , 60.05     -1 080541 469.7  441.1  484.5  I    1   33000  33000  125.7
   19 DOSEL -60.70 , 56.95     10 080715 440.0  440.0  483.2  I    1   33000  33000  138.4
   20 BIBAG -49.99 , 54.26     11 080837 440.0  444.1  482.6  I    1   37000  33000  149.4
   21 -ECF- -49.24 , 53.98     -9 080843 469.7  477.0  516.6  I    1   37000  33000  150.2
   22 ESEGA -32.80 , 47.99     13 081045 484.2  482.6  525.4  I    1   37000  34922  167.7
 { 23 ZZN3  -32.71 , 47.95     -3 081046 484.2  461.9  504.4  I    1   37000  34922  167.8
 { 24 ZZN4  -19.57 , 42.12     -2 081228 450.3  452.5  488.9  I    1   37000  36520  182.2
 { 25 -SCF- -15.51 , 40.32     -1 081301 454.8  450.0  505.0  I    1   37000  37000  186.6
 { 26 ZZE4   43.87 , 14.03     -2 082044 450.0  450.0  516.1  I    1   37000  37000  251.5
 { 27 -ECF-  100.71,-11.15     -9 082758 450.0  450.0  517.8  I    1   37000  37000  313.7
   28 -RGX-  101.06,-11.32     -4 082800 450.0  450.0  517.8  I    1   37000  37000  314.1
   29 SASAL  101.07,-11.32     14 082800 450.0  450.0  521.2  I    1   37000  37000  314.1
   30 -ECF-  105.78,-12.98     -9 082835 450.0  450.0  505.7  I    1   37000  37000  319.1
   31 INVED  266.86,-69.69     15 084850 450.0  442.9  481.2  I    1   37000  37000  489.7
   32 -ECF-  267.23,-69.95     -9 084853 454.8  464.4  503.9  I    1   37000  37000  490.2
   33 -SCF-  285.27,-83.12     -1 085132 474.1  440.1  479.7  I    1   37000  39000  512.5
   34 PADGU  367.81,-143.39    16 090417 440.0  440.0  478.9  I    1   37000  39000  614.4
   35 OVDOT  385.05,-156.00    16 090657 440.0  440.0  471.5  I    1   37000  39000  635.7
   36 NULGO  420.35,-181.80    16 091230 440.0  440.0  471.5  I    1   37000  39000  679.2
   37 TIMUR  445.60,-200.26    17 091628 440.0  440.0  475.2  I    1   37000  39000  710.4
   38 RILEX  571.53,-286.95    18 093538 440.0  440.0  440.0  I    1   37000  39000  862.2
                                                     Cop list
                                                       --------
 id name  kind          oc1 oc2 prop  xfl     used  Rocd_T XFL_Kind pbt
  1 ESEGA ROUTE_COP     1   1   false 37000.0 false false  DEFAULT  CORNER
  2 COPH  DEFAULT_COP   1   0   false 36000.0 false false  DEFAULT  CEILING
  3 COPV  DEFAULT_COP   1   0   false 37000.0 false false  DEFAULT  SIDE
  4 SASAL ROUTE_COP     1   1   false 37000.0 true  false  DEFAULT  SIDE



**>
**>-TITLE ABI -REFDATA -SENDER -FAC R -RECVR -FAC VV -SEQNUM 739 -ARCID THY4PD -ADEP EDDS -ADES LTBA -SSRCODE A7650 -FLTTYP S -ARCTYP A321 -ROUTE N0450F370 ESEGA DCT SASAL DCT INVED/N0440F390 L606 TIMUR L867 ENESU -COORDATA -PTID ESEGA -TO 0823 -TFL F370 -BEGIN EQCST -EQPT W/EQ -EQPT Y/EQ -EQPT U/NO -END EQCST<**
	oata message type is:  1
<**
   


   --> Processing report for ABI on callsign: THY4PD is: OK (ER0001 OK)
Oct 20, 2016 8:00:35 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO FPL_INPUT_REPORT_FFDX01_OPER
                                                    Icao fields
                                                       -----------
callsign: THY4PD  adep: EDDS  ades: LTBA  eobt: 074500  etd: 074500  ctot:   ifplid: AA57816167
dof:  2016 10 20 7 45 0 0  iobt: 074500  idof:  2016 10 20 7 45 0 0
ac_nbr: 1  ac_type: A321  wtur: M  atow: 72.0  ftype is bada: true  performance class: 56
frule: I  ftype: S  ssr_equi: LB1                   cna: SDE1E2E3FGHIJ1LORVWYZ  funit: F
ssr_code: 7650  ssr_mode: MODE_A  altn1: LTBU  altn2:   adar:   ata:   eta: 100900  atd:
eet: 022400  eet_field_18: 002600  TAS:450.0  level: 37000.0  entry_time: 082300  regis: TCJSV
route: ESEGA DCT SASAL DCT INVED/N0440F390 L606 TIMUR L867 ENESU
other_info: PBN/B1D1O1S1S2 NAV/RNP APCH S1 S2 REG/TCJSV EET/LOVV0026 SEL/DHAJ CODE/4BAA76 RVR/75 OPR/THY ORGN/LTBATHYW TALT/EDSB RMK/TCAS EQ
UIPPED THY1702 SRC/FPL
sup_info:
entry_point fix_type: POINT  fix: ESEGA  level: 37000.0  cross_level: Invalid  cross_mode:
direct: ESEGA dct: SASAL
departure =>  rwy: (not locked)  (NONE)   sid:  (NO_ALLOCATION) (NONE)
arrival =>  rwy: (not locked)  (NONE)   star:  (NO_ALLOCATION) (NONE)
cfmu_present: false  Last CFMU message: NONE  cfmu acknowledged: false

                                                    Fixes list
                                                       ----------
 l_dep: 1     l_route: 26    l_arr: 0         current: 1     lowp: 1        first in FIR: 10    last in FIR: 19       todIsManual: false
   id name  st pos x,y      inter eto    tas    com_as gs     rule occ ecl    com_fl
    1 EDDS  -190.45, 77.30     -5 075831 158.0  171.1  195.9  I    1   37000  0      0.0
    2 -CAL- -185.15, 76.31    -10 080010 194.0  251.4  270.0  I    1   37000  4018   5.4
    3 -CAL- -176.89, 74.77    -10 080202 281.5  285.2  311.4  I    1   37000  8291   13.8
    4 -CAL- -174.12, 74.25    -10 080235 288.8  290.8  317.1  I    1   37000  10028  16.6
    5 -CAL- -168.71, 73.24    -10 080337 292.8  306.5  332.5  I    1   37000  10953  22.1
    6 -CAL- -153.69, 70.44    -10 080623 320.5  333.3  358.2  I    1   37000  16953  37.4
    7 -CAL- -135.98, 67.13    -10 080923 346.3  359.0  391.0  I    1   37000  21953  55.4
    8 -CAL- -112.27, 62.71    -10 081305 371.9  449.8  483.8  I    1   37000  26453  79.5
    9 -CAL- -59.44 , 52.85    -10 081945 479.1  465.1  500.3  I    1   37000  34247  133.2
 { 10 ZZN4  -32.91 , 47.92     -3 082300 454.8  454.8  487.0  I    1   37000  36998  160.2
 { 11 -TOC- -32.90 , 47.91     -1 082300 454.8  453.4  479.2  I    1   37000  37000  160.2
   12 -RGX- -32.80 , 47.99     -4 082300 452.0  450.5  476.4  I    1   37000  37000  160.3
   13 ESEGA -32.80 , 47.99      0 082300 452.0  450.5  476.4  I    1   37000  37000  160.3
 { 14 ZZN4  -32.71 , 47.95     -3 082301 450.0  450.0  475.8  I    2   37000  37000  160.4
 { 15 -SCF- -32.43 , 47.83     -1 082303 450.0  450.0  474.3  I    1   37000  37000  160.7
 { 16 -ECF- -28.13 , 45.92     -9 082339 450.0  450.0  495.9  I    1   37000  37000  165.4
 { 17 ZZE4   43.82 , 14.00     -2 083310 450.0  450.0  500.1  I    1   37000  37000  244.1
 { 18 -ECF-  100.67,-11.22     -9 084038 450.0  450.0  500.6  I    1   37000  37000  306.3
   19 -RGX-  101.06,-11.32     -4 084041 450.0  450.0  500.6  I    1   37000  37000  306.7
   20 SASAL  101.07,-11.32      1 084041 450.0  450.0  505.0  I    1   37000  37000  306.7
   21 -ECF-  105.78,-12.98     -9 084117 450.0  450.0  496.5  I    1   37000  37000  311.7
   22 INVED  266.86,-69.69      2 090154 450.0  440.0  464.3  I    1   37000  37000  482.4
   23 PADGU  367.81,-143.39     3 091801 440.0  440.0  462.1  I    1   37000  37000  607.1
   24 OVDOT  385.05,-156.00     3 092046 440.0  440.0  458.2  I    1   37000  37000  628.3
   25 NULGO  420.35,-181.80     3 092629 440.0  440.0  459.3  I    1   37000  37000  671.9
   26 TIMUR  445.60,-200.26     4 093033 440.0  440.0  463.1  I    1   37000  37000  703.0
   27 RILEX  571.53,-286.95     5 095013 440.0  440.0  440.0  I    1   37000  37000  854.8

                                                       Cop list
                                                       --------
 id name  kind          oc1 oc2 prop  xfl     used  Rocd_T XFL_Kind pbt
  1 ESEGA INSERTED_COP  1   0   false 37000.0 false false  DEFAULT  SIDE
  2 ESEGA ROUTE_COP     2   1   false 37000.0 true  false  DEFAULT  CORNER
  3 ESEGA ROUTE_COP     3   1   true  37000.0 true  false  INPUT    CORNER
  4 COPV  DEFAULT_COP   1   0   false 37000.0 false false  DEFAULT  SIDE
  5 SASAL ROUTE_COP     1   1   false 37000.0 true  false  DEFAULT  SIDE
                                             ---------------
id  Position name  PPOS state            PPOS re-entry state
21  P144           NOTIFIED              NONE
22  P145           NOTIFIED              NONE
64  P844           NOTIFIED              NONE

                                                       Crossed Sector List
                                                       -------------------
id  ATSU name  ATSU state            | lfunc           ppos |delegating   ppos
1   EDUU       ASSUMED               | no lfunc
2   N4         NOTIFIED              | N4    (34)      21
3   EDUU       NOTIFIED              | no lfunc
4   N4         NONE                  | N4    (34)      21
5   E4         NONE                  | E4    (19)      7
6   LHCC       NOTIFIED              | no lfunc
Manual transfer: None

         ";COMP00250396;;COMP00250396
COMP00250415;COMP00250415;COOPANS;COMP00250415;;COMP00250415;NONE;COMP00250415;NONE;COMP00250415;Submitted;COMP00250415;Bad profile computation because CFL duration in CRUISE is unexpectedly used;COMP00250415;Problem Report;COMP00250415;S4;COMP00250415;COOPANS_B3_2_9_2;COMP00250415;STRECHER Claude;COMP00250415;;COMP00250415;Item;COMP00250415;Systematic;COMP00250415;;COMP00250415;FDP;COMP00250415;;COMP00250415;;COMP00250415;EUR-CFLINPUT-009;COMP00250415;;COMP00250415;;COMP00250415;ATM User;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;checking PCR 103109;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;ECO301;COMP00250415;STRECHER Claude;COMP00250415;;COMP00250415;System Factory Validation;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;;COMP00250415;24 octobre 2016 10:35:26 GMT+02:00;COMP00250415;;COMP00250415;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: C. STRECHER

SYSTEM data
 - Rig		:  05 RUNGIS
 - Dataset		: EIDW_TSN_B3_2
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: YES
 - Typical time	: 
 - Typical callsign	: CS2
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------

In CONDITIONS_OLDI file:
/LIFFY/
if ,
FIR EGTT ECL FDP_PROFILE_USED


An entering flight is created with RFL = F110.
The flight is coordinated with PEL = F150 (greater than RFL).


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

After CFL input F130 (with impact), the CFL duration is computed in cruise phase (instead of climb phase) and the flight is not at ECL at the AOR exit transition.


EXPECTED BEHAVIOR
--------------------------

CFL duration shall be the one defined in climb phase and the flight should be at ECL (F150) on AOR exit transition point.


OPERATIONAL CONSEQUENCES
-------------------------------------

the bad profile leads to bad MTCD and bad crossed sectors list computation.


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( x) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No ( )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================


Before CFL input:
---------------------
                                                       Fixes list
                                                       ----------
 l_dep: 1     l_route: 11    l_arr: 0         current: 1     lowp: 1        first in FIR: 3     last in FIR: 9        todIsManual: false
   id name  st pos x,y      inter eto    tas    com_as gs     rule occ ecl    com_fl
    1 EIBR  -59.39 ,-21.40     -5 083016 140.0  171.5  171.5  I    1   15000  0      0.0
    2 -CAL- -43.34 ,-14.39    -10 083623 185.5  188.3  188.3  I    1   15000  9973   17.5
 {  3 ZR2   -38.73 ,-12.39     -3 083800 191.1  192.0  192.0  I    1   15000  11908  22.5
 {  4 ZR11  -37.35 ,-11.78     -2 083828 192.9  196.8  196.8  I    1   15000  12520  24.1
 {  5 -TOC- -31.61 ,-9.28      -1 084022 200.6  285.1  285.1  I    1   15000  15000  30.3
 {  6 ZR12  -10.41 ,-0.04      -2 084514 290.0  290.0  290.0  I    1   15000  15000  53.4
 {  7 ZR10  -1.81  , 3.71      -2 084711 290.0  290.0  290.0  I    1   15000  15000  62.8
 {  8 DUB   -1.81  , 3.71       0 084711 290.0  290.0  290.0  I    1   15000  15000  62.8
    9 ZEGTT  51.14 , 1.82      -4 085809 290.0  290.0  290.0  I    1   15000  15000  115.8
   10 -ECF-  51.19 , 1.82      -9 085810 290.0  290.0  290.0  I    1   15000  15000  115.9
   11 -ECF-  56.19 , 1.64      -9 085912 290.0  290.0  290.0  I    1   15000  15000  120.9
   12 WAL    112.13,-0.32       1 091046 290.0  290.0  290.0  I    1   15000  15000  176.9

                                                       Cop list
                                                       --------
 id name  kind          oc1 oc2 prop  xfl     used  Rocd_T XFL_Kind pbt
  1 KEKUL INSERTED_COP  1   0   true  15000.0 true  false  INPUT    SIDE   
  2 LSS   DEFAULT_COP   1   0   false 12000.0 false false  DEFAULT  CEILING
  3 USS   DEFAULT_COP   1   0   false 15000.0 false false  DEFAULT  SIDE   
  4 UNW   DEFAULT_COP   1   0   false 15000.0 false false  DEFAULT  SIDE   
  5 LIFFY INSERTED_COP  1   0   false 15000.0 true  false  DEFAULT  SIDE
                                                       Constraint list
                                                       ---------------
 current flight phase: CLIMB  
 initial condition:     POS: 5304N00754W     ALT: 0.00    DIST: 0.00
Natural Profile Info:
    OLFC: Id:0   Level: 15000.00  ROC: 0.00
    OLFD: Id:0   Level: 15000.00  ROD: 0.00   
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CLIMB    | Rocd_T: false      , Rocd: 0.0   | Mode: SOON       | Res: FULL   | lvl:     0.0 | Ph_Pres: false
 01 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: -59.4 , PosY: -21.4 , Elap_Dist: 0.00  , dur: 0.00   
    | cat: ABS        | Orig : AIRPORT  | Eff => PosX: -59.4 , PosY: -21.4 , Elap_Dist: 0.00  , dur: 0.00   | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 15000.0 | Ph_Pres: false
 02 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: -31.6 , PosY: -9.3  , Elap_Dist: 30.31 , dur: 85.57  
    | cat: ECL        | Orig : NONE     | Eff => PosX: -31.6 , PosY: -9.3  , Elap_Dist: 30.31 , dur: 85.57  | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 15000.0 | Ph_Pres: false
 03 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 51.2  , PosY: 1.8   , Elap_Dist: 115.88, dur: 5.00   
    | cat: AOR_DEF_XFL| Orig : NONE     | Eff => PosX: 51.2  , PosY: 1.8   , Elap_Dist: 115.88, dur: 5.00   | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 15000.0 | Ph_Pres: false
 04 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 56.2  , PosY: 1.6   , Elap_Dist: 120.88, dur: 55.98  
    | cat: ECL        | Orig : NONE     | Eff => PosX: 56.2  , PosY: 1.6   , Elap_Dist: 120.88, dur: 55.98  | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CRUISE   | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 15000.0 | Ph_Pres: false
 05 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 112.1 , PosY: -0.3  , Elap_Dist: 176.86, dur: no_dur 
    | cat: ECL        | Orig : NONE     | Eff => PosX: 112.1 , PosY: -0.3  , Elap_Dist: 176.86, dur: no_dur | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------

                                                       Crossed Sector List
                                                       -------------------
id  ATSU name  ATSU state            | lfunc           ppos |delegating   ppos
1   EISN       TERMINATED            | no lfunc
2   LSS        ASSUMED               | LSS   (78)   A  2
3   USS        COORDINATED           | USS   (84)      2
4   UNW        COORDINATED           | UNW   (83)      2
5   UNN        COORDINATED           | UNN   (82)      2
6   EGTT       NOTIFIED              | no lfunc



Oct 24, 2016 8:33:58 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on handler of SequentialReplier [in: MMI_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_F]] [SelectableReplier]
FPL : (CFL-CS2-EIBR-EGKK-CFL/F130 TRK/-1591 -550 OPT/WITH IMPACT) on PPOS  2 for cdcNb  2
Modif_time from MMI is 08:33:50 and 08:33:50
Flight plan number from MMI :  2
MMI_MSG : field is -1591  
MMI_MSG : field is -550  

    Icao action to do is CFL
...
FPL : COMPUTE_DISK_DATA : FIRST_PROCESS = PROFILE / processConditionalRoutes : false
FPL : isCurrentChangeTrajectory => Check if current is a route divergence fix
FPL : isCurrentChangeTrajectory => Current is a beacon fix. Do not change it into a DRF.
back to cruise elapsed distance: 104.3602294921875
Profile trajectory Loop InitPro3dLoop computation start
PEL Handler case : KU
ADEP: EIBR ADES: EGKK FIR: EISN PEL level: 15000.0 RFL level: 11000.0 Prop Cop: KEKUL Comp Cop: KEKUL
PEL behaviour frozen, restore from stored one
selected rule is: [isConstraint=false] [behaviour=GOTO_RFL] [lock=LOCK_RULES_AT_ASSUMPTION]
entry #1: VerticalPelOrderHandlerKuImpl [currentFlightPhaseIsAfterClimb=false]
-- online orders --
CFL order: WITH_IMPACT, cflCruiseLevel=0.0, cflImpactLevel=13000.0, TRK=5309N00738W, isReached=false
[EISN (# 1)]=PEL ORDER: pel=15000.0, displayedPel=0.0, pelOnVerticalTrans=true, proposedCop=ENTRY_COP: KEKUL      @15000.0 from: 2/1 to: 0/4, isForcedHorizontal=false, isFirstProcessing=false, lufl=0.0, isSuperseeded=Yes, by CFL, SPED=22.557012023803104, frozen=Y
-- cstrs --
AIRPORT, tsp: 0.00 tdur: 0.00 level: 0.00
CFL_FAR, tsp: 25.54 tdur: 500.00 level: 13000.00
ECL, tsp: 176.86 tdur: no_dur level: 15000.00 
-- applicable ecls --
origin = F15B, level = 11000.00, eDist = 0.0, originDist = 0.0
origin = UPSTREAM_ECL, level = 15000.00, eDist = 0.0, originDist = 0.0
--------------------------
-> Natural Profile Computation
OLFC computation
step OLFC_1:
   FIR_PEL at level 15000.0 
step OLFC_2:
   FIR_PEL at level 15000.0 TOC should be at 30.31357995646226
OLFD computation
step OLFD_1:
ETO of inserted fix patched with ETO of previous_fix
step OLFD_2:
step OLFD_3:
natural TOC at 30.31357995646226
<- Natural Profile Computation
-> ConstraintsValidation
   ------------------------------
   CLIMB (2 cstr)
      - #2 : (CFL_FAR)@13000, TSP:25.54, TDur: 500.00, can move TOC without limit
      in seg: cstr#1(AIRPORT)@0 [0.00 / 30.31] TOC@15000
         - evol start: 0 / 13000, reached:13000, needed:24.74Nm
         - evol end: 13000 / 15000, reached:15000, needed:5.58Nm
   TOC moved at dist:182.44
   ECL cstr now in climb
disable cstr#3
disable cstr#3
   => REVALIDATE
   ------------------------------
   CLIMB (3 cstr)
      - #2 : (CFL_FAR)@13000, TSP:25.54, TDur: 500.00, can move TOC without limit
      in seg: cstr#1(AIRPORT)@0 [0.00 / 176.86] cstr#4(NONE)@15000
         - evol start: 0 / 13000, reached:13000, needed:24.74Nm
         - evol end: 13000 / 15000, reached:15000, needed:5.58Nm
   ------------------------------
   CRUISE (0 cstr)
   ------------------------------
--> Cstr List validation results:
ID:1 (AIRPORT @0) Status:ENABLE, ESP:0.00, EDur: 0.00
ID:2 (CFL_FAR @13000) Status:ENABLE, ESP:25.54, EDur: 500.00
ID:3 (ECL @15000) Status:DISABLE, ESP:176.86, EDur: NO_DURATION
<- ConstraintsValidation
-> Ecl Computation
Applicable Ecls :
origin = F15B, level = 11000.00, elapsedDistance = 0.0, originDistance = 0.0, usedInNPComputation = true, status = ENABLE
-------------------------
origin = UPSTREAM_ECL, level = 15000.00, elapsedDistance = 0.0, originDistance = 0.0, usedInNPComputation = true, status = ENABLE, set as OLFDOrigin
-------------------------

Computed Ecls constraints :
<- Ecl Computation
disable cstr#3
TpClimb from AIRPORT up to CFL_FAR
TpClimb from CFL_FAR when no TOC
-- Skip Processor
POINT LIFFY not found ??
Profile trajectory Loop InitPro3dLoop computation done in 60.272 ms
Profile trajectory Loop InterfirPro3dLoop computation start
interfir default XFL inserted. Recompute natural profile and enable all constraints
-- online orders --
CFL order: WITH_IMPACT, cflCruiseLevel=0.0, cflImpactLevel=13000.0, TRK=5309N00738W, isReached=false
[EISN (# 1)]=PEL ORDER: pel=15000.0, displayedPel=0.0, pelOnVerticalTrans=true, proposedCop=ENTRY_COP: KEKUL@15000.0 from: 2/1 to: 0/4, isForcedHorizontal=false, isFirstProcessing=false, lufl=0.0, isSuperseeded=Yes, by CFL, SPED=22.557012023803104, frozen=Y
-- cstrs --
AIRPORT, tsp: 0.00 tdur: 0.00 level: 0.00
CFL_FAR, tsp: 25.54 tdur: 500.00 level: 13000.00
AOR_DEF_XFL, tsp: 115.88 tdur: 5.00 level: 15000.00
ECL, tsp: 176.86 tdur: no_dur level: 15000.00
-- applicable ecls --
origin = F15B, level = 11000.00, eDist = 0.0, originDist = 0.0
origin = UPSTREAM_ECL, level = 15000.00, eDist = 0.0, originDist = 0.0
--------------------------
-> Natural Profile Computation
OLFC computation
step OLFC_1:
   FIR_PEL at level 15000.0
step OLFC_2:
   FIR_PEL at level 15000.0 TOC should be at 30.31357995646226
OLFD computation
step OLFD_1:
step OLFD_2:
step OLFD_3:
natural TOC at 30.31357995646226
<- Natural Profile Computation
-> ConstraintsValidation
   ------------------------------
   CLIMB (2 cstr)
      - #2 : (CFL_FAR)@13000, TSP:25.54, TDur: 500.00, can move TOC without limit
      in seg: cstr#1(AIRPORT)@0 [0.00 / 30.31] TOC@15000
         - evol start: 0 / 13000, reached:13000, needed:24.74Nm
         - evol end: 13000 / 15000, reached:15000, needed:5.58Nm
   TOC moved at dist:182.44
   ECL cstr now in climb
disable cstr#4
disable cstr#4
disable cstr#3
   => REVALIDATE
   ------------------------------
   CLIMB (4 cstr)
      - #2 : (CFL_FAR)@13000, TSP:25.54, TDur: 500.00, can move TOC without limit
      in seg: cstr#1(AIRPORT)@0 [0.00 / 176.86] cstr#5(NONE)@15000
         - evol start: 0 / 13000, reached:13000, needed:24.74Nm
         - evol end: 13000 / 15000, reached:15000, needed:5.58Nm
   ------------------------------
   CRUISE (0 cstr)
   ------------------------------
--> Cstr List validation results:
ID:1 (AIRPORT @0) Status:ENABLE, ESP:0.00, EDur: 0.00
ID:2 (CFL_FAR @13000) Status:ENABLE, ESP:25.54, EDur: 500.00
ID:3 (AOR_DEF_XFL @15000) Status:DISABLE, ESP:115.88, EDur: 5.00
ID:4 (ECL @15000) Status:DISABLE, ESP:176.86, EDur: NO_DURATION
   ------------------------------
<- ConstraintsValidation
-> Ecl Computation
Applicable Ecls :
origin = F15B, level = 11000.00, elapsedDistance = 0.0, originDistance = 0.0, usedInNPComputation = true, status = ENABLE
-------------------------
origin = UPSTREAM_ECL, level = 15000.00, elapsedDistance = 0.0, originDistance = 0.0, usedInNPComputation = true, status = ENABLE, set as OLFDOrigin
-------------------------

Computed Ecls constraints :
<- Ecl Computation
disable cstr#4
disable cstr#3
TpClimb from AIRPORT up to CFL_FAR
TpClimb from CFL_FAR when no TOC
-- Skip Processor
...
                                                       Fixes list
                                                       ----------
 l_dep: 1     l_route: 9     l_arr: 0         current: 1     lowp: 1        first in FIR: 3     last in FIR: 9        todIsManual: false
   id name  st pos x,y      inter eto    tas    com_as gs     rule occ ecl    com_fl
    1 EIBR  -59.39 ,-21.40     -5 083016 140.0  171.5  171.5  I    1   15000  0      0.0
    2 -CAL- -43.34 ,-14.39    -10 083624 185.5  188.5  188.5  I    1   15000  9973   17.5
 {  3 ZR2   -38.73 ,-12.39     -3 083800 191.5  192.2  192.2  I    1   15000  12038  22.5
 {  4 ZR11  -37.75 ,-11.96     -2 083820 192.9  193.7  193.7  I    1   15000  12520  23.6
 {  5 -SCF- -36.72 ,-11.51     -1 083840 194.4  293.3  293.3  I    1   15000  13000  24.7
 {  6 ZR12  -10.41 ,-0.04      -2 084433 298.3  298.3  298.3  I    1   15000  13000  53.5
 {  7 ZR10  -1.81  , 3.71      -2 084626 298.3  298.3  298.3  I    1   15000  13000  62.8
 {  8 DUB   -1.81  , 3.71       0 084626 298.3  298.3  298.3  I    1   15000  13000  62.8
    9 ZEGTT  51.19 , 1.83      -4 085706 298.3  298.3  298.3  I    1   15000  13000  115.9
   10 WAL    112.13,-0.32       1 090922 298.3  298.3  298.3  I    1   15000  13000  176.9

                                                       Cop list
                                                       --------
 id name  kind          oc1 oc2 prop  xfl     used  Rocd_T XFL_Kind pbt
  1 KEKUL INSERTED_COP  1   0   true  15000.0 true  false  INPUT    SIDE
  2 LSS   DEFAULT_COP   1   0   false 12000.0 false false  DEFAULT  CEILING
  3 USS   DEFAULT_COP   1   0   false 15000.0 false false  DEFAULT  SIDE
  4 UNW   DEFAULT_COP   1   0   false 15000.0 false false  DEFAULT  SIDE
  5 LIFFY INSERTED_COP  1   0   false 15000.0 true  false  DEFAULT  SIDE

                                                       Constraint list
                                                       ---------------
 current flight phase: CLIMB
 initial condition:     POS: 5304N00754W     ALT: 0.00    DIST: 0.00
Natural Profile Info:
    OLFC: Id:0   Level: 15000.00  ROC: 0.00
    OLFD: Id:0   Level: 15000.00  ROD: 0.00
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CLIMB    | Rocd_T: false      , Rocd: 0.0   | Mode: SOON       | Res: FULL   | lvl:     0.0 | Ph_Pres: false
 01 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: -59.4 , PosY: -21.4 , Elap_Dist: 0.00  , dur: 0.00
    | cat: ABS        | Orig : AIRPORT  | Eff => PosX: -59.4 , PosY: -21.4 , Elap_Dist: 0.00  , dur: 0.00   | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: ENABLE  | Phase: CLIMB    | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: FULL   | lvl: 13000.0 | Ph_Pres: false
 02 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: -36.0 , PosY: -11.2 , Elap_Dist: 25.54 , dur: 500.00
    | cat: CFL_FAR    | Orig : NONE     | Eff => PosX: -36.7 , PosY: -11.5 , Elap_Dist: 24.74 , dur: 500.80 | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: DISABLE | Phase: CLIMB    | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: NOT    | lvl: 15000.0 | Ph_Pres: false
 03 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 51.2  , PosY: 1.8   , Elap_Dist: 115.88, dur: 5.00
    | cat: AOR_DEF_XFL| Orig : NONE     | Eff => PosX: 51.2  , PosY: 1.8   , Elap_Dist: 115.88, dur: 5.00   | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------
 Id | Status: DISABLE | Phase: CLIMB    | Rocd_T: false      , Rocd: 0.0   | Mode: LATE       | Res: NOT    | lvl: 15000.0 | Ph_Pres: false
 04 | way: IMPERATIVE | Kind : LEVEL    | Targ=> PosX: 112.1 , PosY: -0.3  , Elap_Dist: 176.86, dur: no_dur
    | cat: ECL        | Orig : NONE     | Eff => PosX: 112.1 , PosY: -0.3  , Elap_Dist: 176.86, dur: no_dur | ProIm: true  | Ph_Neg: false
 ---------------------------------------------------------------------------------------------------------------------------------------------


Problem saved in:
/home/TLOG/sysref/SaveProblems/COOPANS_B3_2_GIT//PCR_COMP00250415 on cpr1tlg01sv





";COMP00250415;;COMP00250415
COMP00250458;COMP00250458;COOPANS;COMP00250458;SCVF B3_107;COMP00250458;NONE;COMP00250458;NONE;COMP00250458;Submitted;COMP00250458;MTCD indicator displayed while MTCD is disabled.;COMP00250458;Problem Report;COMP00250458;S4;COMP00250458;COOPANS_B3_2_9_2;COMP00250458;EDOUARD Paul;COMP00250458;;COMP00250458;Item;COMP00250458;Random;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;CP-OH;COMP00250458;;COMP00250458;;COMP00250458;ATM User;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;System Experimentation;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;EDOUARD Paul;COMP00250458;;COMP00250458;System Experimentation;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;;COMP00250458;24 octobre 2016 16:05:40 GMT+02:00;COMP00250458;;COMP00250458;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: K. Fox / P. Edouard

SYSTEM data
 - Rig		: SHCVF
 - Dataset  : SHCV_TST_B3_2_D29
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: Yes
 - Typical time	: 12/10/2016, 10:15
 - Typical callsign	: FAB004 and FAB007
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------
During a CPDLC Load test, a lot of flight plans are created with the same route, and are displayed on the ODS through the FPASD.
As a consequence, several MTCD alerts are raised on these aircrafts.


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
MTCD is switched off during the CPDLC Load test through the MTCD status window.
On pos 89, the CARD window do not display conflicts anymore.
However, the MTCD indicator remain displayed for flights FAB004 and FAB007. There was no embellishment displayed on the FLEGs for these flights.


EXPECTED BEHAVIOR
--------------------------
The MTCD indicator should be cleared for all flights.


OPERATIONAL CONSEQUENCES
-------------------------------------
Wrong MTCD indicator displayed for 2 flights.



WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes (X) / No ()
- Workaround description (if any): Remove the MTCD indicator display from the CARD window.


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================
The dataset used for the execise is available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/DATASETs
The replay of the exercise is available on Rungis FTP :  /home/TLOG/TLOG_SaveProblems/SITE_IAA/SHANNON/replay_COMP00250458.tar.bz2

Around 10:15, the MTCD is switched off. The MTCD indicator remains displayed on Pos 89.
";COMP00250458;;COMP00250458
COMP00250469;COMP00250469;COOPANS;COMP00250469;SCVF B3_120;COMP00250469;NONE;COMP00250469;NONE;COMP00250469;Analysed;COMP00250469;NDA message sent when the next FIR is not CPDLC compatible with the flight;COMP00250469;Problem Report;COMP00250469;S4;COMP00250469;COOPANS_B3_2_9_2;COMP00250469;EDOUARD Paul;COMP00250469;;COMP00250469;Item;COMP00250469;Systematic;COMP00250469;;COMP00250469;FDP_DAD;COMP00250469;;COMP00250469;;COMP00250469;EUR-DLSACM-020;COMP00250469;;COMP00250469;;COMP00250469;ATM User;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;System experimentation;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;EDOUARD Paul;COMP00250469;System;COMP00250469;System Experimentation;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;;COMP00250469;24 octobre 2016 17:12:04 GMT+02:00;COMP00250469;;COMP00250469;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: B. Moyles  / P. Edouard

SYSTEM data
 - Rig		: SHCVF
 - Dataset		: SHCV_TST_B3_2_D29
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: Yes
 - Typical time	: Oct 17, 2016 10:45:09
 - Typical callsign	: FAB002
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------
During CPDLC tests, IAA creates the FPL FAB002, FANS equipped only (eq. J3).
The flight is FANS connected to the system, and its exit FIR is LFRR (ATN only datalink ATSU).


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
At 10:45:09, the system sends a ""NEXT DATA AUTHORITY LFRR"" message to the flight. This is Nok according to requirement EUR-DLSACM-020 because the flight is FANS only and the next ATC unit is ATN only.


EXPECTED BEHAVIOR
--------------------------
No NDA message should have been sent to the aircraft.


OPERATIONAL CONSEQUENCES
-------------------------------------
Wrong message sent to the flight.


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes ( ) / No (X)
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================
This PCR is created from IAA IRF SCVF B3_120
The dataset used is available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/DATASETs
The logs are available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/SHANNON/COMP00250469_COMP00250471.tar.bz2

At 10:31:53 : the FPL is created in the system:
FPL : (FPL-FAB002/A2640-IS-B744/H-SJ3/C-EGLL1000-N0400F360 UL9 SLANY CRK RATKA LARLA NERLA-KJFK0800-REG/FAB002 CODE/F50002-W/NO Y/NO U/NO R/NO P/NO S/NO-ATOW/285.7) on PPOS  14 for cdcNb  0
The flight plan equipment is FANS only (J3).

At 10:32:37 : the flight is FANS connected to the system:
GCMA_101 [10:32:37] DEBUG - Message Received from Xdl = 

   LogonIndication.dialogId = 589832
   LogonIndication.aircraftIdent.afiValid = 0
   LogonIndication.aircraftIdent.callsignValid = 1
   LogonIndication.aircraftIdent.callsign = FAB002
   LogonIndication.aircraftIdent.registrationValid = 1
   LogonIndication.aircraftIdent.registration = FAB002
   LogonIndication.applicationsList[1] = CPDLC_FANS
   LogonIndication.applicationsVersion[1] = 1
   LogonIndication.positionValid = 1
   LogonIndication.position = N38441W077221
   LogonIndication.registrationMode = MODE COLD

At 10:45:08, the ENABLE_NDA event is processed by FDP:
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
 --> Event [ENABLE_NDA [QUEUED] on segment id 2 scheduled @Oct 17, 2016 10:38:41 AM] for callsign: FAB002  #536


At 10:45:09, AGDP sends the NDA message on FDP event:
GCPD_101 [10:45:09] INFO - 10:45:09580 CPDLC_TIMER_MNGT.PROCESS_EVENT_MSG : Received AUTOMATIC NDA event
GCPD_101 [10:45:09] DEBUG - 
=========== Data Request ===========
- Dialog Id: [x10090008]
- Per Message:
  Timestamp: [17/10/2016 10:45:09000]
  Message Id: [7]
  Ref Message Id: [NONE]
  Logical Ack: [0]
  Hexastring: [47293055A48141132352A4]
  Message: [NEXT DATA AUTHORITY LFRR ]
  Icao Numbers: [UM160]
  Dialog Types: [NA]
  Response Label: [NOT EXPECTED]
==============================
";COMP00250469;;COMP00250469
COMP00250471;COMP00250471;COOPANS;COMP00250471;SHCVF B3_121;COMP00250471;NONE;COMP00250471;NONE;COMP00250471;Analysed;COMP00250471;Contact request not uplinked by the system when expected;COMP00250471;Problem Report;COMP00250471;S4;COMP00250471;COOPANS_B3_2_9_2;COMP00250471;EDOUARD Paul;COMP00250471;;COMP00250471;Item;COMP00250471;Systematic;COMP00250471;;COMP00250471;FDP_DAD;COMP00250471;;COMP00250471;;COMP00250471;"EUR-DLSDLIC-020
EUR-DLSDLIC-022";COMP00250471;;COMP00250471;;COMP00250471;ATM User;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;System experimentation;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;EDOUARD Paul;COMP00250471;System;COMP00250471;System Experimentation;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;;COMP00250471;24 octobre 2016 17:46:00 GMT+02:00;COMP00250471;;COMP00250471;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: B. Moyles / P. Edouard

SYSTEM data
 - Rig		: SHCVF
 - Dataset		: SHCV_TST_B3_2_D29
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists    : Yes
 - Typical time        : Oct 17, 2016 11h07m04s
 - Typical callsign    : FAB002
 - Typical FPL    :



CONTEXTUAL INFORMATION
---------------------------------
During CPDLC tests, IAA creates the FPL ATN001, FANS equipped only (eq. J5, Field 18 contains CODE + REG).
The exit FIR of the flight plan is EGGX (FANS only).

At 11h02m07s : the flight plan is connected on ATN to the system. According to the SSS, the flight shall be considered as a dual stack flight.

At 11h05m03s : a CHG action is done on the flight plan, and the exit FIR is modified to become LFRR (which is a ATN only datalink ATSU).
At 11h05m21s : the system send a ""Next Data Authority LFRR"" message to the flight, and a contact request to LFRR (OK).

At 11h06m11s : a DCT order is entered. The DCkT modifies the exit FIR to EGTT (which is FANS and ATN datalink ATSU). A NDA blank message is sent to the flight (OK).
11h06m13s : A NDA EGTT message is sent to the flight, and a contact request EGTT (OK).


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
At 11h07m02s, a DCT is performed, which modifies the flight route and the exit FIR to EGGX (FANS only datalink ATSU).
A NDA blank is sent to the flight (OK).

11h07m04s : A NDA EGGX message is sent to the flight. (OK).
However, no Contact request is sent (NOK).


EXPECTED BEHAVIOR
--------------------------
A contact request EGGX should have been sent.



OPERATIONAL CONSEQUENCES
-------------------------------------
No automatic transfer of the flight CPDLC connection from EISN to EGGX.


WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible () /  Not directly perceptible (X) / Hidden ( )
- Existing Workaround:  Yes (X) / No ( )
- Workaround description (if any):
manual CPDLC connection to EGGX.

=============================
 PLAIN TECHNICAL DESCRIPTION
=============================
This PCR has been created from IAA IRF SHCVF B3_121.
The dataset used is available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/DATASETs
The logs are available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/SHANNON/COMP00250469_COMP00250471.tar.bz2

Note : the same kind of scenario witnessed for an ATN only equipped flight (Field 10 = SJ1/C) connected on FANS and exiting through a ATN only equipped ATSU.

At 11h02m06 : the FPL ATN001 is created in the system:
FPL : (FPL-ATN001/A2630-IS-B744/H-SJ5/C-EGLL1000-N0400F360 UL9 SLANY CRK LASNO BEGAS-KJFK0800-REG/ATN001 CODE/400001-W/NO Y/NO U/NO R/NO P/NO S/NO-ATOW/285.7) on PPOS  14 for cdcNb  0

11h02m07s : even if the flight plan equipment is FANS only, the flight plan send a connection request to the system with ATN protocol:
GCMA_101 [11:02:07] DEBUG - Message Received from Xdl = 

   LogonIndication.dialogId = -2146828279
   LogonIndication.aircraftIdent.afiValid = 1
   LogonIndication.aircraftIdent.afi = 4194305 = 0x400001
   LogonIndication.aircraftIdent.callsignValid = 1
   LogonIndication.aircraftIdent.callsign = ATN001
   LogonIndication.aircraftAtnLogonData.facilityPresence = 0
   LogonIndication.aircraftAtnLogonData.adepPresence = 1
   LogonIndication.aircraftAtnLogonData.adep = EGLL
   LogonIndication.aircraftAtnLogonData.adesPresence = 1
   LogonIndication.aircraftAtnLogonData.ades = KJFK
   LogonIndication.aircraftAtnLogonData.etdPresence = 1
   LogonIndication.aircraftAtnLogonData.etd = 10:11:00000
   LogonIndication.applicationsList[0] = CPDLC_ATN
   LogonIndication.applicationsVersion[0] = 1
   LogonIndication.applicationsList[1] = ADS_C_ATN
   LogonIndication.applicationsVersion[1] = 1
   LogonIndication.positionValid = 0
   LogonIndication.registrationMode = MODE COLD

11h05m03 : a route modification is performed on the flight:
FPL : (CHG-ATN001-EGLL-KJFK-15/N0400F360 UL9 SLANY CRK RATKA LARLA DEKOR) on PPOS  14 for cdcNb  1373
The exit FIR is now LFRR, the ENABLE_NDA and CR_SENDING are added to the flight event list : 
                                                       Event list
                                                       ----------
id   code                                       status         time                       info                    segment  transition
-1   TIMEOUT_STATUS                             INACTIVE       Oct 17, 2016 5:01:17 PM                                               
2    SECTOR_COORDINATION                        INACTIVE       Oct 17, 2016 11:06:56 AM                           2        4         
3    SENDING_TO_MSS                             FAILED         Oct 17, 2016 11:02:06 AM   IAFP                    2        8         
4    SENDING_TO_MSS                             FAILED         Oct 17, 2016 11:02:06 AM   AFP                     2        8         
5    CR_SENDING                                 INACTIVE       Oct 17, 2016 11:22:16 AM                           2                  
6    SECTOR_COORDINATION                        INACTIVE       Oct 17, 2016 11:11:22 AM                           2        5         
7    SECTOR_COORDINATION                        INACTIVE       Oct 17, 2016 11:15:50 AM                           2        6         
8    SECTOR_COORDINATION                        INACTIVE       Oct 17, 2016 11:21:46 AM                           2        7         
9    SECTOR_TRANSFER                            INACTIVE       Oct 17, 2016 11:12:20 AM                           2        3         
10   TERMINATED                                 INACTIVE       Oct 17, 2016 12:04:12 PM                           2        8         
11   PREPARE_ABI                                INACTIVE       Oct 17, 2016 11:09:16 AM                           2        8         
12   SENDING_TO_MSS                             FAILED         Oct 17, 2016 11:02:17 AM   MAS  EGTT               2        1         
13   COMPUTE_ACTIVE_POSTING                     INACTIVE       Oct 17, 2016 10:42:30 AM                                              
14   ENABLE_NDA                                 INACTIVE       Oct 17, 2016 11:21:16 AM                           2                  
15   TIMEOUT_FOR_NAN                            INACTIVE       Oct 17, 2016 10:47:00 AM                           2                  
16   PREPARE_ACT_RAP_SENDING                    INACTIVE       Oct 17, 2016 11:24:16 AM                           2        8         
17   SENDING_TO_MSS                             QUEUED         Oct 17, 2016 11:05:03 AM   CHG                     2        8         

11h05m21: The ENABLE_NDA event is processed by FDP => The NDA message is sent.
                The CR_SENDING event is processed by FDP => The Contact Request is sent.

11h07m02: a DCT order is performed on the flight:
FPL : (DCT-ATN001-EGLL-KJFK-TRK/8562 -5439 BCN/4756N00918W ) on PPOS  14 for cdcNb  1373
The exit FIR becomes EGGX.
The ENABLE_NDA event is added to the flight event list, however no CR_SENDING event is planned:
                                                       Event list
                                                       ----------
id   code                                       status         time                       info                    segment  transition
-1   TIMEOUT_STATUS                             INACTIVE       Oct 17, 2016 5:01:17 PM                                               
2    TERMINATED                                 INACTIVE       Oct 17, 2016 11:45:16 AM                           2        8         
3    SENDING_TO_MSS                             FAILED         Oct 17, 2016 11:02:06 AM   IAFP                    2        8         
4    SENDING_TO_MSS                             FAILED         Oct 17, 2016 11:02:06 AM   AFP                     2        8         
5    PREPARE_ACT_RAP_SENDING                    INACTIVE       Oct 17, 2016 10:55:16 AM                           2        8         
6    SECTOR_COORDINATION                        INACTIVE       Oct 17, 2016 10:58:06 AM                           2        7         
7    ENABLE_NDA                                 INACTIVE       Oct 17, 2016 11:02:16 AM                           2                  
8    SENDING_TO_MSS                             FAILED         Oct 17, 2016 11:06:11 AM   MAC  LFRR               2                  
9    TIMEOUT_FOR_NAN                            INACTIVE       Oct 17, 2016 10:22:49 AM                           2                  
10   SENDING_TO_MSS                             QUEUED         Oct 17, 2016 11:07:02 AM   MAC  EGTT               2                  
11   COMPUTE_ACTIVE_POSTING                     INACTIVE       Oct 17, 2016 10:18:19 AM                                              
12   SENDING_TO_MSS                             FAILED         Oct 17, 2016 11:02:17 AM   MAS  EGTT               2        1         
13   SENDING_TO_MSS                             INACTIVE       Oct 17, 2016 11:07:02 AM   CHG                     2        8         

";COMP00250471;;COMP00250471
COMP00250475;COMP00250475;COOPANS;COMP00250475;SITE_LFV_3_0086;COMP00250475;NONE;COMP00250475;NONE;COMP00250475;Analysed;COMP00250475;After AGDP cold restart, Unexpected SMI raised (which cannot be removed) on outbound flights which were previously logged on;COMP00250475;Problem Report;COMP00250475;S4;COMP00250475;COOPANS_B3_2_9_2;COMP00250475;TOUZE Sylvain;COMP00250475;;COMP00250475;Item;COMP00250475;Systematic;COMP00250475;;COMP00250475;FDP;COMP00250475;;COMP00250475;;COMP00250475;EUR-DLSDLIC-053;COMP00250475;;COMP00250475;;COMP00250475;ATM User;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;shadow ESMM;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;SITE_MAL_3_0086;COMP00250475;TOUZE Sylvain;COMP00250475;Software;COMP00250475;System Site Validation;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;;COMP00250475;24 octobre 2016 19:09:43 GMT+02:00;COMP00250475;;COMP00250475;"=========================
 PCR Description
=========================

AUTHOR / Witnesses    : S.TOUZE (+46 40 613 17 19)

SYSTEM data
 - Rig        : MMTDSTTF Malmoe
 - Dataset        : MM_B329_C64_TTF_W41_TatmBck20161010.tgz is available within the following location ""10.99.76.47:/home/system/DATASET""
 - Secto / Role    : 

TEST data
 - Aems        : N/A
 - Ptg        : N/A

PROBLEM data
 - Save_PB exists    : Traces are available within the following location ""10.99.76.47:/home/system/UTRACE/MMTDSTTF/2016_10_11_am""
 - Typical time    : ""Oct 11, 2016 8:38:32 AM""
 - Typical callsign    : DLH8FL
 - Typical FPL    : Outbound flight Logged on FPL then AGDP Cold Restart => Unexpected Phone Icon is raised and cannot be removed


CONTEXTUAL INFORMATION
---------------------------------

FDP CPDLC-LOF management


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

DLH8FL had a SMI without BLUE XFL. It was not possible to remove it.
No external message in MESSAGE IN or OUT that was connected to the flight. Only one between 2 an sector 9 in MESSAGE OUT.



EXPECTED BEHAVIOR
--------------------------

There shall not be any SMI raised as it is the consequence of a LOF which is not even sent.

OPERATIONAL CONSEQUENCES
-------------------------------------

Unexpected SMI which cannot be removed.

WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( x ) /  Not directly perceptible () / Hidden ( )
- Existing Workaround:  Yes ( ) / No ( x )
- Workaround description (if any):


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================

Malmoe IRF#3_0086[MM1641_002]:
<<
Not possible to remove SMI
At ~20161011 08:50 on MMTDSTTF rig
Callsign: DLH8FL
Dataset: MM_B329_C64_TTF_W41
RFL: F360
Sector: 2W
SSR: 3535
DLH8FL had a SMI without BLUE XFL. It was not possible to remove it. No external message in MESSAGE IN or OUT that was connected to the flight. Only one between 2 an sector 9 in MESSAGE OUT.
When the flight was TRANSFERED to sector 9 the SMI was still present in the label at sector 2 in REDUNDANT and NONE label. But it was not displayed at all in the ASSUMED label at sector 9.

Pre-analyse:
20161011 08:56 - paoh: SMI on WTONS due to LOF at 083832, strange, forwarded to TATM
6    SENDING_TO_MSS                             QUEUED         Oct 11, 2016 8:38:32 AM    LOF  EDUU               2        4

1              true  LOF  state: NONE                  
cop: WTONS, time on cop: 082148, time on boundary: 082148, fix: WTONS, fix_type: RADIAL_3_DG
xfl_pel: 28000.00 (F) 
>>


Analysis:
######

* At ""Oct 11, 2016 8:08:32 AM "": As DLH8FL has been logged on and it became coordinated => LOF_SENDING event is scheduled as expected
* At ""Oct 11, 2016 8:21:15 AM"": CMA CDC delete as there is an AGDP cold restart after HANDLE_NEW_DISTRIBUTION_GLOBAL
* On DLH8FL: LOF_SENDING & ENABLE_NDA events are still present (Nok)
* At ""Oct 11, 2016 8:38:32 AM"", LOF rejected as there is not anymore a CMA CDC reference for FPL DLH8FL
=> As a consequence a LOF SMI is abnormally set on AoR First transition #1 which cannot be removed (Nok)

NPCR agreed with Betrand CORMIER (FDP-Toulouse).

Code Tips:
-------------

CmaIdentCdcEventProcessor.processAllDeleteEvent method called after CMA CDC all delete event ONLY reset local map attribute BUT it does not remove Automatic LOF_SENDING events on each flights which were previously CPDLC logged on or Connected.

Another possibility to correct this issue is not to remove the raise of NOK exception (which will inhibit SMI creation) in case of LOF if cmaData == null within method FdmSendingEventMng.createExternalMessage:
<<
            case LOF:
                final ICmaData cmaData = facade.getCmaData(updated.fds);
                if (cmaData != null) {
                    outGoingLogon = new DatalinkLogonFactory().create(cmaData, updated.fdm.fdmIo.getF18());
                } else {
                    throw new FdmProcessingException(ReportsE.NOK);
                }
                break;
>>
 
 
See the following dump extracts:
* At ""Oct 11, 2016 8:08:32 AM "": As DLH8FL has been logged on and it became coordinated => LOF_SENDING event is scheduled as expected:
<<
                                                       Subcallsigns list
                                                       -----------------
 callsign: DLH8FL  Number of aircraft: : 1
id:        Subcallsign: Sub_SSR_code:        Sub_UNCOUPLED_BY_RDP:   Sub_POS:                      Sub_TIME:      Sub_VALIDITY:       Sub_C:
(...)
                                                       Event list
                                                       ----------
id   code                                       status         time                       info                    segment  transition
-1   TIMEOUT_STATUS                             INACTIVE       Oct 11, 2016 10:08:32 AM
2    LOF_SENDING                                INACTIVE       Oct 11, 2016 8:37:45 AM                            2
3    ENABLE_NDA                                 INACTIVE       Oct 11, 2016 8:40:45 AM                            2

>>

* At ""Oct 11, 2016 8:21:15 AM"": CMA CDC delete as there is an AGDP cold restart after HANDLE_NEW_DISTRIBUTION_GLOBAL:
-> AGDP Traces:
<<
****** mmttagc01sv/AGDPOPQ_101, Tue Oct 11 08:20:51 2016
 application message, mnemonic : WPROCESS_START
 string1    : Process AGDPOPQ_101
 string2    : Kind of start
 string3    : COLD
>>

-> FDPFPL Traces (CMA CDC ALL DELETE)
<<
Oct 11, 2016 8:21:15 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on Selectable CDC [CMA_ID_OPER] [SelectableCdc]
Oct 11, 2016 8:21:15 AM com.thales.atms.expedit.cdc.SelectableCdc newAvailableEvents
INFO: Processing event [ALL_DELETED_EVENT] for CDC [CMA_ID_OPER].
> Info: CMA CDC All deleted event received: Cleaning CMA cache.
Oct 11, 2016 8:21:15 AM com.thales.atms.expedit.app.AbstractUbssApplication start
>>

* On DLH8FL: LOF_SENDING & ENABLE_NDA events are still present (Nok)
<<
                                                       Icao fields
                                                       -----------
callsign: DLH8FL  adep: ESSA  ades: EDDF  eobt: 080000  etd: 080000  ctot:   ifplid: AA57522469
(...)
                                                       Event list
                                                       ----------
id   code                                       status         time                       info                    segment  transition
-1   TIMEOUT_STATUS                             INACTIVE       Oct 11, 2016 10:08:32 AM
2    LOF_SENDING                                INACTIVE       Oct 11, 2016 8:37:45 AM                            2
3    ENABLE_NDA                                 INACTIVE       Oct 11, 2016 8:40:45 AM                            2
>>

* At ""Oct 11, 2016 8:38:32 AM"", LOF rejected as there is not anymore a CMA CDC reference for FPL DLH8FL => As a consequence a LOF SMI is abnormally set on AoR First transition #1 which cannot be removed (Nok)
<<
Oct 11, 2016 8:38:32 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
FPL : Unable to send Safe data to slave.
 --> Event [SENDING_TO_MSS [LOF] [QUEUED] on segment id 2 scheduled @Oct 11, 2016 8:38:32 AM] for callsign: DLH8FL  #1275
[DAD]    Messages.addMessage: creation of a RJC at index 13
FPL : BILLING : fdmUpdateFpl => for flight [DLH8FL]
(...)
                                                       Subcallsigns list
                                                       -----------------
 callsign: DLH8FL  Number of aircraft: : 1
(...)
                                                       Crossed Sector List
                                                       -------------------
id  ATSU name  ATSU state            | lfunc           ppos |delegating   ppos
1   ESOS       TERMINATED            | no lfunc
2   W          REDUNDANT             | W     (31)      1
3   3          ASSUMED               | 3     (2)    A  1
4   9          COORDINATED           | 9     (8)       5
5   EDUU       NOTIFIED              | no lfunc
Manual transfer: None

                                                       Transitions
                                                       -----------
id             SMI   SMI_MSG_TYPE
------------------------------------------------------------------------------------------------------
1              true  LOF  state: NONE
cop: WTONS, time on cop: 082148, time on boundary: 082148, fix: WTONS, fix_type: RADIAL_3_DG
xfl_pel: 28000.00 (F)
------------------------------------------------------------------------------------------------------
2              false NONE state: NONE
cop: ICW3A, time on cop: 083444, time on boundary: 083444, fix: ICW3A067310, fix_type: RADIAL_3_DG
xfl_pel: 36000.00 (F)
------------------------------------------------------------------------------------------------------
3              false NONE state: COORD_AGREE
cop: IC39A, time on cop: 084418, time on boundary: 084418, fix: IC39A077261, fix_type: RADIAL_3_DG
xfl_pel: 36000.00 (F)
------------------------------------------------------------------------------------------------------
4              false NONE state: NONE
cop: SALLO, time on cop: 085532, time on boundary: 085532, fix: SALLO, fix_type: POINT
xfl_pel: 36000.00 (F)
Validated data > status: false etx:  cop name:             xfl:  0.00000E+00
New data > kind: false xfl:  0.00000E+00 thres: false
------------------------------------------------------------------------------------------------------
(...)
                                                       Msg table
                                                       ---------
(...)
----------------------------------------------------------------------------------------------------
KIND          FROM   ACK  TO     ACK  TO_PREV_LFUNC/FIR  TIME      MSG_TYPE  REJ_STATUS              SEGMENT_ID
INTERSECTOR   ?????  NO   ?????  NO   0                  08.38.32  RJC       LINE_FAILED             0
COP         ETO   FL     UNT HDG  SPD    RATE     FROM_POINT  TO_POINT    OCC  SSR   MSG  TIMEO  ROUTE
                                                                          0          LOF
----------------------------------------------------------------------------------------------------
>>";COMP00250475;;COMP00250475
COMP00250481;COMP00250481;COOPANS;COMP00250481;;COMP00250481;NONE;COMP00250481;NONE;COMP00250481;Submitted;COMP00250481;THCI compilation on site fails;COMP00250481;Problem Report;COMP00250481;S4;COMP00250481;COOPANS_B3_3_3_3;COMP00250481;SAMUEL Philippe;COMP00250481;;COMP00250481;Item;COMP00250481;Systematic;COMP00250481;;COMP00250481;THCI;COMP00250481;;COMP00250481;;COMP00250481;compilation;COMP00250481;;COMP00250481;;COMP00250481;ATM User;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;compilation;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;SAMUEL Philippe;COMP00250481;;COMP00250481;System Site Integration;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;;COMP00250481;25 octobre 2016 09:35:47 GMT+02:00;COMP00250481;;COMP00250481;"THCI compilation fails because views_ext_linux_i86_64.mk contains following line :
VERSION_PATH = COOPANS_B3_3_IRSNG_NMA.

EXTERNAL_VIEW_DEV should be changed also because /NOSAVE/coopand directory does not exits in site dev machine

This definition should be generic and corresponds to current activity";COMP00250481;;COMP00250481
COMP00250498;COMP00250498;COOPANS;COMP00250498;SHCVF B3_132;COMP00250498;NONE;COMP00250498;NONE;COMP00250498;Analysed;COMP00250498;POINT_DOES_NOT_BELONG_TO_THE_ROUTE error when a geographical point precede a Westbound NAT;COMP00250498;Problem Report;COMP00250498;S4;COMP00250498;COOPANS_B3_2_9_2;COMP00250498;EDOUARD Paul;COMP00250498;;COMP00250498;Item;COMP00250498;Systematic;COMP00250498;;COMP00250498;FDP_PRONG;COMP00250498;;COMP00250498;;COMP00250498;EUR-FPOCE-007;COMP00250498;;COMP00250498;;COMP00250498;ATM User;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;System exploitation;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;EDOUARD Paul;COMP00250498;System;COMP00250498;System Experimentation;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;;COMP00250498;25 octobre 2016 13:28:20 GMT+02:00;COMP00250498;;COMP00250498;"=========================
 PCR Description
=========================

AUTHOR / Witnesses	: K. Fox / P. Edouard

SYSTEM data
 - Rig		: SHCVF
 - Dataset		: SHCV_TST_B3_2_D29
 - Secto / Role	: 

TEST data
 - Aems		: 
 - Ptg		: 

PROBLEM data
 - Save_PB exists	: Yes
 - Typical time	: Oct 25, 2016 11:39:03
 - Typical callsign	: PE01
 - Typical FPL	: 


CONTEXTUAL INFORMATION
---------------------------------
The flight plan PE01 is created at 11:38:01.
The flight is a Westbound Flight plan, route : ... DOGAL NATE JANJO ...
The NAT is defined in the system : DOGAL 55/20 56/30 57/40 56/50 JANJO


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------
At 11:39:03, the flight route is modified to : DOGAL 56N030W NATE JANJO.
The flight route modification is rejected by FPL with the following error : POINT_DOES_NOT_BELONG_TO_THE_ROUTE (Point 56N030W not in route NATE).



EXPECTED BEHAVIOR
--------------------------
The flight route should have been accepted.



OPERATIONAL CONSEQUENCES
-------------------------------------
Some flights plan creations are queued when the NAT is inserted after a geographical point in the flight route.



WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible (X) /  Not directly perceptible ( ) / Hidden ( )
- Existing Workaround:  Yes (X) / No ( )
- Workaround description (if any): modify the flight route in order to add the NAT before the geographical point.


=============================
 PLAIN TECHNICAL DESCRIPTION
=============================
This PCR has been created from IAA IRF SHCVF B3_132.
The dataset used is available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/DATASETs
The traces are available on Rungis FTP : /home/TLOG/TLOG_SaveProblems/SITE_IAA/SHANNON/COMP00250498.tar.bz2
The same scenario also occurs for rough extractions.

11:38:01 : the flight plan PE01 is created:
(FPL-PE01-IS-B744/H-SDE3FGHIJ3J5J6M1M2RWXYZ/LB1D1-EGLL1020-N0480F320 CPT UL9 KENET UN14 BAKUR DCT DOGAL/M085F370 NATE JANJO/N0479F360 N560A YBC J563 YRI DCT COVAN DCT ALB DCT IGN IGN1-KJFK0659 KEWR-PBN/A1B1D1L1O1S2 NAV/RNVD1E2A1 RNP2 DOF/161025 REG/GCIVG EET/EISN0030 EGGX0117 CZQX0230 CZUL0507 KZBW0620 KZNY0651 SEL/BGLS CODE/4005A6 RVR/075 OPR/BAW ORGN/EGLLBAWH RALT/EGLL EINN CYJT KJFK RMK/LAHSO NOT AUTHORISED TCAS-W/EQ Y/EQ U/NO R/EQ P/EQ S/EQ-ATOW/285.7) on PPOS  9 for cdcNb  0

11:38:43 : the flight plan is modified with the route DOGAL/M085F370 55N020W NATE JANJO => The flight plan modification is accepted by the system.
Oct 25, 2016 11:38:43 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on handler of SequentialReplier [in: MMI_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_F]] [SelectableReplier]
FPL : (CHG-PE01-EGLL-KJFK-15/N0480F320 CPT UL9 KENET UN14 BAKUR DCT DOGAL/M085F370 55N020W NATE JANJO/N0479F360 N560A YBC J563 YRI DCT COVAN DCT ALB DCT IGN IGN1) on PPOS  9 for cdcNb  1123
Modif_time from MMI is 11:38:01 and 11:38:06
Flight plan number from MMI :  1123

11:39:04 : the flight plan route is modified to DOGAL/M085F370 55N020W 56N030W NATE JANJO. The flight plan modification is rejected with POINT_DOES_NOT_BELONG_TO_THE_ROUTE error.
Oct 25, 2016 11:39:04 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on handler of SequentialReplier [in: MMI_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_F]] [SelectableReplier]
FPL : (CHG-PE01-EGLL-KJFK-15/N0480F320 CPT UL9 KENET UN14 BAKUR DCT DOGAL/M085F370 55N020W 56N030W NATE JANJO/N0479F360 N560A YBC J563 YRI DCT COVAN DCT ALB DCT IGN IGN1) on PPOS  9 for cdcNb  1123
Modif_time from MMI is 11:38:44 and 11:38:44
Flight plan number from MMI :  1123

    Icao action to do is CHG

Oct 25, 2016 11:39:04 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_FFS_SAFE_DATAFDP01_OPER
Oct 25, 2016 11:39:04 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
FPL : COMPUTE_DISK_DATA : FIRST_PROCESS = ROUTE
Exception raised during profile computation RouteValidationInvalidConnectionPoint
   --> Processing report for CHG is: POINT_DOES_NOT_BELONG_TO_THE_ROUTE (Point 56N030W not in route NATE)
FPL : Answer message (CHG-PE01-EGLL-KJFK-15/N0480F320 CPT UL9 KENET UN14 BAKUR DCT DOGAL/M085F370 55N020W 56N030W NATE JANJO/N0479F360 N560A YBC J563 YRI DCT COVAN DCT ALB DCT IGN IGN1) sent at  2016 10 25 11 39 4 226
Oct 25, 2016 11:39:04 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_FMMI009_OPER
(NAK-EPS/2016-ERR/Point 56N030W not in route NATE-TXT/(CHG-PE01-EGLL-KJFK-15/N0480F320 CPT UL9 KENET UN14 BAKUR DCT DOGAL/M085F370 55N020W 56N030W NATE JANJO/N0479F360 N560A YBC J563 YRI DCT COVAN DCT ALB DCT IGN IGN1))Oct 25, 2016 11:39:04 AM com.thales.atms.expedit.app.AbstractUbssApplication start

11:39:12 : the flight plan route is changed to DOGAL/M085F370 56N030W NATE JANJO. The route modification is rejected with POINT_DOES_NOT_BELONG_TO_THE_ROUTE error.
Oct 25, 2016 11:39:12 AM com.thales.atms.expedit.app.AbstractUbssApplication start
INFO: Incoming UBSS event on handler of SequentialReplier [in: MMI_TO_FDP_FLIGHT_PLAN_COMMAND_FFDP01_OPER, out: deck [FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_F]] [SelectableReplier]
FPL : (CHG-PE01-EGLL-KJFK-15/N0480F320 CPT UL9 KENET UN14 BAKUR DCT DOGAL/M085F370 56N030W NATE JANJO/N0479F360 N560A YBC J563 YRI DCT COVAN DCT ALB DCT IGN IGN1) on PPOS  9 for cdcNb  1123
Modif_time from MMI is 11:38:44 and 11:38:44
Flight plan number from MMI :  1123

    Icao action to do is CHG

Oct 25, 2016 11:39:12 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_FFS_SAFE_DATAFDP01_OPER
Oct 25, 2016 11:39:12 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO MFS_SBY_SAFE_DATAFDP01_OPER
FPL : COMPUTE_DISK_DATA : FIRST_PROCESS = ROUTE
Exception raised during profile computation RouteValidationInvalidConnectionPoint
   --> Processing report for CHG is: POINT_DOES_NOT_BELONG_TO_THE_ROUTE (Point 56N030W not in route NATE)
FPL : Answer message (CHG-PE01-EGLL-KJFK-15/N0480F320 CPT UL9 KENET UN14 BAKUR DCT DOGAL/M085F370 56N030W NATE JANJO/N0479F360 N560A YBC J563 YRI DCT COVAN DCT ALB DCT IGN IGN1) sent at  2016 10 25 11 39 12 194
Oct 25, 2016 11:39:12 AM com.thales.atms.expedit.ipc.output.fifo.AbstractOutputFifo write
INFO: Writing message to output FIFO FDP_TO_MMI_FQM_ACKNOWLEDGEMENT_FMMI009_OPER
(NAK-EPS/2016-ERR/Point 56N030W not in route NATE-TXT/(CHG-PE01-EGLL-KJFK-15/N0480F320 CPT UL9 KENET UN14 BAKUR DCT DOGAL/M085F370 56N030W NATE JANJO/N0479F360 N560A YBC J563 YRI DCT COVAN DCT ALB DCT IGN IGN1))Oct 25, 2016 11:39:12 AM com.thales.atms.expedit.app.AbstractUbssApplication start
";COMP00250498;;COMP00250498
COMP00250502;COMP00250502;COOPANS;COMP00250502;;COMP00250502;NONE;COMP00250502;NONE;COMP00250502;Submitted;COMP00250502;Potential conflicts not detected;COMP00250502;Problem Report;COMP00250502;S4;COMP00250502;COOPANS_B3_3_3_1;COMP00250502;ANSELME Clara;COMP00250502;;COMP00250502;Item;COMP00250502;Systematic;COMP00250502;;COMP00250502;FDP;COMP00250502;;COMP00250502;;COMP00250502;EUR-MTCD-160;COMP00250502;;COMP00250502;;COMP00250502;ATM User;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;GT-OPEFUNC-01;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;"B3_3_DEV 
ECO336 
REGRESSION";COMP00250502;ANSELME Clara;COMP00250502;;COMP00250502;System Factory Validation;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;;COMP00250502;25 octobre 2016 14:20:11 GMT+02:00;COMP00250502;;COMP00250502;"25/10/16
Regression on ECO336, ok on B3_2. 

Dataset: THALESLAND, ran on VVTT

Scenario: 
Create 3 coupled flights in notified system state and Cruise phase. 
-	DAT987: RFL=FL360
-	DLH741 RFL=FL320 
-	ELY066 RFL=FL320 (crossing the route of DLH741)

DLH741 has J1 as EQPT in the field 10a

open VAW of DLH741, select the Notif button in its view menu 
=> a conflict between DLH741 and ELY066 is displayed in C_Urgency colour

Coordinate DLH741 with a new PEL= F331 -> MCI command

Abnormal behaviour: 
The profile is updated in VAW according to the modification but a potential conflict should be detected between DAT987 and DLH741 and bewteen DLH741 and ELY066.
Potential Conflicts should take the place of the previous detected conflict and an empty Box in C_Potential colour should now be displayed in VAW.
But the conflict in C_Urgency color is still displayed.

According to traces, no potential conflict is computed.

See on VVTT Termlog: 
vvtttlg01sv:/opt/utrace/VVTT~UBSS~0/2016_10_25_am/vvttffs01svttsv/XtermLog.txt.0
or here :
cpr1tlg01sv:/home/TLOG/sysref/SaveProblems/COOPANS_B3_3/COMP00250502/
After MCI command, at 09:11:10, POTENTIAL conflict should be computed

NB: within FPCF_PARAMETERS DPR file, 
FPCF_DETECT_POTENTIAL_CONFLICTS = TRUE
FPCF_POTENTIAL_LEVEL_RANGE  = F030
So the potential conflict should be detected.";COMP00250502;;COMP00250502
COMP00250514;COMP00250514;COOPANS;COMP00250514;;COMP00250514;NONE;COMP00250514;NONE;COMP00250514;Submitted;COMP00250514;In CHARACTERISTIC_POINTS, non-uique comment should be restricted to alphanumeric characters (OH-DPR update);COMP00250514;Problem Report;COMP00250514;S4;COMP00250514;COOPANS_B3_3_3_3;COMP00250514;MOUGEL Sylvain;COMP00250514;;COMP00250514;Item;COMP00250514;Systematic;COMP00250514;;COMP00250514;ENGINEERING;COMP00250514;;COMP00250514;OH-DPR;COMP00250514;NA;COMP00250514;;COMP00250514;;COMP00250514;ATM User;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;NA;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;MOUGEL Sylvain;COMP00250514;;COMP00250514;System Factory Validation;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;;COMP00250514;25 octobre 2016 15:48:42 GMT+02:00;COMP00250514;;COMP00250514;"S. Mougel 25/10/2016
-------------------------

D. Seille agrees that the sofware behaviour after COMP00248943 (non unique comment restricted to alphanumeric characters in all the files) is ok.
However the DPR-OH needs to be updated to be consistent.";COMP00250514;;COMP00250514
COMP00250532;COMP00250532;COOPANS;COMP00250532;;COMP00250532;NONE;COMP00250532;NONE;COMP00250532;Solved;COMP00250532;Report of PCR COMP00246957 to System Model : Max Voice channels increased to 256;COMP00250532;Problem Report;COMP00250532;S4;COMP00250532;COOPANS_B3_3_3;COMP00250532;FAVIER Pierre;COMP00250532;;COMP00250532;Item;COMP00250532;Systematic;COMP00250532;;COMP00250532;SYSTEM_MODEL;COMP00250532;;COMP00250532;;COMP00250532;REPLAY;COMP00250532;;COMP00250532;;COMP00250532;ATM User;COMP00250532;;COMP00250532;25 octobre 2016 17:33:28 GMT+02:00;COMP00250532;FAVIER Pierre;COMP00250532;High;COMP00250532;26 octobre 2016 08:52:00 GMT+02:00;COMP00250532;COOPANS_B3_3_4;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;xxx;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;FAVIER Pierre;COMP00250532;System;COMP00250532;Coding;COMP00250532;System Design;COMP00250532;COMP00250534;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;;COMP00250532;25 octobre 2016 17:19:26 GMT+02:00;COMP00250532;Implement in SM 3.4.0.2;COMP00250532;Report the PCR COMP00246957 introduced in B3_3 into the System Model.;COMP00250532;;COMP00250532
COMP00250538;COMP00250538;COOPANS;COMP00250538;;COMP00250538;NONE;COMP00250538;NONE;COMP00250538;StartedWork;COMP00250538;System Model corrections for ECO-346;COMP00250538;Problem Report;COMP00250538;S4;COMP00250538;COOPANS_B3_3_6;COMP00250538;FAVIER Pierre;COMP00250538;;COMP00250538;Item;COMP00250538;Systematic;COMP00250538;;COMP00250538;"SYSTEM_MODEL
CMAP
THCI";COMP00250538;;COMP00250538;;COMP00250538;IDENT;COMP00250538;;COMP00250538;;COMP00250538;ATM User;COMP00250538;;COMP00250538;25 octobre 2016 17:49:33 GMT+02:00;COMP00250538;FAVIER Pierre;COMP00250538;High;COMP00250538;;COMP00250538;COOPANS_B3_4_0;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;xxx;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;FAVIER Pierre;COMP00250538;System;COMP00250538;Coding;COMP00250538;;COMP00250538;COMP00250540;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;25 octobre 2016 17:42:43 GMT+02:00;COMP00250538;Implement in SM 3.4.0.2;COMP00250538;In the CDC IDENT, a new boolean field IN_LOSTLIST_VOLUME must beadded, identical to the one fefined in the FPL CDC;COMP00250538;;COMP00250538
COMP00250538;COMP00250538;COOPANS;COMP00250538;;COMP00250538;NONE;COMP00250538;NONE;COMP00250538;StartedWork;COMP00250538;System Model corrections for ECO-346;COMP00250538;Problem Report;COMP00250538;S4;COMP00250538;COOPANS_B3_3_6;COMP00250538;FAVIER Pierre;COMP00250538;;COMP00250538;Item;COMP00250538;Systematic;COMP00250538;;COMP00250538;"SYSTEM_MODEL
CMAP
THCI";COMP00250538;;COMP00250538;;COMP00250538;IDENT;COMP00250538;;COMP00250538;;COMP00250538;ATM User;COMP00250538;;COMP00250538;25 octobre 2016 17:49:33 GMT+02:00;COMP00250538;FAVIER Pierre;COMP00250538;High;COMP00250538;;COMP00250538;COOPANS_B3_4_0;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;xxx;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;FAVIER Pierre;COMP00250538;System;COMP00250538;Coding;COMP00250538;;COMP00250538;COMP00250541;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;;COMP00250538;25 octobre 2016 17:42:43 GMT+02:00;COMP00250538;Implement in SM 3.4.0.2;COMP00250538;In the CDC IDENT, a new boolean field IN_LOSTLIST_VOLUME must beadded, identical to the one fefined in the FPL CDC;COMP00250538;;COMP00250538
COMP00250543;COMP00250543;COOPANS;COMP00250543;SITE_LFV_3_0103;COMP00250543;NONE;COMP00250543;NONE;COMP00250543;Analysed;COMP00250543;After AGDP restart and if flight got transfered, Unexpected CPDLC dialogue still present without CLOSED_WITH_WARNING;COMP00250543;Problem Report;COMP00250543;S4;COMP00250543;COOPANS_B3_2_9_2;COMP00250543;TOUZE Sylvain;COMP00250543;;COMP00250543;Item;COMP00250543;Systematic;COMP00250543;;COMP00250543;"AGDP
ENGINEERING
THCI";COMP00250543;;COMP00250543;;COMP00250543;"EUR-SMDDLSVAL-004
EUR-DLSCPDLCGEN-065";COMP00250543;;COMP00250543;;COMP00250543;ATM User;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;More Info Required;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;shadow ESOS;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;SITE_STO_3_0103;COMP00250543;TOUZE Sylvain;COMP00250543;System;COMP00250543;System Site Validation;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;;COMP00250543;25 octobre 2016 18:18:58 GMT+02:00;COMP00250543;;COMP00250543;"=========================
 PCR Description
=========================

AUTHOR / Witnesses    : S.TOUZE (+46 40 613 17 19)

SYSTEM data
 - Rig        : MMTONL Malmoe
 - Dataset        : OS_B329_C64_TDS_W41_2_TatmBck20161011.tgz is available within the following location ""10.99.76.47:/home/system/DATASET""
 - Secto / Role    : Sector F+4 (mmtocwp08svtosv)

TEST data
 - Aems        : N/A
 - Ptg        : N/A

PROBLEM data
 - Save_PB exists    : Traces are available within the following location ""10.99.76.47:/home/system/UTRACE/MMTONL/2016_10_12_am""
 - Recording ""REC_MMTONL_CWP08_20161012_0630To0650.tgz"" is available within the following location ""10.99.76.47:/home/system/PCR/OS1641_024_MMD6875""
 - Typical time    : ""Wed Oct 12 06:44:44 2016"", Issue upon AGDP restarts
 - Typical callsign    : MMD6875
 - Typical FPL    :
                    1- MMD6875 CPDLC connected with a CPDLC dialogue in progress
                    2- AGDP shutdown
                    3- MMD6875 got transfered to the next FIR
                    4- AGDP restarts
                    5- CPDLC connection is lost (Ok) BUT the dialogue remains displayed in the CPDLC current message window and there is NO warning to notify that the CPDLC dialogue failed (Nok)


CONTEXTUAL INFORMATION
---------------------------------

AGDP/ODS CPDLC dialogue management after an AGDP restart


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

1- MMD6875 CPDLC connected with a CPDLC dialogue in progress
2- AGDP shutdown
3- MMD6875 got transfered to the next FIR
4- AGDP restarts at ""Wed Oct 12 06:44:44 2016""
5- CPDLC connection is lost (Ok) BUT the dialogue remains displayed in the CPDLC current message window and there is NO warning to notify that the CPDLC dialogue failed (Nok)


EXPECTED BEHAVIOR
--------------------------

A notification shall be provided that the CPDLC dialogue is failed
=> To check with ODS eligibility. Engineering included in the CSCI component list as eventhough a warning shall be raised, there is no eligibility to remove it from the CPDLC current message window.

OPERATIONAL CONSEQUENCES
-------------------------------------

Unexpected useless dialogue in the CPDLC current message window for a non connected flight in TI or Redundant system state.

WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( x ) /  Not directly perceptible () / Hidden ( )
- Existing Workaround:  Yes ( x ) / No ( )
- Workaround description (if any):

Upon FPL termination, the message is removed automatically.

=============================
 PLAIN TECHNICAL DESCRIPTION
=============================

Malmoe IRF#3_0103[OS1641_024]:
<<
Unable to remove CPDLC message
At ~20161012 06:50 on MMTONL rig
Callsign: MMD6875
Dataset: OS_B329_C64_TDS_W41
Route: GIKAV - INLOG
Sector: F4
SSR: 5010
Unabel to delete  msg in CPDLC current message window. The flight was redundant and the flight in Tampere FIR but the message was left in the dialog.

Pre-analyse:
20161012 07:59 - zk:
Related to reduced mode tests. Known issue? 
Vidar:
TBD

161014 ZK:
CFL is uplinked at 06:40:11 and AGDP shut down at 06:40:25 while dialogue is still open. Neither while the CPDLC is down (ok according to req below) or after when AGDP is back again at 06:44 the uplinked message cannot be removed from the current message window. After AGDP restart, the connection with MMD6875 is correctly lost and not possible to restart since the flight goes redundant. But the uplinked message should have been closed with a warning (last bullet of req below).
The uplinked CPDLC message is removed from the current message window first when the FPL is terminated. 

EUR-SMDDLSVAL-004
Upon restart of the Air-Ground Data Link function (CM/CPDLC Air-Ground Data Link sub-function):
....
- In ATN:
. aircraft data link logged-on before the failure remain logged-on.
. CPDLC connections that were established before the failure are aborted and re-established (if conditions
for establishment are still met).
- the status of the CPDLC dialogues that were pending before the failure are set to
CLOSED_WITH_WARNING (CPDLC dialogue failed).
>>


Analysis:
#########

Issue reproduced today 2016_10_25 on MMTONL rig with SAS92L:
 - Save_PB exists    : Traces are available within the following location ""10.99.76.47:/home/system/UTRACE/MMTONL/2016_10_25_pm""
 - Recording ""REC_MMTONL_CWP07_20161025_1300To1310.tgz"" is available within the following location ""10.99.76.47:/home/system/PCR/OS1641_024_MMD6875""
 - See enclosed print screen:
    * ReproductionCase_BeforeRestart.jpg
    * ReproductionCase_AfterRestart_TI.jpg 
    * ReproductionCase_AfterRestart_Red.jpg 
 
Description:
Callsign: SAS92L
1- FPL is CPDLC connected and a Dialogue is in progress
2- AGDP shutdown while a Dialogue is in progress
3- FPL transfert to ENOS with Close CPDLC dialogue
4- AGDP Back online at ""13:07:16""
5- FPL CPDLC connection is reset and flight appears as logged on BUT CPDLC dialogue remains displayed without ANY warning as the flight is not anymore CPDLC connected (Nok according to SSS req. EUR-SMDDLSVAL-004)

A notification shall be provided that the CPDLC dialogue is failed
=> To check with ODS eligibility. Engineering included in the CSCI component list as eventhough a warning shall be raised,
there is no eligibility to remove it from the CPDLC current message window (ref. to SSS req. EUR-DLSCPDLCGEN-065).";COMP00250543;;COMP00250543
COMP00250570;COMP00250570;COOPANS;COMP00250570;SITE_LFV_3_0102;COMP00250570;NONE;COMP00250570;NONE;COMP00250570;Analysed;COMP00250570;Unexpected vector display on the system track of the member instead of the leader;COMP00250570;Problem Report;COMP00250570;S4;COMP00250570;COOPANS_B3_1_7_4;COMP00250570;TOUZE Sylvain;COMP00250570;;COMP00250570;Item;COMP00250570;Random;COMP00250570;;COMP00250570;THCI;COMP00250570;;COMP00250570;;COMP00250570;CP-OH EUR-GOASDVV;COMP00250570;;COMP00250570;;COMP00250570;ATM User;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;live ESOS;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;SITE_STO_3_0102;COMP00250570;TOUZE Sylvain;COMP00250570;System;COMP00250570;System Exploitation;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;;COMP00250570;26 octobre 2016 12:23:37 GMT+02:00;COMP00250570;;COMP00250570;"=========================
 PCR Description
=========================

AUTHOR / Witnesses    : S.TOUZE (+46 40 613 17 19)

SYSTEM data
 - Rig        : OSONL Malmoe
 - Dataset        : ESOS_ONL_C63_1_TatmBck_20160831.tgz is available within the following location ""10.99.76.47:/home/system/DATASET""
 - Secto / Role    : Sector X (osolcwp15svolsv)

TEST data
 - Aems        : N/A
 - Ptg        : N/A

PROBLEM data
 - Save_PB exists    : Traces are available within the following location ""10.99.76.47:/home/system/UTRACE/OSONL/2016_10_03_am""
 - Recording ""REC_OSONL_CWP15_20161003_0600To0900.tar.bz2"" is available within the following location ""10.99.76.47:/home/system/PCR/ANSDA_47179_UnexpectedVectorAllocationOnFormation""
 - Typical time    : ""Wed Oct 12 06:44:44 2016"", Issue upon AGDP restarts
 - Typical callsign    : MR129+MR88
 - Typical FPL    : Unexpected vector display on the on the its system track of the member instead of the leader


CONTEXTUAL INFORMATION
---------------------------------

THCI velocity vector display


OBSERVED BEHAVIOUR (ACTION / RESULT)
---------------------------------------------------

At ~08:54:40 on a formation with:
* MR129 leader
* MR88 Member

Velocity vector accessed is set:
From MR88 callsign menu to 0
From MR129 callsign menu to 2

As a result:
* On MR88 system track a velocity vector of 2 is displayed (Nok)
* On MR129 system track NO velocity vector of 2 is displayed (Nok)

This is Nok according to CP-OH req. CP-OH EUR-GOASDVV


EXPECTED BEHAVIOR
--------------------------

Velocity vector shall be set on the correct corresponding system track.

OPERATIONAL CONSEQUENCES
-------------------------------------

Issue to manage velocity vector to check if the flight can stay in its TSA.

WEIGHTING FACTORS
--------------------------
- Salience => The problem seemed to you:  Clearly perceptible ( x ) /  Not directly perceptible () / Hidden ( )
- Existing Workaround:  Yes ( x ) / No ( )
- Workaround description (if any):

Re-arrange the formation (invert Member and leader) to correct the behaviour to be able to allocate the correct vector on the system tracks.

=============================
 PLAIN TECHNICAL DESCRIPTION
=============================

Malmoe IRF#3_0102[ANSDA 47179 ]:
<<
Vector not acting correct for a rote
At ~20161003 08:55 on OSONL (osolcwp15svolsv)
OSONL 161003 08:55, CWP 15

MR129 + 88 is a formation flight, both have transponders. I choose the vector of CS Menu on the MR129, but will stick to MR88 instead. If I choose the vector for MR88 it will also be displayed for MR88.
After a while, I change the leader and I try it again for MR88 + 129th Now it will be right, that will stick in the right aircraft.
>>


Analysis:
######

At ~08:54:40 on a formation with:
* MR129 leader
* MR88 Member

Velocity vector accessed is set:
From MR88 callsign menu to 0
From MR129 callsign menu to 2

As a result:
* On MR88 system track a velocity vector of 2 is displayed (Nok)
* On MR129 system track NO velocity vector of 2 is displayed (Nok)

Issue is confirmed in Active Replay

This is Nok according to CP-OH req. CP-OH EUR-GOASDVV (Agreed with Yann MOELO [ODS team])

Enclosed a print screen of the air siuation ""ANSDA_47179_CWP15_WrongVectorOnFormation.jpg""";COMP00250570;;COMP00250570
